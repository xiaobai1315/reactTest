{"version":3,"sources":["../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/tools/build-external-helpers.js"],"names":["exports","__esModule","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","_interopRequireDefault","_generation","require","_generation2","_messages","messages","_util","util","_transformationFile","_transformationFile2","_lodashCollectionEach","_lodashCollectionEach2","_types","t","buildGlobal","namespace","builder","body","container","functionExpression","identifier","blockStatement","tree","program","expressionStatement","callExpression","template","push","variableDeclaration","variableDeclarator","assignmentExpression","memberExpression","objectExpression","buildUmd","FACTORY_PARAMETERS","BROWSER_ARGUMENTS","COMMON_ARGUMENTS","AMD_ARGUMENTS","arrayExpression","literal","FACTORY_BODY","UMD_ROOT","buildVar","buildHelpers","whitelist","helpers","name","indexOf","toIdentifier","outputType","arguments","length","undefined","build","global","umd","Error","get","code","module"],"mappings":"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","file":"build-external-helpers.js","sourcesContent":["/* */ \n\"format cjs\";\n\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _generation = require(\"../generation\");\n\nvar _generation2 = _interopRequireDefault(_generation);\n\nvar _messages = require(\"../messages\");\n\nvar messages = _interopRequireWildcard(_messages);\n\nvar _util = require(\"../util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _transformationFile = require(\"../transformation/file\");\n\nvar _transformationFile2 = _interopRequireDefault(_transformationFile);\n\nvar _lodashCollectionEach = require(\"lodash/collection/each\");\n\nvar _lodashCollectionEach2 = _interopRequireDefault(_lodashCollectionEach);\n\nvar _types = require(\"../types\");\n\nvar t = _interopRequireWildcard(_types);\n\n/**\n * [Please add a description.]\n */\n\nfunction buildGlobal(namespace, builder) {\n  var body = [];\n  var container = t.functionExpression(null, [t.identifier(\"global\")], t.blockStatement(body));\n  var tree = t.program([t.expressionStatement(t.callExpression(container, [util.template(\"helper-self-global\")]))]);\n\n  body.push(t.variableDeclaration(\"var\", [t.variableDeclarator(namespace, t.assignmentExpression(\"=\", t.memberExpression(t.identifier(\"global\"), namespace), t.objectExpression([])))]));\n\n  builder(body);\n\n  return tree;\n}\n\n/**\n * [Please add a description.]\n */\n\nfunction buildUmd(namespace, builder) {\n  var body = [];\n  body.push(t.variableDeclaration(\"var\", [t.variableDeclarator(namespace, t.identifier(\"global\"))]));\n\n  builder(body);\n\n  var container = util.template(\"umd-commonjs-strict\", {\n    FACTORY_PARAMETERS: t.identifier(\"global\"),\n    BROWSER_ARGUMENTS: t.assignmentExpression(\"=\", t.memberExpression(t.identifier(\"root\"), namespace), t.objectExpression({})),\n    COMMON_ARGUMENTS: t.identifier(\"exports\"),\n    AMD_ARGUMENTS: t.arrayExpression([t.literal(\"exports\")]),\n    FACTORY_BODY: body,\n    UMD_ROOT: t.identifier(\"this\")\n  });\n  return t.program([container]);\n}\n\n/**\n * [Please add a description.]\n */\n\nfunction buildVar(namespace, builder) {\n  var body = [];\n  body.push(t.variableDeclaration(\"var\", [t.variableDeclarator(namespace, t.objectExpression({}))]));\n  builder(body);\n  return t.program(body);\n}\n\n/**\n * [Please add a description.]\n */\n\nfunction buildHelpers(body, namespace, whitelist) {\n  _lodashCollectionEach2[\"default\"](_transformationFile2[\"default\"].helpers, function (name) {\n    if (whitelist && whitelist.indexOf(name) === -1) return;\n\n    var key = t.identifier(t.toIdentifier(name));\n    body.push(t.expressionStatement(t.assignmentExpression(\"=\", t.memberExpression(namespace, key), util.template(\"helper-\" + name))));\n  });\n}\n\n/**\n * [Please add a description.]\n */\n\nexports[\"default\"] = function (whitelist) {\n  var outputType = arguments.length <= 1 || arguments[1] === undefined ? \"global\" : arguments[1];\n\n  var namespace = t.identifier(\"babelHelpers\");\n\n  var builder = function builder(body) {\n    return buildHelpers(body, namespace, whitelist);\n  };\n\n  var tree;\n\n  var build = ({\n    global: buildGlobal,\n    umd: buildUmd,\n    \"var\": buildVar\n  })[outputType];\n\n  if (build) {\n    tree = build(namespace, builder);\n  } else {\n    throw new Error(messages.get(\"unsupportedOutputType\", outputType));\n  }\n\n  return _generation2[\"default\"](tree).code;\n};\n\nmodule.exports = exports[\"default\"];"]}