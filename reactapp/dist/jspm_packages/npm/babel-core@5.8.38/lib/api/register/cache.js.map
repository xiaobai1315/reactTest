{"version":3,"sources":["../../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/api/register/cache.js"],"names":["exports","__esModule","save","load","get","_interopRequireDefault","obj","_path","require","_path2","_fs","_fs2","_homeOrTmp","_homeOrTmp2","_pathExists","_pathExists2","FILENAME","process","env","BABEL_CACHE_PATH","join","data","writeFileSync","JSON","stringify","BABEL_DISABLE_CACHE","on","nextTick","sync","parse","readFileSync","err"],"mappings":"AAAA;AACA;AACA;;AAEAA,QAAQC,UAAR,GAAqB,IAArB;AACAD,QAAQE,IAAR,GAAeA,IAAf;AACAF,QAAQG,IAAR,GAAeA,IAAf;AACAH,QAAQI,GAAR,GAAcA,GAAd;AACA;;AAEA,SAASC,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,OAAOA,IAAIL,UAAX,GAAwBK,GAAxB,GAA8B,EAAE,WAAWA,GAAb,EAArC;AAA0D;;AAEjG,IAAIC,QAAQC,QAAQ,MAAR,CAAZ;;AAEA,IAAIC,SAASJ,uBAAuBE,KAAvB,CAAb;;AAEA,IAAIG,MAAMF,QAAQ,IAAR,CAAV;;AAEA,IAAIG,OAAON,uBAAuBK,GAAvB,CAAX;;AAEA,IAAIE,aAAaJ,QAAQ,aAAR,CAAjB;;AAEA,IAAIK,cAAcR,uBAAuBO,UAAvB,CAAlB;;AAEA,IAAIE,cAAcN,QAAQ,aAAR,CAAlB;;AAEA,IAAIO,eAAeV,uBAAuBS,WAAvB,CAAnB;;AAEA,IAAIE,WAAWC,QAAQC,GAAR,CAAYC,gBAAZ,IAAgCV,OAAO,SAAP,EAAkBW,IAAlB,CAAuBP,YAAY,SAAZ,CAAvB,EAA+C,aAA/C,CAA/C;AACA,IAAIQ,OAAO,EAAX;;AAEA;;;;AAIA,SAASnB,IAAT,GAAgB;AACdS,OAAK,SAAL,EAAgBW,aAAhB,CAA8BN,QAA9B,EAAwCO,KAAKC,SAAL,CAAeH,IAAf,EAAqB,IAArB,EAA2B,IAA3B,CAAxC;AACD;;AAED;;;;AAIA,SAASlB,IAAT,GAAgB;AACd,MAAIc,QAAQC,GAAR,CAAYO,mBAAhB,EAAqC;;AAErCR,UAAQS,EAAR,CAAW,MAAX,EAAmBxB,IAAnB;AACAe,UAAQU,QAAR,CAAiBzB,IAAjB;;AAEA,MAAI,CAACa,aAAa,SAAb,EAAwBa,IAAxB,CAA6BZ,QAA7B,CAAL,EAA6C;;AAE7C,MAAI;AACFK,WAAOE,KAAKM,KAAL,CAAWlB,KAAK,SAAL,EAAgBmB,YAAhB,CAA6Bd,QAA7B,CAAX,CAAP;AACD,GAFD,CAEE,OAAOe,GAAP,EAAY;AACZ;AACD;AACF;;AAED;;;;AAIA,SAAS3B,GAAT,GAAe;AACb,SAAOiB,IAAP;AACD","file":"cache.js","sourcesContent":["/* */ \n\"format cjs\";\n\"use strict\";\n\nexports.__esModule = true;\nexports.save = save;\nexports.load = load;\nexports.get = get;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _fs = require(\"fs\");\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _homeOrTmp = require(\"home-or-tmp\");\n\nvar _homeOrTmp2 = _interopRequireDefault(_homeOrTmp);\n\nvar _pathExists = require(\"path-exists\");\n\nvar _pathExists2 = _interopRequireDefault(_pathExists);\n\nvar FILENAME = process.env.BABEL_CACHE_PATH || _path2[\"default\"].join(_homeOrTmp2[\"default\"], \".babel.json\");\nvar data = {};\n\n/**\n * Write stringified cache to disk.\n */\n\nfunction save() {\n  _fs2[\"default\"].writeFileSync(FILENAME, JSON.stringify(data, null, \"  \"));\n}\n\n/**\n * Load cache from disk and parse.\n */\n\nfunction load() {\n  if (process.env.BABEL_DISABLE_CACHE) return;\n\n  process.on(\"exit\", save);\n  process.nextTick(save);\n\n  if (!_pathExists2[\"default\"].sync(FILENAME)) return;\n\n  try {\n    data = JSON.parse(_fs2[\"default\"].readFileSync(FILENAME));\n  } catch (err) {\n    return;\n  }\n}\n\n/**\n * Retrieve data from cache.\n */\n\nfunction get() {\n  return data;\n}"]}