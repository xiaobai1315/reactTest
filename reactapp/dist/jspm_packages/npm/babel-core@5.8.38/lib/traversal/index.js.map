{"version":3,"sources":["../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/traversal/index.js"],"names":["exports","__esModule","traverse","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","_interopRequireDefault","_context","require","_context2","_visitors","visitors","_messages","messages","_lodashCollectionIncludes","_lodashCollectionIncludes2","_types","t","parent","opts","scope","state","parentPath","noScope","type","Error","get","explode","Array","isArray","i","length","node","verify","skipKeys","keys","VISITOR_KEYS","context","_arr","_i","visit","CLEAR_KEYS","COMMENT_KEYS","concat","clearNode","undefined","clearVisitor","exit","removeProperties","tree","hasBlacklistedType","has","skip","hasType","blacklistTypes","blacklist","enter","module"],"mappings":"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","file":"index.js","sourcesContent":["/* */ \n\"format cjs\";\n\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = traverse;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _context = require(\"./context\");\n\nvar _context2 = _interopRequireDefault(_context);\n\nvar _visitors = require(\"./visitors\");\n\nvar visitors = _interopRequireWildcard(_visitors);\n\nvar _messages = require(\"../messages\");\n\nvar messages = _interopRequireWildcard(_messages);\n\nvar _lodashCollectionIncludes = require(\"lodash/collection/includes\");\n\nvar _lodashCollectionIncludes2 = _interopRequireDefault(_lodashCollectionIncludes);\n\nvar _types = require(\"../types\");\n\nvar t = _interopRequireWildcard(_types);\n\n/**\n * [Please add a description.]\n */\n\nfunction traverse(parent, opts, scope, state, parentPath) {\n  if (!parent) return;\n  if (!opts) opts = {};\n\n  if (!opts.noScope && !scope) {\n    if (parent.type !== \"Program\" && parent.type !== \"File\") {\n      throw new Error(messages.get(\"traverseNeedsParent\", parent.type));\n    }\n  }\n\n  visitors.explode(opts);\n\n  // array of nodes\n  if (Array.isArray(parent)) {\n    for (var i = 0; i < parent.length; i++) {\n      traverse.node(parent[i], opts, scope, state, parentPath);\n    }\n  } else {\n    traverse.node(parent, opts, scope, state, parentPath);\n  }\n}\n\ntraverse.visitors = visitors;\ntraverse.verify = visitors.verify;\ntraverse.explode = visitors.explode;\n\n/**\n * [Please add a description.]\n */\n\ntraverse.node = function (node, opts, scope, state, parentPath, skipKeys) {\n  var keys = t.VISITOR_KEYS[node.type];\n  if (!keys) return;\n\n  var context = new _context2[\"default\"](scope, opts, state, parentPath);\n  var _arr = keys;\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var key = _arr[_i];\n    if (skipKeys && skipKeys[key]) continue;\n    if (context.visit(node, key)) return;\n  }\n};\n\n/**\n * [Please add a description.]\n */\n\nvar CLEAR_KEYS = t.COMMENT_KEYS.concat([\"_scopeInfo\", \"_paths\", \"tokens\", \"comments\", \"start\", \"end\", \"loc\", \"raw\", \"rawValue\"]);\n\n/**\n * [Please add a description.]\n */\n\ntraverse.clearNode = function (node) {\n  for (var i = 0; i < CLEAR_KEYS.length; i++) {\n    var key = CLEAR_KEYS[i];\n    if (node[key] != null) node[key] = undefined;\n  }\n};\n\n/**\n * [Please add a description.]\n */\n\nvar clearVisitor = {\n  noScope: true,\n  exit: traverse.clearNode\n};\n\n/**\n * [Please add a description.]\n */\n\ntraverse.removeProperties = function (tree) {\n  traverse(tree, clearVisitor);\n  traverse.clearNode(tree);\n\n  return tree;\n};\n\n/**\n * [Please add a description.]\n */\n\nfunction hasBlacklistedType(node, parent, scope, state) {\n  if (node.type === state.type) {\n    state.has = true;\n    this.skip();\n  }\n}\n\n/**\n * [Please add a description.]\n */\n\ntraverse.hasType = function (tree, scope, type, blacklistTypes) {\n  // the node we're searching in is blacklisted\n  if (_lodashCollectionIncludes2[\"default\"](blacklistTypes, tree.type)) return false;\n\n  // the type we're looking for is the same as the passed node\n  if (tree.type === type) return true;\n\n  var state = {\n    has: false,\n    type: type\n  };\n\n  traverse(tree, {\n    blacklist: blacklistTypes,\n    enter: hasBlacklistedType\n  }, scope, state);\n\n  return state.has;\n};\nmodule.exports = exports[\"default\"];"]}