{"version":3,"sources":["../../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/traversal/scope/binding.js"],"names":["exports","__esModule","_classCallCheck","instance","Constructor","TypeError","Binding","_ref","existing","identifier","scope","path","kind","constantViolations","constant","references","referenced","hasValue","hasDeoptedValue","value","clearValue","concat","prototype","deoptValue","setValue","reassign","push","reference","dereference","module"],"mappings":"AAAA;AACA;AACA;;;;;;;;;;;AAWA;;AAEAA,QAAQC,UAAR,GAAqB,IAArB;AACA;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,oBAAoBC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,IAAIC,UAAW,YAAY;AACzB,WAASA,OAAT,CAAiBC,IAAjB,EAAuB;AACrB,QAAIC,WAAWD,KAAKC,QAApB;AACA,QAAIC,aAAaF,KAAKE,UAAtB;AACA,QAAIC,QAAQH,KAAKG,KAAjB;AACA,QAAIC,OAAOJ,KAAKI,IAAhB;AACA,QAAIC,OAAOL,KAAKK,IAAhB;;AAEAV,oBAAgB,IAAhB,EAAsBI,OAAtB;;AAEA,SAAKO,kBAAL,GAA0B,EAA1B;AACA,SAAKC,QAAL,GAAgB,IAAhB;;AAEA,SAAKL,UAAL,GAAkBA,UAAlB;AACA,SAAKM,UAAL,GAAkB,CAAlB;AACA,SAAKC,UAAL,GAAkB,KAAlB;;AAEA,SAAKN,KAAL,GAAaA,KAAb;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,IAAL,GAAYA,IAAZ;;AAEA,SAAKK,QAAL,GAAgB,KAAhB;AACA,SAAKC,eAAL,GAAuB,KAAvB;AACA,SAAKC,KAAL,GAAa,IAAb;;AAEA,SAAKC,UAAL;;AAEA,QAAIZ,QAAJ,EAAc;AACZ,WAAKK,kBAAL,GAA0B,GAAGQ,MAAH,CAAUb,SAASG,IAAnB,EAAyBH,SAASK,kBAAlC,EAAsD,KAAKA,kBAA3D,CAA1B;AACD;AACF;;AAED;;;;AAIAP,UAAQgB,SAAR,CAAkBC,UAAlB,GAA+B,SAASA,UAAT,GAAsB;AACnD,SAAKH,UAAL;AACA,SAAKF,eAAL,GAAuB,IAAvB;AACD,GAHD;;AAKA;;;;AAIAZ,UAAQgB,SAAR,CAAkBE,QAAlB,GAA6B,SAASA,QAAT,CAAkBL,KAAlB,EAAyB;AACpD,QAAI,KAAKD,eAAT,EAA0B;AAC1B,SAAKD,QAAL,GAAgB,IAAhB;AACA,SAAKE,KAAL,GAAaA,KAAb;AACD,GAJD;;AAMA;;;;AAIAb,UAAQgB,SAAR,CAAkBF,UAAlB,GAA+B,SAASA,UAAT,GAAsB;AACnD,SAAKF,eAAL,GAAuB,KAAvB;AACA,SAAKD,QAAL,GAAgB,KAAhB;AACA,SAAKE,KAAL,GAAa,IAAb;AACD,GAJD;;AAMA;;;;AAIAb,UAAQgB,SAAR,CAAkBG,QAAlB,GAA6B,SAASA,QAAT,CAAkBd,IAAlB,EAAwB;AACnD,SAAKG,QAAL,GAAgB,KAAhB;AACA,SAAKD,kBAAL,CAAwBa,IAAxB,CAA6Bf,IAA7B;AACD,GAHD;;AAKA;;;;AAIAL,UAAQgB,SAAR,CAAkBK,SAAlB,GAA8B,SAASA,SAAT,GAAqB;AACjD,SAAKX,UAAL,GAAkB,IAAlB;AACA,SAAKD,UAAL;AACD,GAHD;;AAKA;;;;AAIAT,UAAQgB,SAAR,CAAkBM,WAAlB,GAAgC,SAASA,WAAT,GAAuB;AACrD,SAAKb,UAAL;AACA,SAAKC,UAAL,GAAkB,CAAC,CAAC,KAAKD,UAAzB;AACD,GAHD;;AAKA,SAAOT,OAAP;AACD,CAzFa,EAAd;;AA2FAN,QAAQ,SAAR,IAAqBM,OAArB;AACAuB,OAAO7B,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"binding.js","sourcesContent":["/* */ \n\"format cjs\";\n/**\n * This class is responsible for a binding inside of a scope.\n *\n * It tracks the following:\n *\n *  * Node path.\n *  * Amount of times referenced by other nodes.\n *  * Paths to nodes that reassign or modify this binding.\n *  * The kind of binding. (Is it a parameter, declaration etc)\n */\n\n\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Binding = (function () {\n  function Binding(_ref) {\n    var existing = _ref.existing;\n    var identifier = _ref.identifier;\n    var scope = _ref.scope;\n    var path = _ref.path;\n    var kind = _ref.kind;\n\n    _classCallCheck(this, Binding);\n\n    this.constantViolations = [];\n    this.constant = true;\n\n    this.identifier = identifier;\n    this.references = 0;\n    this.referenced = false;\n\n    this.scope = scope;\n    this.path = path;\n    this.kind = kind;\n\n    this.hasValue = false;\n    this.hasDeoptedValue = false;\n    this.value = null;\n\n    this.clearValue();\n\n    if (existing) {\n      this.constantViolations = [].concat(existing.path, existing.constantViolations, this.constantViolations);\n    }\n  }\n\n  /**\n   * [Please add a description.]\n   */\n\n  Binding.prototype.deoptValue = function deoptValue() {\n    this.clearValue();\n    this.hasDeoptedValue = true;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Binding.prototype.setValue = function setValue(value) {\n    if (this.hasDeoptedValue) return;\n    this.hasValue = true;\n    this.value = value;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Binding.prototype.clearValue = function clearValue() {\n    this.hasDeoptedValue = false;\n    this.hasValue = false;\n    this.value = null;\n  };\n\n  /**\n   * Register a constant violation with the provided `path`.\n   */\n\n  Binding.prototype.reassign = function reassign(path) {\n    this.constant = false;\n    this.constantViolations.push(path);\n  };\n\n  /**\n   * Increment the amount of references to this binding.\n   */\n\n  Binding.prototype.reference = function reference() {\n    this.referenced = true;\n    this.references++;\n  };\n\n  /**\n   * Decrement the amount of references to this binding.\n   */\n\n  Binding.prototype.dereference = function dereference() {\n    this.references--;\n    this.referenced = !!this.references;\n  };\n\n  return Binding;\n})();\n\nexports[\"default\"] = Binding;\nmodule.exports = exports[\"default\"];"]}