{"version":3,"sources":["../../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/traversal/scope/index.js"],"names":["exports","__esModule","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_interopRequireWildcard","obj","newObj","hasOwnProperty","call","_interopRequireDefault","_classCallCheck","instance","TypeError","_lodashCollectionIncludes","require","_lodashCollectionIncludes2","_repeating","_repeating2","_index","_index2","_lodashObjectDefaults","_lodashObjectDefaults2","_messages","messages","_binding","_binding2","_globals","_globals2","_lodashArrayFlatten","_lodashArrayFlatten2","_lodashObjectExtend","_lodashObjectExtend2","_helpersObject","_helpersObject2","_types","t","collectorVisitor","For","_arr","FOR_INIT_KEYS","_i","declar","get","isVar","scope","getFunctionParent","registerBinding","Declaration","isBlockScoped","isExportDeclaration","isDeclaration","registerDeclaration","ReferencedIdentifier","node","parent","state","references","push","ForXStatement","left","isPattern","isIdentifier","constantViolations","ExportDeclaration","exit","declaration","isClassDeclaration","isFunctionDeclaration","binding","getBinding","id","name","reference","isVariableDeclaration","_arr2","declarations","_i2","decl","ids","getBindingIdentifiers","_name","LabeledStatement","getProgramParent","addGlobal","getBlockParent","AssignmentExpression","assignments","UpdateExpression","UnaryExpression","operator","BlockScoped","path","ClassDeclaration","bindings","Block","paths","_arr3","_i3","bodyPath","renameVisitor","oldName","newName","Scope","bindingIdentifierEquals","skip","AssignmentExpressionDeclaration","block","cached","getData","setData","hub","parentBlock","traverse","opts","generateDeclaredUidIdentifier","arguments","undefined","generateUidIdentifier","identifier","generateUid","toIdentifier","replace","uid","_generateUid","hasBinding","hasGlobal","hasReference","program","uids","generateUidIdentifierBasedOnNode","defaultName","isAssignmentExpression","isVariableDeclarator","isProperty","parts","add","isModuleDeclaration","source","specifiers","_arr4","_i4","specifier","isModuleSpecifier","local","isMemberExpression","object","property","isLiteral","value","isCallExpression","callee","isObjectExpression","isObjectPattern","_arr5","properties","_i5","prop","argument","join","isStatic","isThisExpression","isSuper","constant","maybeGenerateMemoised","dontPush","checkBlockScopedCollisions","kind","duplicate","file","errorWithNode","rename","info","removeOwnBinding","_renameFromMap","moduleFormatter","localImports","map","dump","sep","console","log","type","toArray","isGenericType","isArrayExpression","callExpression","memberExpression","addHelper","helperName","args","literal","isLoose","isLabeledStatement","_arr6","_i6","isImportDeclaration","_arr7","_i7","registerConstantViolation","_name2","reassign","bindingPath","ReferenceError","declarators","_arr8","_i8","_arr9","_i9","getOwnBinding","existing","apply","globals","hasUid","isPure","constantsOnly","isClass","superClass","isBinary","right","_arr10","elements","_i10","elem","_arr11","_i11","computed","val","data","removeData","init","crawl","_scopeInfo","isLoop","_arr12","_i12","isFunctionExpression","has","isClassExpression","isFunction","params","_arr13","_i13","param","isCatchClause","isComprehensionExpression","crawling","_iterator","_isArray","Array","isArray","_i14","Symbol","iterator","_ref","next","done","_path","programParent","_name3","_iterator2","_isArray2","_i15","_ref2","ref","_iterator3","_isArray3","_i16","_ref3","_path2","isSwitchStatement","ensureBlock","isBlockStatement","isProgram","unique","blockHoist","_blockHoist","dataKey","declarPath","variableDeclaration","_generated","attachAuxiliaryComment","_path$unshiftContainer","unshiftContainer","declarator","variableDeclarator","pop","Error","isFunctionParent","isBlockParent","getAllBindings","getAllBindingsOfKind","_arr14","_i17","getBindingIdentifier","getOwnBindingIdentifier","hasOwnBinding","noGlobals","parentHasBinding","contextVariables","moveBindingTo","removeBinding","builtin","browser","keys","module"],"mappings":"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","file":"index.js","sourcesContent":["/* */ \n\"format cjs\";\n\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// istanbul ignore next\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _lodashCollectionIncludes = require(\"lodash/collection/includes\");\n\nvar _lodashCollectionIncludes2 = _interopRequireDefault(_lodashCollectionIncludes);\n\nvar _repeating = require(\"repeating\");\n\nvar _repeating2 = _interopRequireDefault(_repeating);\n\nvar _index = require(\"../index\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _lodashObjectDefaults = require(\"lodash/object/defaults\");\n\nvar _lodashObjectDefaults2 = _interopRequireDefault(_lodashObjectDefaults);\n\nvar _messages = require(\"../../messages\");\n\nvar messages = _interopRequireWildcard(_messages);\n\nvar _binding = require(\"./binding\");\n\nvar _binding2 = _interopRequireDefault(_binding);\n\nvar _globals = require(\"globals\");\n\nvar _globals2 = _interopRequireDefault(_globals);\n\nvar _lodashArrayFlatten = require(\"lodash/array/flatten\");\n\nvar _lodashArrayFlatten2 = _interopRequireDefault(_lodashArrayFlatten);\n\nvar _lodashObjectExtend = require(\"lodash/object/extend\");\n\nvar _lodashObjectExtend2 = _interopRequireDefault(_lodashObjectExtend);\n\nvar _helpersObject = require(\"../../helpers/object\");\n\nvar _helpersObject2 = _interopRequireDefault(_helpersObject);\n\nvar _types = require(\"../../types\");\n\nvar t = _interopRequireWildcard(_types);\n\nvar collectorVisitor = {\n  For: function For() {\n    var _arr = t.FOR_INIT_KEYS;\n\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var key = _arr[_i];\n      var declar = this.get(key);\n      if (declar.isVar()) this.scope.getFunctionParent().registerBinding(\"var\", declar);\n    }\n  },\n\n  Declaration: function Declaration() {\n    // delegate block scope handling to the `blockVariableVisitor`\n    if (this.isBlockScoped()) return;\n\n    // this will be hit again once we traverse into it after this iteration\n    if (this.isExportDeclaration() && this.get(\"declaration\").isDeclaration()) return;\n\n    // we've ran into a declaration!\n    this.scope.getFunctionParent().registerDeclaration(this);\n  },\n\n  ReferencedIdentifier: function ReferencedIdentifier(node, parent, scope, state) {\n    state.references.push(this);\n  },\n\n  ForXStatement: function ForXStatement(node, parent, scope, state) {\n    var left = this.get(\"left\");\n    if (left.isPattern() || left.isIdentifier()) {\n      state.constantViolations.push(left);\n    }\n  },\n\n  ExportDeclaration: {\n    exit: function exit(node, parent, scope) {\n      var declar = node.declaration;\n      if (t.isClassDeclaration(declar) || t.isFunctionDeclaration(declar)) {\n        var binding = scope.getBinding(declar.id.name);\n        if (binding) binding.reference();\n      } else if (t.isVariableDeclaration(declar)) {\n        var _arr2 = declar.declarations;\n\n        for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n          var decl = _arr2[_i2];\n          var ids = t.getBindingIdentifiers(decl);\n          for (var _name in ids) {\n            var binding = scope.getBinding(_name);\n            if (binding) binding.reference();\n          }\n        }\n      }\n    }\n  },\n\n  LabeledStatement: function LabeledStatement() {\n    this.scope.getProgramParent().addGlobal(this.node);\n    this.scope.getBlockParent().registerDeclaration(this);\n  },\n\n  AssignmentExpression: function AssignmentExpression(node, parent, scope, state) {\n    state.assignments.push(this);\n  },\n\n  UpdateExpression: function UpdateExpression(node, parent, scope, state) {\n    state.constantViolations.push(this.get(\"argument\"));\n  },\n\n  UnaryExpression: function UnaryExpression(node, parent, scope, state) {\n    if (this.node.operator === \"delete\") {\n      state.constantViolations.push(this.get(\"argument\"));\n    }\n  },\n\n  BlockScoped: function BlockScoped() {\n    var scope = this.scope;\n    if (scope.path === this) scope = scope.parent;\n    scope.getBlockParent().registerDeclaration(this);\n  },\n\n  ClassDeclaration: function ClassDeclaration() {\n    var name = this.node.id.name;\n    this.scope.bindings[name] = this.scope.getBinding(name);\n  },\n\n  Block: function Block() {\n    var paths = this.get(\"body\");\n    var _arr3 = paths;\n    for (var _i3 = 0; _i3 < _arr3.length; _i3++) {\n      var bodyPath = _arr3[_i3];\n      if (bodyPath.isFunctionDeclaration()) {\n        this.scope.getBlockParent().registerDeclaration(bodyPath);\n      }\n    }\n  }\n};\n\n/**\n * [Please add a description.]\n */\n\nvar renameVisitor = {\n\n  /**\n   * [Please add a description.]\n   */\n\n  ReferencedIdentifier: function ReferencedIdentifier(node, parent, scope, state) {\n    if (node.name === state.oldName) {\n      node.name = state.newName;\n    }\n  },\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope: function Scope(node, parent, scope, state) {\n    if (!scope.bindingIdentifierEquals(state.oldName, state.binding)) {\n      this.skip();\n    }\n  },\n\n  \"AssignmentExpression|Declaration\": function AssignmentExpressionDeclaration(node, parent, scope, state) {\n    var ids = this.getBindingIdentifiers();\n\n    for (var name in ids) {\n      if (name === state.oldName) ids[name].name = state.newName;\n    }\n  }\n};\n\n/**\n * [Please add a description.]\n */\n\nvar Scope = (function () {\n\n  /**\n   * This searches the current \"scope\" and collects all references/bindings\n   * within.\n   */\n\n  function Scope(path, parent) {\n    _classCallCheck(this, Scope);\n\n    if (parent && parent.block === path.node) {\n      return parent;\n    }\n\n    var cached = path.getData(\"scope\");\n    if (cached && cached.parent === parent && cached.block === path.node) {\n      return cached;\n    } else {\n      path.setData(\"scope\", this);\n    }\n\n    this.parent = parent;\n    this.hub = path.hub;\n\n    this.parentBlock = path.parent;\n    this.block = path.node;\n    this.path = path;\n  }\n\n  /**\n   * Globals.\n   */\n\n  /**\n   * Traverse node with current scope and path.\n   */\n\n  Scope.prototype.traverse = function traverse(node, opts, state) {\n    _index2[\"default\"](node, opts, this, state, this.path);\n  };\n\n  /**\n   * Generate a unique identifier and add it to the current scope.\n   */\n\n  Scope.prototype.generateDeclaredUidIdentifier = function generateDeclaredUidIdentifier() {\n    var name = arguments.length <= 0 || arguments[0] === undefined ? \"temp\" : arguments[0];\n\n    var id = this.generateUidIdentifier(name);\n    this.push({ id: id });\n    return id;\n  };\n\n  /**\n   * Generate a unique identifier.\n   */\n\n  Scope.prototype.generateUidIdentifier = function generateUidIdentifier(name) {\n    return t.identifier(this.generateUid(name));\n  };\n\n  /**\n   * Generate a unique `_id1` binding.\n   */\n\n  Scope.prototype.generateUid = function generateUid(name) {\n    name = t.toIdentifier(name).replace(/^_+/, \"\");\n\n    var uid;\n    var i = 0;\n    do {\n      uid = this._generateUid(name, i);\n      i++;\n    } while (this.hasBinding(uid) || this.hasGlobal(uid) || this.hasReference(uid));\n\n    var program = this.getProgramParent();\n    program.references[uid] = true;\n    program.uids[uid] = true;\n\n    return uid;\n  };\n\n  /**\n   * Generate an `_id1`.\n   */\n\n  Scope.prototype._generateUid = function _generateUid(name, i) {\n    var id = name;\n    if (i > 1) id += i;\n    return \"_\" + id;\n  };\n\n  /**\n   * Generate a unique identifier based on a node.\n   */\n\n  Scope.prototype.generateUidIdentifierBasedOnNode = function generateUidIdentifierBasedOnNode(parent, defaultName) {\n    var node = parent;\n\n    if (t.isAssignmentExpression(parent)) {\n      node = parent.left;\n    } else if (t.isVariableDeclarator(parent)) {\n      node = parent.id;\n    } else if (t.isProperty(node)) {\n      node = node.key;\n    }\n\n    var parts = [];\n\n    var add = function add(node) {\n      if (t.isModuleDeclaration(node)) {\n        if (node.source) {\n          add(node.source);\n        } else if (node.specifiers && node.specifiers.length) {\n          var _arr4 = node.specifiers;\n\n          for (var _i4 = 0; _i4 < _arr4.length; _i4++) {\n            var specifier = _arr4[_i4];\n            add(specifier);\n          }\n        } else if (node.declaration) {\n          add(node.declaration);\n        }\n      } else if (t.isModuleSpecifier(node)) {\n        add(node.local);\n      } else if (t.isMemberExpression(node)) {\n        add(node.object);\n        add(node.property);\n      } else if (t.isIdentifier(node)) {\n        parts.push(node.name);\n      } else if (t.isLiteral(node)) {\n        parts.push(node.value);\n      } else if (t.isCallExpression(node)) {\n        add(node.callee);\n      } else if (t.isObjectExpression(node) || t.isObjectPattern(node)) {\n        var _arr5 = node.properties;\n\n        for (var _i5 = 0; _i5 < _arr5.length; _i5++) {\n          var prop = _arr5[_i5];\n          add(prop.key || prop.argument);\n        }\n      }\n    };\n\n    add(node);\n\n    var id = parts.join(\"$\");\n    id = id.replace(/^_/, \"\") || defaultName || \"ref\";\n\n    return this.generateUidIdentifier(id);\n  };\n\n  /**\n   * Determine whether evaluating the specific input `node` is a consequenceless reference. ie.\n   * evaluating it wont result in potentially arbitrary code from being ran. The following are\n   * whitelisted and determined not to cause side effects:\n   *\n   *  - `this` expressions\n   *  - `super` expressions\n   *  - Bound identifiers\n   */\n\n  Scope.prototype.isStatic = function isStatic(node) {\n    if (t.isThisExpression(node) || t.isSuper(node)) {\n      return true;\n    }\n\n    if (t.isIdentifier(node)) {\n      var binding = this.getBinding(node.name);\n      if (binding) {\n        return binding.constant;\n      } else {\n        return this.hasBinding(node.name);\n      }\n    }\n\n    return false;\n  };\n\n  /**\n   * Possibly generate a memoised identifier if it is not static and has consequences.\n   */\n\n  Scope.prototype.maybeGenerateMemoised = function maybeGenerateMemoised(node, dontPush) {\n    if (this.isStatic(node)) {\n      return null;\n    } else {\n      var id = this.generateUidIdentifierBasedOnNode(node);\n      if (!dontPush) this.push({ id: id });\n      return id;\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.checkBlockScopedCollisions = function checkBlockScopedCollisions(local, kind, name, id) {\n    // ignore parameters\n    if (kind === \"param\") return;\n\n    // ignore hoisted functions if there's also a local let\n    if (kind === \"hoisted\" && local.kind === \"let\") return;\n\n    var duplicate = false;\n\n    // don't allow duplicate bindings to exist alongside\n    if (!duplicate) duplicate = kind === \"let\" || local.kind === \"let\" || local.kind === \"const\" || local.kind === \"module\";\n\n    // don't allow a local of param with a kind of let\n    if (!duplicate) duplicate = local.kind === \"param\" && (kind === \"let\" || kind === \"const\");\n\n    if (duplicate) {\n      throw this.hub.file.errorWithNode(id, messages.get(\"scopeDuplicateDeclaration\", name), TypeError);\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.rename = function rename(oldName, newName, block) {\n    newName = newName || this.generateUidIdentifier(oldName).name;\n\n    var info = this.getBinding(oldName);\n    if (!info) return;\n\n    var state = {\n      newName: newName,\n      oldName: oldName,\n      binding: info.identifier,\n      info: info\n    };\n\n    var scope = info.scope;\n    scope.traverse(block || scope.block, renameVisitor, state);\n\n    if (!block) {\n      scope.removeOwnBinding(oldName);\n      scope.bindings[newName] = info;\n      state.binding.name = newName;\n    }\n\n    var file = this.hub.file;\n    if (file) {\n      this._renameFromMap(file.moduleFormatter.localImports, oldName, newName, state.binding);\n      //this._renameFromMap(file.moduleFormatter.localExports, oldName, newName);\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype._renameFromMap = function _renameFromMap(map, oldName, newName, value) {\n    if (map[oldName]) {\n      map[newName] = value;\n      map[oldName] = null;\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.dump = function dump() {\n    var sep = _repeating2[\"default\"](\"-\", 60);\n    console.log(sep);\n    var scope = this;\n    do {\n      console.log(\"#\", scope.block.type);\n      for (var name in scope.bindings) {\n        var binding = scope.bindings[name];\n        console.log(\" -\", name, {\n          constant: binding.constant,\n          references: binding.references,\n          kind: binding.kind\n        });\n      }\n    } while (scope = scope.parent);\n    console.log(sep);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.toArray = function toArray(node, i) {\n    var file = this.hub.file;\n\n    if (t.isIdentifier(node)) {\n      var binding = this.getBinding(node.name);\n      if (binding && binding.constant && binding.path.isGenericType(\"Array\")) return node;\n    }\n\n    if (t.isArrayExpression(node)) {\n      return node;\n    }\n\n    if (t.isIdentifier(node, { name: \"arguments\" })) {\n      return t.callExpression(t.memberExpression(file.addHelper(\"slice\"), t.identifier(\"call\")), [node]);\n    }\n\n    var helperName = \"to-array\";\n    var args = [node];\n    if (i === true) {\n      helperName = \"to-consumable-array\";\n    } else if (i) {\n      args.push(t.literal(i));\n      helperName = \"sliced-to-array\";\n      if (this.hub.file.isLoose(\"es6.forOf\")) helperName += \"-loose\";\n    }\n    return t.callExpression(file.addHelper(helperName), args);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.registerDeclaration = function registerDeclaration(path) {\n    if (path.isLabeledStatement()) {\n      this.registerBinding(\"label\", path);\n    } else if (path.isFunctionDeclaration()) {\n      this.registerBinding(\"hoisted\", path.get(\"id\"), path);\n    } else if (path.isVariableDeclaration()) {\n      var declarations = path.get(\"declarations\");\n      var _arr6 = declarations;\n      for (var _i6 = 0; _i6 < _arr6.length; _i6++) {\n        var declar = _arr6[_i6];\n        this.registerBinding(path.node.kind, declar);\n      }\n    } else if (path.isClassDeclaration()) {\n      this.registerBinding(\"let\", path);\n    } else if (path.isImportDeclaration()) {\n      var specifiers = path.get(\"specifiers\");\n      var _arr7 = specifiers;\n      for (var _i7 = 0; _i7 < _arr7.length; _i7++) {\n        var specifier = _arr7[_i7];\n        this.registerBinding(\"module\", specifier);\n      }\n    } else if (path.isExportDeclaration()) {\n      var declar = path.get(\"declaration\");\n      if (declar.isClassDeclaration() || declar.isFunctionDeclaration() || declar.isVariableDeclaration()) {\n        this.registerDeclaration(declar);\n      }\n    } else {\n      this.registerBinding(\"unknown\", path);\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.registerConstantViolation = function registerConstantViolation(path) {\n    var ids = path.getBindingIdentifiers();\n    for (var _name2 in ids) {\n      var binding = this.getBinding(_name2);\n      if (binding) binding.reassign(path);\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.registerBinding = function registerBinding(kind, path) {\n    var bindingPath = arguments.length <= 2 || arguments[2] === undefined ? path : arguments[2];\n    return (function () {\n      if (!kind) throw new ReferenceError(\"no `kind`\");\n\n      if (path.isVariableDeclaration()) {\n        var declarators = path.get(\"declarations\");\n        var _arr8 = declarators;\n        for (var _i8 = 0; _i8 < _arr8.length; _i8++) {\n          var declar = _arr8[_i8];\n          this.registerBinding(kind, declar);\n        }\n        return;\n      }\n\n      var parent = this.getProgramParent();\n      var ids = path.getBindingIdentifiers(true);\n\n      for (var name in ids) {\n        var _arr9 = ids[name];\n\n        for (var _i9 = 0; _i9 < _arr9.length; _i9++) {\n          var id = _arr9[_i9];\n          var local = this.getOwnBinding(name);\n          if (local) {\n            // same identifier so continue safely as we're likely trying to register it\n            // multiple times\n            if (local.identifier === id) continue;\n\n            this.checkBlockScopedCollisions(local, kind, name, id);\n          }\n\n          parent.references[name] = true;\n\n          this.bindings[name] = new _binding2[\"default\"]({\n            identifier: id,\n            existing: local,\n            scope: this,\n            path: bindingPath,\n            kind: kind\n          });\n        }\n      }\n    }).apply(this, arguments);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.addGlobal = function addGlobal(node) {\n    this.globals[node.name] = node;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.hasUid = function hasUid(name) {\n    var scope = this;\n\n    do {\n      if (scope.uids[name]) return true;\n    } while (scope = scope.parent);\n\n    return false;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.hasGlobal = function hasGlobal(name) {\n    var scope = this;\n\n    do {\n      if (scope.globals[name]) return true;\n    } while (scope = scope.parent);\n\n    return false;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.hasReference = function hasReference(name) {\n    var scope = this;\n\n    do {\n      if (scope.references[name]) return true;\n    } while (scope = scope.parent);\n\n    return false;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.isPure = function isPure(node, constantsOnly) {\n    if (t.isIdentifier(node)) {\n      var binding = this.getBinding(node.name);\n      if (!binding) return false;\n      if (constantsOnly) return binding.constant;\n      return true;\n    } else if (t.isClass(node)) {\n      return !node.superClass || this.isPure(node.superClass, constantsOnly);\n    } else if (t.isBinary(node)) {\n      return this.isPure(node.left, constantsOnly) && this.isPure(node.right, constantsOnly);\n    } else if (t.isArrayExpression(node)) {\n      var _arr10 = node.elements;\n\n      for (var _i10 = 0; _i10 < _arr10.length; _i10++) {\n        var elem = _arr10[_i10];\n        if (!this.isPure(elem, constantsOnly)) return false;\n      }\n      return true;\n    } else if (t.isObjectExpression(node)) {\n      var _arr11 = node.properties;\n\n      for (var _i11 = 0; _i11 < _arr11.length; _i11++) {\n        var prop = _arr11[_i11];\n        if (!this.isPure(prop, constantsOnly)) return false;\n      }\n      return true;\n    } else if (t.isProperty(node)) {\n      if (node.computed && !this.isPure(node.key, constantsOnly)) return false;\n      return this.isPure(node.value, constantsOnly);\n    } else {\n      return t.isPure(node);\n    }\n  };\n\n  /**\n   * Set some arbitrary data on the current scope.\n   */\n\n  Scope.prototype.setData = function setData(key, val) {\n    return this.data[key] = val;\n  };\n\n  /**\n   * Recursively walk up scope tree looking for the data `key`.\n   */\n\n  Scope.prototype.getData = function getData(key) {\n    var scope = this;\n    do {\n      var data = scope.data[key];\n      if (data != null) return data;\n    } while (scope = scope.parent);\n  };\n\n  /**\n   * Recursively walk up scope tree looking for the data `key` and if it exists,\n   * remove it.\n   */\n\n  Scope.prototype.removeData = function removeData(key) {\n    var scope = this;\n    do {\n      var data = scope.data[key];\n      if (data != null) scope.data[key] = null;\n    } while (scope = scope.parent);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.init = function init() {\n    if (!this.references) this.crawl();\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.crawl = function crawl() {\n    var path = this.path;\n\n    //\n\n    var info = this.block._scopeInfo;\n    if (info) return _lodashObjectExtend2[\"default\"](this, info);\n\n    info = this.block._scopeInfo = {\n      references: _helpersObject2[\"default\"](),\n      bindings: _helpersObject2[\"default\"](),\n      globals: _helpersObject2[\"default\"](),\n      uids: _helpersObject2[\"default\"](),\n      data: _helpersObject2[\"default\"]()\n    };\n\n    _lodashObjectExtend2[\"default\"](this, info);\n\n    // ForStatement - left, init\n\n    if (path.isLoop()) {\n      var _arr12 = t.FOR_INIT_KEYS;\n\n      for (var _i12 = 0; _i12 < _arr12.length; _i12++) {\n        var key = _arr12[_i12];\n        var node = path.get(key);\n        if (node.isBlockScoped()) this.registerBinding(node.node.kind, node);\n      }\n    }\n\n    // FunctionExpression - id\n\n    if (path.isFunctionExpression() && path.has(\"id\")) {\n      this.registerBinding(\"local\", path.get(\"id\"), path);\n    }\n\n    // Class\n\n    if (path.isClassExpression() && path.has(\"id\")) {\n      this.registerBinding(\"local\", path);\n    }\n\n    // Function - params, rest\n\n    if (path.isFunction()) {\n      var params = path.get(\"params\");\n      var _arr13 = params;\n      for (var _i13 = 0; _i13 < _arr13.length; _i13++) {\n        var param = _arr13[_i13];\n        this.registerBinding(\"param\", param);\n      }\n    }\n\n    // CatchClause - param\n\n    if (path.isCatchClause()) {\n      this.registerBinding(\"let\", path);\n    }\n\n    // ComprehensionExpression - blocks\n\n    if (path.isComprehensionExpression()) {\n      this.registerBinding(\"let\", path);\n    }\n\n    // Program\n\n    var parent = this.getProgramParent();\n    if (parent.crawling) return;\n\n    var state = {\n      references: [],\n      constantViolations: [],\n      assignments: []\n    };\n\n    this.crawling = true;\n    path.traverse(collectorVisitor, state);\n    this.crawling = false;\n\n    // register assignments\n    for (var _iterator = state.assignments, _isArray = Array.isArray(_iterator), _i14 = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i14 >= _iterator.length) break;\n        _ref = _iterator[_i14++];\n      } else {\n        _i14 = _iterator.next();\n        if (_i14.done) break;\n        _ref = _i14.value;\n      }\n\n      var _path = _ref;\n\n      // register undeclared bindings as globals\n      var ids = _path.getBindingIdentifiers();\n      var programParent = undefined;\n      for (var _name3 in ids) {\n        if (_path.scope.getBinding(_name3)) continue;\n\n        programParent = programParent || _path.scope.getProgramParent();\n        programParent.addGlobal(ids[_name3]);\n      }\n\n      // register as constant violation\n      _path.scope.registerConstantViolation(_path);\n    }\n\n    // register references\n    for (var _iterator2 = state.references, _isArray2 = Array.isArray(_iterator2), _i15 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i15 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i15++];\n      } else {\n        _i15 = _iterator2.next();\n        if (_i15.done) break;\n        _ref2 = _i15.value;\n      }\n\n      var ref = _ref2;\n\n      var binding = ref.scope.getBinding(ref.node.name);\n      if (binding) {\n        binding.reference(ref);\n      } else {\n        ref.scope.getProgramParent().addGlobal(ref.node);\n      }\n    }\n\n    // register constant violations\n    for (var _iterator3 = state.constantViolations, _isArray3 = Array.isArray(_iterator3), _i16 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i16 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i16++];\n      } else {\n        _i16 = _iterator3.next();\n        if (_i16.done) break;\n        _ref3 = _i16.value;\n      }\n\n      var _path2 = _ref3;\n\n      _path2.scope.registerConstantViolation(_path2);\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.push = function push(opts) {\n    var path = this.path;\n\n    if (path.isSwitchStatement()) {\n      path = this.getFunctionParent().path;\n    }\n\n    if (path.isLoop() || path.isCatchClause() || path.isFunction()) {\n      t.ensureBlock(path.node);\n      path = path.get(\"body\");\n    }\n\n    if (!path.isBlockStatement() && !path.isProgram()) {\n      path = this.getBlockParent().path;\n    }\n\n    var unique = opts.unique;\n    var kind = opts.kind || \"var\";\n    var blockHoist = opts._blockHoist == null ? 2 : opts._blockHoist;\n\n    var dataKey = \"declaration:\" + kind + \":\" + blockHoist;\n    var declarPath = !unique && path.getData(dataKey);\n\n    if (!declarPath) {\n      var declar = t.variableDeclaration(kind, []);\n      declar._generated = true;\n      declar._blockHoist = blockHoist;\n\n      this.hub.file.attachAuxiliaryComment(declar);\n\n      var _path$unshiftContainer = path.unshiftContainer(\"body\", [declar]);\n\n      declarPath = _path$unshiftContainer[0];\n\n      if (!unique) path.setData(dataKey, declarPath);\n    }\n\n    var declarator = t.variableDeclarator(opts.id, opts.init);\n    declarPath.node.declarations.push(declarator);\n    this.registerBinding(kind, declarPath.get(\"declarations\").pop());\n  };\n\n  /**\n   * Walk up to the top of the scope tree and get the `Program`.\n   */\n\n  Scope.prototype.getProgramParent = function getProgramParent() {\n    var scope = this;\n    do {\n      if (scope.path.isProgram()) {\n        return scope;\n      }\n    } while (scope = scope.parent);\n    throw new Error(\"We couldn't find a Function or Program...\");\n  };\n\n  /**\n   * Walk up the scope tree until we hit either a Function or reach the\n   * very top and hit Program.\n   */\n\n  Scope.prototype.getFunctionParent = function getFunctionParent() {\n    var scope = this;\n    do {\n      if (scope.path.isFunctionParent()) {\n        return scope;\n      }\n    } while (scope = scope.parent);\n    throw new Error(\"We couldn't find a Function or Program...\");\n  };\n\n  /**\n   * Walk up the scope tree until we hit either a BlockStatement/Loop/Program/Function/Switch or reach the\n   * very top and hit Program.\n   */\n\n  Scope.prototype.getBlockParent = function getBlockParent() {\n    var scope = this;\n    do {\n      if (scope.path.isBlockParent()) {\n        return scope;\n      }\n    } while (scope = scope.parent);\n    throw new Error(\"We couldn't find a BlockStatement, For, Switch, Function, Loop or Program...\");\n  };\n\n  /**\n   * Walks the scope tree and gathers **all** bindings.\n   */\n\n  Scope.prototype.getAllBindings = function getAllBindings() {\n    var ids = _helpersObject2[\"default\"]();\n\n    var scope = this;\n    do {\n      _lodashObjectDefaults2[\"default\"](ids, scope.bindings);\n      scope = scope.parent;\n    } while (scope);\n\n    return ids;\n  };\n\n  /**\n   * Walks the scope tree and gathers all declarations of `kind`.\n   */\n\n  Scope.prototype.getAllBindingsOfKind = function getAllBindingsOfKind() {\n    var ids = _helpersObject2[\"default\"]();\n\n    var _arr14 = arguments;\n    for (var _i17 = 0; _i17 < _arr14.length; _i17++) {\n      var kind = _arr14[_i17];\n      var scope = this;\n      do {\n        for (var name in scope.bindings) {\n          var binding = scope.bindings[name];\n          if (binding.kind === kind) ids[name] = binding;\n        }\n        scope = scope.parent;\n      } while (scope);\n    }\n\n    return ids;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.bindingIdentifierEquals = function bindingIdentifierEquals(name, node) {\n    return this.getBindingIdentifier(name) === node;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.getBinding = function getBinding(name) {\n    var scope = this;\n\n    do {\n      var binding = scope.getOwnBinding(name);\n      if (binding) return binding;\n    } while (scope = scope.parent);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.getOwnBinding = function getOwnBinding(name) {\n    return this.bindings[name];\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.getBindingIdentifier = function getBindingIdentifier(name) {\n    var info = this.getBinding(name);\n    return info && info.identifier;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.getOwnBindingIdentifier = function getOwnBindingIdentifier(name) {\n    var binding = this.bindings[name];\n    return binding && binding.identifier;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.hasOwnBinding = function hasOwnBinding(name) {\n    return !!this.getOwnBinding(name);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.hasBinding = function hasBinding(name, noGlobals) {\n    if (!name) return false;\n    if (this.hasOwnBinding(name)) return true;\n    if (this.parentHasBinding(name, noGlobals)) return true;\n    if (this.hasUid(name)) return true;\n    if (!noGlobals && _lodashCollectionIncludes2[\"default\"](Scope.globals, name)) return true;\n    if (!noGlobals && _lodashCollectionIncludes2[\"default\"](Scope.contextVariables, name)) return true;\n    return false;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.parentHasBinding = function parentHasBinding(name, noGlobals) {\n    return this.parent && this.parent.hasBinding(name, noGlobals);\n  };\n\n  /**\n   * Move a binding of `name` to another `scope`.\n   */\n\n  Scope.prototype.moveBindingTo = function moveBindingTo(name, scope) {\n    var info = this.getBinding(name);\n    if (info) {\n      info.scope.removeOwnBinding(name);\n      info.scope = scope;\n      scope.bindings[name] = info;\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.removeOwnBinding = function removeOwnBinding(name) {\n    delete this.bindings[name];\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  Scope.prototype.removeBinding = function removeBinding(name) {\n    // clear literal binding\n    var info = this.getBinding(name);\n    if (info) {\n      info.scope.removeOwnBinding(name);\n    }\n\n    // clear uids with this name - https://github.com/babel/babel/issues/2101\n    var scope = this;\n    do {\n      if (scope.uids[name]) {\n        scope.uids[name] = false;\n      }\n    } while (scope = scope.parent);\n  };\n\n  _createClass(Scope, null, [{\n    key: \"globals\",\n    value: _lodashArrayFlatten2[\"default\"]([_globals2[\"default\"].builtin, _globals2[\"default\"].browser, _globals2[\"default\"].node].map(Object.keys)),\n\n    /**\n     * Variables available in current context.\n     */\n\n    enumerable: true\n  }, {\n    key: \"contextVariables\",\n    value: [\"arguments\", \"undefined\", \"Infinity\", \"NaN\"],\n    enumerable: true\n  }]);\n\n  return Scope;\n})();\n\nexports[\"default\"] = Scope;\nmodule.exports = exports[\"default\"];"]}