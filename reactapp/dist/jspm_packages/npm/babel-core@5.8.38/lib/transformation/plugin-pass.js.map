{"version":3,"sources":["../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/transformation/plugin-pass.js"],"names":["exports","__esModule","_interopRequireDefault","obj","_classCallCheck","instance","Constructor","TypeError","_traversal","require","_traversal2","PluginPass","file","plugin","key","canTransform","metadata","experimental","opts","log","warn","prototype","transformerDependencies","pipeline","transform","debug","ast","visitor","scope","module"],"mappings":"AAAA;AACA;;AAGA;;;;;AAKA;;AAEAA,QAAQC,UAAR,GAAqB,IAArB;AACA;;AAEA,SAASC,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,OAAOA,IAAIF,UAAX,GAAwBE,GAAxB,GAA8B,EAAE,WAAWA,GAAb,EAArC;AAA0D;;AAEjG;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,MAAI,EAAED,oBAAoBC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,IAAIC,aAAaC,QAAQ,cAAR,CAAjB;;AAEA,IAAIC,cAAcR,uBAAuBM,UAAvB,CAAlB;;AAEA,IAAIG,aAAc,YAAY;AAC5B,WAASA,UAAT,CAAoBC,IAApB,EAA0BC,MAA1B,EAAkC;AAChCT,oBAAgB,IAAhB,EAAsBO,UAAtB;;AAEA,SAAKE,MAAL,GAAcA,MAAd;AACA,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKE,GAAL,GAAWD,OAAOC,GAAlB;;AAEA,QAAI,KAAKC,YAAL,MAAuBF,OAAOG,QAAP,CAAgBC,YAAvC,IAAuD,CAACL,KAAKM,IAAL,CAAUD,YAAtE,EAAoF;AAClFL,WAAKO,GAAL,CAASC,IAAT,CAAc,qBAAqB,KAAKN,GAA1B,GAAgC,qEAAhC,GAAwG,sFAAxG,GAAiM,+CAA/M;AACD;AACF;;AAED;;;;AAIAH,aAAWU,SAAX,CAAqBN,YAArB,GAAoC,SAASA,YAAT,GAAwB;AAC1D,WAAO,KAAKH,IAAL,CAAUU,uBAAV,CAAkC,KAAKR,GAAvC,KAA+C,KAAKF,IAAL,CAAUW,QAAV,CAAmBR,YAAnB,CAAgC,KAAKF,MAArC,EAA6C,KAAKD,IAAL,CAAUM,IAAvD,CAAtD;AACD,GAFD;;AAIA;;;;AAIAP,aAAWU,SAAX,CAAqBG,SAArB,GAAiC,SAASA,SAAT,GAAqB;AACpD,QAAIZ,OAAO,KAAKA,IAAhB;AACAA,SAAKO,GAAL,CAASM,KAAT,CAAe,uBAAuB,KAAKX,GAA3C;AACAJ,gBAAY,SAAZ,EAAuBE,KAAKc,GAA5B,EAAiC,KAAKb,MAAL,CAAYc,OAA7C,EAAsDf,KAAKgB,KAA3D,EAAkEhB,IAAlE;AACAA,SAAKO,GAAL,CAASM,KAAT,CAAe,wBAAwB,KAAKX,GAA5C;AACD,GALD;;AAOA,SAAOH,UAAP;AACD,CAjCgB,EAAjB;;AAmCAX,QAAQ,SAAR,IAAqBW,UAArB;AACAkB,OAAO7B,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"plugin-pass.js","sourcesContent":["/* */ \n\"format cjs\";\n\n\n/**\n * This class is responsible for traversing over the provided `File`s\n * AST and running it's parent transformers handlers over it.\n */\n\n\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// istanbul ignore next\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _traversal = require(\"../traversal\");\n\nvar _traversal2 = _interopRequireDefault(_traversal);\n\nvar PluginPass = (function () {\n  function PluginPass(file, plugin) {\n    _classCallCheck(this, PluginPass);\n\n    this.plugin = plugin;\n    this.file = file;\n    this.key = plugin.key;\n\n    if (this.canTransform() && plugin.metadata.experimental && !file.opts.experimental) {\n      file.log.warn(\"THE TRANSFORMER \" + this.key + \" HAS BEEN MARKED AS EXPERIMENTAL AND IS WIP. USE AT YOUR OWN RISK. \" + \"THIS WILL HIGHLY LIKELY BREAK YOUR CODE SO USE WITH **EXTREME** CAUTION. ENABLE THE \" + \"`experimental` OPTION TO IGNORE THIS WARNING.\");\n    }\n  }\n\n  /**\n  * [Please add a description.]\n  */\n\n  PluginPass.prototype.canTransform = function canTransform() {\n    return this.file.transformerDependencies[this.key] || this.file.pipeline.canTransform(this.plugin, this.file.opts);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  PluginPass.prototype.transform = function transform() {\n    var file = this.file;\n    file.log.debug(\"Start transformer \" + this.key);\n    _traversal2[\"default\"](file.ast, this.plugin.visitor, file.scope, file);\n    file.log.debug(\"Finish transformer \" + this.key);\n  };\n\n  return PluginPass;\n})();\n\nexports[\"default\"] = PluginPass;\nmodule.exports = exports[\"default\"];"]}