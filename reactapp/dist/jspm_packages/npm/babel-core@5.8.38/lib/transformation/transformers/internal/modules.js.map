{"version":3,"sources":["../../../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/transformation/transformers/internal/modules.js"],"names":["exports","__esModule","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","_types","require","t","getDeclar","node","declar","declaration","inheritsComments","removeComments","_ignoreUserWhitespace","buildExportSpecifier","id","exportSpecifier","cloneIdentifier","_ref","name","loc","identifier","_loc","metadata","group","visitor","ExportDefaultDeclaration","parent","scope","isClassDeclaration","nodes","isClassExpression","temp","generateUidIdentifier","variableDeclaration","variableDeclarator","isFunctionDeclaration","_blockHoist","ExportNamedDeclaration","specifiers","newExport","exportNamedDeclaration","isVariableDeclaration","bindings","get","getBindingIdentifiers","push","Program","enter","imports","rest","i","body","length","bodyNode","isImportDeclaration","concat","exit","file","transformers","canTransform","moduleFormatter","setup"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEAA,QAAQC,UAAR,GAAqB,IAArB;AACA;;AAEA,SAASC,uBAAT,CAAiCC,GAAjC,EAAsC;AAAE,MAAIA,OAAOA,IAAIF,UAAf,EAA2B;AAAE,WAAOE,GAAP;AAAa,GAA1C,MAAgD;AAAE,QAAIC,SAAS,EAAb,CAAiB,IAAID,OAAO,IAAX,EAAiB;AAAE,WAAK,IAAIE,GAAT,IAAgBF,GAAhB,EAAqB;AAAE,YAAIG,OAAOC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,GAArC,EAA0CE,GAA1C,CAAJ,EAAoDD,OAAOC,GAAP,IAAcF,IAAIE,GAAJ,CAAd;AAAyB;AAAE,KAACD,OAAO,SAAP,IAAoBD,GAApB,CAAyB,OAAOC,MAAP;AAAgB;AAAE;;AAEhR,IAAIM,SAASC,QAAQ,gBAAR,CAAb;;AAEA,IAAIC,IAAIV,wBAAwBQ,MAAxB,CAAR;;AAEA;;;;AAIA,SAASG,SAAT,CAAmBC,IAAnB,EAAyB;AACvB,MAAIC,SAASD,KAAKE,WAAlB;AACAJ,IAAEK,gBAAF,CAAmBF,MAAnB,EAA2BD,IAA3B;AACAF,IAAEM,cAAF,CAAiBJ,IAAjB;AACAC,SAAOI,qBAAP,GAA+B,IAA/B;AACA,SAAOJ,MAAP;AACD;;AAED;;;;AAIA,SAASK,oBAAT,CAA8BC,EAA9B,EAAkC;AAChC,SAAOT,EAAEU,eAAF,CAAkBC,gBAAgBF,EAAhB,CAAlB,EAAuCE,gBAAgBF,EAAhB,CAAvC,CAAP;AACD;;AAED,SAASE,eAAT,CAAyBC,IAAzB,EAA+B;AAC7B,MAAIC,OAAOD,KAAKC,IAAhB;AACA,MAAIC,MAAMF,KAAKE,GAAf;;AAEA,MAAIL,KAAKT,EAAEe,UAAF,CAAaF,IAAb,CAAT;AACAJ,KAAGO,IAAH,GAAUF,GAAV;AACA,SAAOL,EAAP;AACD;;AAED,IAAIQ,WAAW;AACbC,SAAO;AADM,CAAf;;AAIA9B,QAAQ6B,QAAR,GAAmBA,QAAnB;AACA;;;;AAIA,IAAIE,UAAU;;AAEZ;;;;AAIAC,4BAA0B,SAASA,wBAAT,CAAkClB,IAAlC,EAAwCmB,MAAxC,EAAgDC,KAAhD,EAAuD;AAC/E,QAAInB,SAASD,KAAKE,WAAlB;;AAEA,QAAIJ,EAAEuB,kBAAF,CAAqBpB,MAArB,CAAJ,EAAkC;AAChC;AACA,UAAIqB,QAAQ,CAACvB,UAAUC,IAAV,CAAD,EAAkBA,IAAlB,CAAZ;AACAA,WAAKE,WAAL,GAAmBD,OAAOM,EAA1B;AACA,aAAOe,KAAP;AACD,KALD,MAKO,IAAIxB,EAAEyB,iBAAF,CAAoBtB,MAApB,CAAJ,EAAiC;AACtC;AACA,UAAIuB,OAAOJ,MAAMK,qBAAN,CAA4B,SAA5B,CAAX;AACAzB,WAAKE,WAAL,GAAmBJ,EAAE4B,mBAAF,CAAsB,KAAtB,EAA6B,CAAC5B,EAAE6B,kBAAF,CAAqBH,IAArB,EAA2BvB,MAA3B,CAAD,CAA7B,CAAnB;;AAEA,UAAIqB,QAAQ,CAACvB,UAAUC,IAAV,CAAD,EAAkBA,IAAlB,CAAZ;AACAA,WAAKE,WAAL,GAAmBsB,IAAnB;AACA,aAAOF,KAAP;AACD,KARM,MAQA,IAAIxB,EAAE8B,qBAAF,CAAwB3B,MAAxB,CAAJ,EAAqC;AAC1C;AACAD,WAAK6B,WAAL,GAAmB,CAAnB;;AAEA,UAAIP,QAAQ,CAACvB,UAAUC,IAAV,CAAD,EAAkBA,IAAlB,CAAZ;AACAA,WAAKE,WAAL,GAAmBD,OAAOM,EAA1B;AACA,aAAOe,KAAP;AACD;AACF,GA9BW;;AAgCZ;;;;AAIAQ,0BAAwB,SAASA,sBAAT,CAAgC9B,IAAhC,EAAsC;AAC5D,QAAIC,SAASD,KAAKE,WAAlB;;AAEA,QAAIJ,EAAEuB,kBAAF,CAAqBpB,MAArB,CAAJ,EAAkC;AAChC;AACAD,WAAK+B,UAAL,GAAkB,CAACzB,qBAAqBL,OAAOM,EAA5B,CAAD,CAAlB;;AAEA,UAAIe,QAAQ,CAACvB,UAAUC,IAAV,CAAD,EAAkBA,IAAlB,CAAZ;AACAA,WAAKE,WAAL,GAAmB,IAAnB;AACA,aAAOoB,KAAP;AACD,KAPD,MAOO,IAAIxB,EAAE8B,qBAAF,CAAwB3B,MAAxB,CAAJ,EAAqC;AAC1C;AACA,UAAI+B,YAAYlC,EAAEmC,sBAAF,CAAyB,IAAzB,EAA+B,CAAC3B,qBAAqBL,OAAOM,EAA5B,CAAD,CAA/B,CAAhB;AACAyB,gBAAUH,WAAV,GAAwB,CAAxB;AACA,aAAO,CAAC9B,UAAUC,IAAV,CAAD,EAAkBgC,SAAlB,CAAP;AACD,KALM,MAKA,IAAIlC,EAAEoC,qBAAF,CAAwBjC,MAAxB,CAAJ,EAAqC;AAC1C;AACA,UAAI8B,aAAa,EAAjB;AACA,UAAII,WAAW,KAAKC,GAAL,CAAS,aAAT,EAAwBC,qBAAxB,EAAf;AACA,WAAK,IAAI9C,GAAT,IAAgB4C,QAAhB,EAA0B;AACxBJ,mBAAWO,IAAX,CAAgBhC,qBAAqB6B,SAAS5C,GAAT,CAArB,CAAhB;AACD;AACD,aAAO,CAACU,MAAD,EAASH,EAAEmC,sBAAF,CAAyB,IAAzB,EAA+BF,UAA/B,CAAT,CAAP;AACD;AACF,GA5DW;;AA8DZ;;;;AAIAQ,WAAS;AACPC,WAAO,SAASA,KAAT,CAAexC,IAAf,EAAqB;AAC1B,UAAIyC,UAAU,EAAd;AACA,UAAIC,OAAO,EAAX;;AAEA,WAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI3C,KAAK4C,IAAL,CAAUC,MAA9B,EAAsCF,GAAtC,EAA2C;AACzC,YAAIG,WAAW9C,KAAK4C,IAAL,CAAUD,CAAV,CAAf;AACA,YAAI7C,EAAEiD,mBAAF,CAAsBD,QAAtB,CAAJ,EAAqC;AACnCL,kBAAQH,IAAR,CAAaQ,QAAb;AACD,SAFD,MAEO;AACLJ,eAAKJ,IAAL,CAAUQ,QAAV;AACD;AACF;;AAED9C,WAAK4C,IAAL,GAAYH,QAAQO,MAAR,CAAeN,IAAf,CAAZ;AACD,KAfM;;AAiBPO,UAAM,SAASA,IAAT,CAAcjD,IAAd,EAAoBmB,MAApB,EAA4BC,KAA5B,EAAmC8B,IAAnC,EAAyC;AAC7C,UAAI,CAACA,KAAKC,YAAL,CAAkB,aAAlB,EAAiCC,YAAjC,EAAL,EAAsD;;AAEtD,UAAIF,KAAKG,eAAL,CAAqBC,KAAzB,EAAgC;AAC9BJ,aAAKG,eAAL,CAAqBC,KAArB;AACD;AACF;AAvBM;AAlEG,CAAd;AA4FApE,QAAQ+B,OAAR,GAAkBA,OAAlB","file":"modules.js","sourcesContent":["/* */ \n\"format cjs\";\n// in this transformer we have to split up classes and function declarations\n// from their exports. why? because sometimes we need to replace classes with\n// nodes that aren't allowed in the same contexts. also, if you're exporting\n// a generator function as a default then regenerator will destroy the export\n// declaration and leave a variable declaration in it's place... yeah, handy.\n\n\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\nvar _types = require(\"../../../types\");\n\nvar t = _interopRequireWildcard(_types);\n\n/**\n * [Please add a description.]\n */\n\nfunction getDeclar(node) {\n  var declar = node.declaration;\n  t.inheritsComments(declar, node);\n  t.removeComments(node);\n  declar._ignoreUserWhitespace = true;\n  return declar;\n}\n\n/**\n * [Please add a description.]\n */\n\nfunction buildExportSpecifier(id) {\n  return t.exportSpecifier(cloneIdentifier(id), cloneIdentifier(id));\n}\n\nfunction cloneIdentifier(_ref) {\n  var name = _ref.name;\n  var loc = _ref.loc;\n\n  var id = t.identifier(name);\n  id._loc = loc;\n  return id;\n}\n\nvar metadata = {\n  group: \"builtin-pre\"\n};\n\nexports.metadata = metadata;\n/**\n * [Please add a description.]\n */\n\nvar visitor = {\n\n  /**\n   * [Please add a description.]\n   */\n\n  ExportDefaultDeclaration: function ExportDefaultDeclaration(node, parent, scope) {\n    var declar = node.declaration;\n\n    if (t.isClassDeclaration(declar)) {\n      // export default class Foo {};\n      var nodes = [getDeclar(node), node];\n      node.declaration = declar.id;\n      return nodes;\n    } else if (t.isClassExpression(declar)) {\n      // export default class {};\n      var temp = scope.generateUidIdentifier(\"default\");\n      node.declaration = t.variableDeclaration(\"var\", [t.variableDeclarator(temp, declar)]);\n\n      var nodes = [getDeclar(node), node];\n      node.declaration = temp;\n      return nodes;\n    } else if (t.isFunctionDeclaration(declar)) {\n      // export default function Foo() {}\n      node._blockHoist = 2;\n\n      var nodes = [getDeclar(node), node];\n      node.declaration = declar.id;\n      return nodes;\n    }\n  },\n\n  /**\n   * [Please add a description.]\n   */\n\n  ExportNamedDeclaration: function ExportNamedDeclaration(node) {\n    var declar = node.declaration;\n\n    if (t.isClassDeclaration(declar)) {\n      // export class Foo {}\n      node.specifiers = [buildExportSpecifier(declar.id)];\n\n      var nodes = [getDeclar(node), node];\n      node.declaration = null;\n      return nodes;\n    } else if (t.isFunctionDeclaration(declar)) {\n      // export function Foo() {}\n      var newExport = t.exportNamedDeclaration(null, [buildExportSpecifier(declar.id)]);\n      newExport._blockHoist = 2;\n      return [getDeclar(node), newExport];\n    } else if (t.isVariableDeclaration(declar)) {\n      // export var foo = \"bar\";\n      var specifiers = [];\n      var bindings = this.get(\"declaration\").getBindingIdentifiers();\n      for (var key in bindings) {\n        specifiers.push(buildExportSpecifier(bindings[key]));\n      }\n      return [declar, t.exportNamedDeclaration(null, specifiers)];\n    }\n  },\n\n  /**\n   * [Please add a description.]\n   */\n\n  Program: {\n    enter: function enter(node) {\n      var imports = [];\n      var rest = [];\n\n      for (var i = 0; i < node.body.length; i++) {\n        var bodyNode = node.body[i];\n        if (t.isImportDeclaration(bodyNode)) {\n          imports.push(bodyNode);\n        } else {\n          rest.push(bodyNode);\n        }\n      }\n\n      node.body = imports.concat(rest);\n    },\n\n    exit: function exit(node, parent, scope, file) {\n      if (!file.transformers[\"es6.modules\"].canTransform()) return;\n\n      if (file.moduleFormatter.setup) {\n        file.moduleFormatter.setup();\n      }\n    }\n  }\n};\nexports.visitor = visitor;"]}