{"version":3,"sources":["../../../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/transformation/transformers/es7/comprehensions.js"],"names":["exports","__esModule","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","_interopRequireDefault","_helpersBuildComprehension","require","_helpersBuildComprehension2","_traversal","_traversal2","_util","util","_types","t","metadata","stage","visitor","ComprehensionExpression","node","parent","scope","callback","array","generator","body","container","functionExpression","blockStatement","shadow","push","expressionStatement","yieldExpression","callExpression","uid","generateUidIdentifierBasedOnNode","template","KEY","callee","block","hasType","FUNCTION_TYPES","returnStatement","pop","STATEMENT"],"mappings":"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","file":"comprehensions.js","sourcesContent":["/* */ \n\"format cjs\";\n\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _helpersBuildComprehension = require(\"../../helpers/build-comprehension\");\n\nvar _helpersBuildComprehension2 = _interopRequireDefault(_helpersBuildComprehension);\n\nvar _traversal = require(\"../../../traversal\");\n\nvar _traversal2 = _interopRequireDefault(_traversal);\n\nvar _util = require(\"../../../util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _types = require(\"../../../types\");\n\nvar t = _interopRequireWildcard(_types);\n\nvar metadata = {\n  stage: 0\n};\n\nexports.metadata = metadata;\n/**\n * [Please add a description.]\n */\n\nvar visitor = {\n\n  /**\n   * [Please add a description.]\n   */\n\n  ComprehensionExpression: function ComprehensionExpression(node, parent, scope) {\n    var callback = array;\n    if (node.generator) callback = generator;\n    return callback(node, parent, scope);\n  }\n};\n\nexports.visitor = visitor;\n/**\n * [Please add a description.]\n */\n\nfunction generator(node) {\n  var body = [];\n  var container = t.functionExpression(null, [], t.blockStatement(body), true);\n  container.shadow = true;\n\n  body.push(_helpersBuildComprehension2[\"default\"](node, function () {\n    return t.expressionStatement(t.yieldExpression(node.body));\n  }));\n\n  return t.callExpression(container, []);\n}\n\n/**\n * [Please add a description.]\n */\n\nfunction array(node, parent, scope) {\n  var uid = scope.generateUidIdentifierBasedOnNode(parent);\n\n  var container = util.template(\"array-comprehension-container\", {\n    KEY: uid\n  });\n  container.callee.shadow = true;\n\n  var block = container.callee.body;\n  var body = block.body;\n\n  if (_traversal2[\"default\"].hasType(node, scope, \"YieldExpression\", t.FUNCTION_TYPES)) {\n    container.callee.generator = true;\n    container = t.yieldExpression(container, true);\n  }\n\n  var returnStatement = body.pop();\n\n  body.push(_helpersBuildComprehension2[\"default\"](node, function () {\n    return util.template(\"array-push\", {\n      STATEMENT: node.body,\n      KEY: uid\n    }, true);\n  }));\n  body.push(returnStatement);\n\n  return container;\n}"]}