{"version":3,"sources":["../../../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/transformation/transformers/optimisation/react.inline-elements.js"],"names":["exports","__esModule","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","_helpersReact","require","react","_types","t","metadata","optional","hasRefOrSpread","attrs","i","length","attr","isJSXSpreadAttribute","isJSXAttributeOfName","name","isJSXAttribute","isJSXIdentifier","visitor","JSXElement","node","parent","scope","file","open","openingElement","attributes","isComponent","props","objectExpression","literal","type","isCompatTag","pushElemProp","value","pushProp","properties","identifier","objProps","push","property","children","buildChildren","arrayExpression","callExpression","addHelper","memberExpression"],"mappings":"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","file":"react.inline-elements.js","sourcesContent":["/* */ \n\"format cjs\";\n\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\nvar _helpersReact = require(\"../../helpers/react\");\n\nvar react = _interopRequireWildcard(_helpersReact);\n\nvar _types = require(\"../../../types\");\n\nvar t = _interopRequireWildcard(_types);\n\nvar metadata = {\n  optional: true\n};\n\nexports.metadata = metadata;\n/**\n * [Please add a description.]\n */\n\nfunction hasRefOrSpread(attrs) {\n  for (var i = 0; i < attrs.length; i++) {\n    var attr = attrs[i];\n    if (t.isJSXSpreadAttribute(attr)) return true;\n    if (isJSXAttributeOfName(attr, \"ref\")) return true;\n  }\n  return false;\n}\n\n/**\n * [Please add a description.]\n */\n\nfunction isJSXAttributeOfName(attr, name) {\n  return t.isJSXAttribute(attr) && t.isJSXIdentifier(attr.name, { name: name });\n}\n\n/**\n * [Please add a description.]\n */\nvar visitor = {\n\n  /**\n   * [Please add a description.]\n   */\n\n  JSXElement: function JSXElement(node, parent, scope, file) {\n    // filter\n    var open = node.openingElement;\n    if (hasRefOrSpread(open.attributes)) return;\n\n    // init\n    var isComponent = true;\n    var props = t.objectExpression([]);\n    var obj = t.objectExpression([]);\n    var key = t.literal(null);\n    var type = open.name;\n\n    if (t.isJSXIdentifier(type) && react.isCompatTag(type.name)) {\n      type = t.literal(type.name);\n      isComponent = false;\n    }\n\n    function pushElemProp(key, value) {\n      pushProp(obj.properties, t.identifier(key), value);\n    }\n\n    function pushProp(objProps, key, value) {\n      objProps.push(t.property(\"init\", key, value));\n    }\n\n    if (node.children.length) {\n      var children = react.buildChildren(node);\n      children = children.length === 1 ? children[0] : t.arrayExpression(children);\n      pushProp(props.properties, t.identifier(\"children\"), children);\n    }\n\n    // props\n    for (var i = 0; i < open.attributes.length; i++) {\n      var attr = open.attributes[i];\n      if (isJSXAttributeOfName(attr, \"key\")) {\n        key = attr.value;\n      } else {\n        pushProp(props.properties, attr.name, attr.value || t.identifier(\"true\"));\n      }\n    }\n\n    if (isComponent) {\n      props = t.callExpression(file.addHelper(\"default-props\"), [t.memberExpression(type, t.identifier(\"defaultProps\")), props]);\n    }\n\n    // metadata\n    pushElemProp(\"$$typeof\", file.addHelper(\"typeof-react-element\"));\n    pushElemProp(\"type\", type);\n    pushElemProp(\"key\", key);\n    pushElemProp(\"ref\", t.literal(null));\n\n    pushElemProp(\"props\", props);\n    pushElemProp(\"_owner\", t.literal(null));\n\n    return obj;\n  }\n};\nexports.visitor = visitor;"]}