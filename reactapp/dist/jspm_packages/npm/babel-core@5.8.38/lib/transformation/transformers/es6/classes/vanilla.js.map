{"version":3,"sources":["../../../../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/transformation/transformers/es6/classes/vanilla.js"],"names":["exports","__esModule","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","_interopRequireDefault","_classCallCheck","instance","Constructor","TypeError","_helpersMemoiseDecorators","require","_helpersMemoiseDecorators2","_helpersReplaceSupers","_helpersReplaceSupers2","_helpersNameMethod","nameMethod","_helpersDefineMap","defineMap","_messages","messages","_util","util","_types","t","PROPERTY_COLLISION_METHOD_NAME","collectPropertyReferencesVisitor","Identifier","enter","node","parent","scope","state","parentPath","isClassProperty","isReferenced","getBinding","name","references","verifyConstructorVisitor","MethodDefinition","skip","Property","method","CallExpression","exit","get","isSuper","hasBareSuper","bareSuper","isDerived","errorWithNode","FunctionDeclarationFunctionExpression","ThisExpression","inShadow","thisAlias","constructorPath","getData","setData","generateUidIdentifier","Super","isCallExpression","callee","ClassTransformer","path","file","clearDescriptors","instancePropBody","instancePropRefs","staticPropBody","body","pushedConstructor","pushedInherits","hasDecorators","isLoose","classId","id","classRef","directRef","superName","superClass","identifier","run","constructorBody","blockStatement","constructor","buildConstructor","closureParams","closureArgs","push","generateUidIdentifierBasedOnNode","decorators","buildBody","unshift","expressionStatement","callExpression","addHelper","thisExpression","pushDecorators","concat","length","toExpression","returnStatement","container","functionExpression","shadow","func","functionDeclaration","inherits","pushToMap","enumerable","kind","arguments","undefined","mutatorMap","hasStaticDescriptors","staticMutatorMap","hasInstanceDescriptors","instanceMutatorMap","map","literal","constructorMeMaybe","hasConstructor","paths","_arr","_i","equals","template","unshiftContainer","methodDefinition","pushBody","placePropertyInitializers","userConstructor","pushDescriptors","classBodyPaths","_arr2","_i2","isMethodDefinition","isConstructor","verifyConstructor","replaceSupers","methodPath","methodNode","objectRef","superRef","isStatic","replace","pushConstructor","pushMethod","pushProperty","pushInherits","instanceProps","staticProps","classHelper","toClassObject","toComputedObjectFromClass","nullNode","args","instanceInitializersId","buildObjectAssignment","staticInitializersId","lastNonNullIndex","i","slice","variableDeclaration","variableDeclarator","objectExpression","hasPropertyCollision","memberExpression","insertAfter","userConstructorPath","hasOwnBinding","traverse","allowedIllegal","isLiteral","toComputedKey","value","property","_processMethod","initializers","target","assignmentExpression","fnPath","rename","construct","fn","inheritsComments","_ignoreUserWhitespace","params","_pushConstructor","reverse","_arr3","_i3","decorator","decoratorNode","DECORATOR","expression","CLASS_REF","_ignoreModulesRemap","module"],"mappings":"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","file":"vanilla.js","sourcesContent":["/* */ \n\"format cjs\";\n\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// istanbul ignore next\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _helpersMemoiseDecorators = require(\"../../../helpers/memoise-decorators\");\n\nvar _helpersMemoiseDecorators2 = _interopRequireDefault(_helpersMemoiseDecorators);\n\nvar _helpersReplaceSupers = require(\"../../../helpers/replace-supers\");\n\nvar _helpersReplaceSupers2 = _interopRequireDefault(_helpersReplaceSupers);\n\nvar _helpersNameMethod = require(\"../../../helpers/name-method\");\n\nvar nameMethod = _interopRequireWildcard(_helpersNameMethod);\n\nvar _helpersDefineMap = require(\"../../../helpers/define-map\");\n\nvar defineMap = _interopRequireWildcard(_helpersDefineMap);\n\nvar _messages = require(\"../../../../messages\");\n\nvar messages = _interopRequireWildcard(_messages);\n\nvar _util = require(\"../../../../util\");\n\nvar util = _interopRequireWildcard(_util);\n\nvar _types = require(\"../../../../types\");\n\nvar t = _interopRequireWildcard(_types);\n\nvar PROPERTY_COLLISION_METHOD_NAME = \"__initializeProperties\";\n\n/**\n * [Please add a description.]\n */\n\nvar collectPropertyReferencesVisitor = {\n\n  /**\n   * [Please add a description.]\n   */\n\n  Identifier: {\n    enter: function enter(node, parent, scope, state) {\n      if (this.parentPath.isClassProperty({ key: node })) {\n        return;\n      }\n\n      if (this.isReferenced() && scope.getBinding(node.name) === state.scope.getBinding(node.name)) {\n        state.references[node.name] = true;\n      }\n    }\n  }\n};\n\n/**\n * [Please add a description.]\n */\n\nvar verifyConstructorVisitor = {\n\n  /**\n   * [Please add a description.]\n   */\n\n  MethodDefinition: function MethodDefinition() {\n    this.skip();\n  },\n\n  /**\n   * [Please add a description.]\n   */\n\n  Property: function Property(node) {\n    if (node.method) this.skip();\n  },\n\n  /**\n   * [Please add a description.]\n   */\n\n  CallExpression: {\n    exit: function exit(node, parent, scope, state) {\n      if (this.get(\"callee\").isSuper()) {\n        state.hasBareSuper = true;\n        state.bareSuper = this;\n\n        if (!state.isDerived) {\n          throw this.errorWithNode(\"super call is only allowed in derived constructor\");\n        }\n      }\n    }\n  },\n\n  /**\n   * [Please add a description.]\n   */\n\n  \"FunctionDeclaration|FunctionExpression\": function FunctionDeclarationFunctionExpression() {\n    this.skip();\n  },\n\n  /**\n   * [Please add a description.]\n   */\n\n  ThisExpression: function ThisExpression(node, parent, scope, state) {\n    if (state.isDerived && !state.hasBareSuper) {\n      if (this.inShadow()) {\n        // https://github.com/babel/babel/issues/1920\n        var thisAlias = state.constructorPath.getData(\"this\");\n\n        if (!thisAlias) {\n          thisAlias = state.constructorPath.setData(\"this\", state.constructorPath.scope.generateUidIdentifier(\"this\"));\n        }\n\n        return thisAlias;\n      } else {\n        throw this.errorWithNode(\"'this' is not allowed before super()\");\n      }\n    }\n  },\n\n  /**\n   * [Please add a description.]\n   */\n\n  Super: function Super(node, parent, scope, state) {\n    if (state.isDerived && !state.hasBareSuper && !this.parentPath.isCallExpression({ callee: node })) {\n      throw this.errorWithNode(\"'super.*' is not allowed before super()\");\n    }\n  }\n};\n\n/**\n * [Please add a description.]\n */\n\nvar ClassTransformer = (function () {\n  function ClassTransformer(path, file) {\n    _classCallCheck(this, ClassTransformer);\n\n    this.parent = path.parent;\n    this.scope = path.scope;\n    this.node = path.node;\n    this.path = path;\n    this.file = file;\n\n    this.clearDescriptors();\n\n    this.instancePropBody = [];\n    this.instancePropRefs = {};\n    this.staticPropBody = [];\n    this.body = [];\n\n    this.pushedConstructor = false;\n    this.pushedInherits = false;\n    this.hasDecorators = false;\n    this.isLoose = false;\n\n    // class id\n    this.classId = this.node.id;\n\n    // this is the name of the binding that will **always** reference the class we've constructed\n    this.classRef = this.node.id || this.scope.generateUidIdentifier(\"class\");\n\n    // this is a direct reference to the class we're building, class decorators can shadow the classRef\n    this.directRef = null;\n\n    this.superName = this.node.superClass || t.identifier(\"Function\");\n    this.isDerived = !!this.node.superClass;\n  }\n\n  /**\n   * [Please add a description.]\n   * @returns {Array}\n   */\n\n  ClassTransformer.prototype.run = function run() {\n    var superName = this.superName;\n    var file = this.file;\n\n    //\n\n    var body = this.body;\n\n    //\n\n    var constructorBody = this.constructorBody = t.blockStatement([]);\n    this.constructor = this.buildConstructor();\n\n    //\n\n    var closureParams = [];\n    var closureArgs = [];\n\n    //\n    if (this.isDerived) {\n      closureArgs.push(superName);\n\n      superName = this.scope.generateUidIdentifierBasedOnNode(superName);\n      closureParams.push(superName);\n\n      this.superName = superName;\n    }\n\n    //\n    var decorators = this.node.decorators;\n    if (decorators) {\n      // this is so super calls and the decorators have access to the raw function\n      this.directRef = this.scope.generateUidIdentifier(this.classRef);\n    } else {\n      this.directRef = this.classRef;\n    }\n\n    //\n    this.buildBody();\n\n    // make sure this class isn't directly called\n    constructorBody.body.unshift(t.expressionStatement(t.callExpression(file.addHelper(\"class-call-check\"), [t.thisExpression(), this.directRef])));\n\n    //\n    this.pushDecorators();\n\n    body = body.concat(this.staticPropBody);\n\n    if (this.classId) {\n      // named class with only a constructor\n      if (body.length === 1) return t.toExpression(body[0]);\n    }\n\n    //\n    body.push(t.returnStatement(this.classRef));\n\n    var container = t.functionExpression(null, closureParams, t.blockStatement(body));\n    container.shadow = true;\n    return t.callExpression(container, closureArgs);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.buildConstructor = function buildConstructor() {\n    var func = t.functionDeclaration(this.classRef, [], this.constructorBody);\n    t.inherits(func, this.node);\n    return func;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.pushToMap = function pushToMap(node, enumerable) {\n    var kind = arguments.length <= 2 || arguments[2] === undefined ? \"value\" : arguments[2];\n\n    var mutatorMap;\n    if (node[\"static\"]) {\n      this.hasStaticDescriptors = true;\n      mutatorMap = this.staticMutatorMap;\n    } else {\n      this.hasInstanceDescriptors = true;\n      mutatorMap = this.instanceMutatorMap;\n    }\n\n    var map = defineMap.push(mutatorMap, node, kind, this.file);\n\n    if (enumerable) {\n      map.enumerable = t.literal(true);\n    }\n\n    if (map.decorators) {\n      this.hasDecorators = true;\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   * https://www.youtube.com/watch?v=fWNaR-rxAic\n   */\n\n  ClassTransformer.prototype.constructorMeMaybe = function constructorMeMaybe() {\n    var hasConstructor = false;\n    var paths = this.path.get(\"body.body\");\n    var _arr = paths;\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var path = _arr[_i];\n      hasConstructor = path.equals(\"kind\", \"constructor\");\n      if (hasConstructor) break;\n    }\n    if (hasConstructor) return;\n\n    var constructor;\n    if (this.isDerived) {\n      constructor = util.template(\"class-derived-default-constructor\");\n    } else {\n      constructor = t.functionExpression(null, [], t.blockStatement([]));\n    }\n\n    this.path.get(\"body\").unshiftContainer(\"body\", t.methodDefinition(t.identifier(\"constructor\"), constructor, \"constructor\"));\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.buildBody = function buildBody() {\n    this.constructorMeMaybe();\n    this.pushBody();\n    this.placePropertyInitializers();\n\n    if (this.userConstructor) {\n      var constructorBody = this.constructorBody;\n      constructorBody.body = constructorBody.body.concat(this.userConstructor.body.body);\n      t.inherits(this.constructor, this.userConstructor);\n      t.inherits(constructorBody, this.userConstructor.body);\n    }\n\n    this.pushDescriptors();\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.pushBody = function pushBody() {\n    var classBodyPaths = this.path.get(\"body.body\");\n\n    var _arr2 = classBodyPaths;\n    for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n      var path = _arr2[_i2];\n      var node = path.node;\n\n      if (node.decorators) {\n        _helpersMemoiseDecorators2[\"default\"](node.decorators, this.scope);\n      }\n\n      if (t.isMethodDefinition(node)) {\n        var isConstructor = node.kind === \"constructor\";\n        if (isConstructor) this.verifyConstructor(path);\n\n        var replaceSupers = new _helpersReplaceSupers2[\"default\"]({\n          methodPath: path,\n          methodNode: node,\n          objectRef: this.directRef,\n          superRef: this.superName,\n          isStatic: node[\"static\"],\n          isLoose: this.isLoose,\n          scope: this.scope,\n          file: this.file\n        }, true);\n\n        replaceSupers.replace();\n\n        if (isConstructor) {\n          this.pushConstructor(node, path);\n        } else {\n          this.pushMethod(node, path);\n        }\n      } else if (t.isClassProperty(node)) {\n        this.pushProperty(node, path);\n      }\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.clearDescriptors = function clearDescriptors() {\n    this.hasInstanceDescriptors = false;\n    this.hasStaticDescriptors = false;\n\n    this.instanceMutatorMap = {};\n    this.staticMutatorMap = {};\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.pushDescriptors = function pushDescriptors() {\n    this.pushInherits();\n\n    var body = this.body;\n\n    var instanceProps;\n    var staticProps;\n    var classHelper = \"create-class\";\n    if (this.hasDecorators) classHelper = \"create-decorated-class\";\n\n    if (this.hasInstanceDescriptors) {\n      instanceProps = defineMap.toClassObject(this.instanceMutatorMap);\n    }\n\n    if (this.hasStaticDescriptors) {\n      staticProps = defineMap.toClassObject(this.staticMutatorMap);\n    }\n\n    if (instanceProps || staticProps) {\n      if (instanceProps) instanceProps = defineMap.toComputedObjectFromClass(instanceProps);\n      if (staticProps) staticProps = defineMap.toComputedObjectFromClass(staticProps);\n\n      var nullNode = t.literal(null);\n\n      // (Constructor, instanceDescriptors, staticDescriptors, instanceInitializers, staticInitializers)\n      var args = [this.classRef, nullNode, nullNode, nullNode, nullNode];\n\n      if (instanceProps) args[1] = instanceProps;\n      if (staticProps) args[2] = staticProps;\n\n      if (this.instanceInitializersId) {\n        args[3] = this.instanceInitializersId;\n        body.unshift(this.buildObjectAssignment(this.instanceInitializersId));\n      }\n\n      if (this.staticInitializersId) {\n        args[4] = this.staticInitializersId;\n        body.unshift(this.buildObjectAssignment(this.staticInitializersId));\n      }\n\n      var lastNonNullIndex = 0;\n      for (var i = 0; i < args.length; i++) {\n        if (args[i] !== nullNode) lastNonNullIndex = i;\n      }\n      args = args.slice(0, lastNonNullIndex + 1);\n\n      body.push(t.expressionStatement(t.callExpression(this.file.addHelper(classHelper), args)));\n    }\n\n    this.clearDescriptors();\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.buildObjectAssignment = function buildObjectAssignment(id) {\n    return t.variableDeclaration(\"var\", [t.variableDeclarator(id, t.objectExpression([]))]);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.placePropertyInitializers = function placePropertyInitializers() {\n    var body = this.instancePropBody;\n    if (!body.length) return;\n\n    if (this.hasPropertyCollision()) {\n      var call = t.expressionStatement(t.callExpression(t.memberExpression(t.thisExpression(), t.identifier(PROPERTY_COLLISION_METHOD_NAME)), []));\n\n      this.pushMethod(t.methodDefinition(t.identifier(PROPERTY_COLLISION_METHOD_NAME), t.functionExpression(null, [], t.blockStatement(body))), null, true);\n\n      if (this.isDerived) {\n        this.bareSuper.insertAfter(call);\n      } else {\n        this.constructorBody.body.unshift(call);\n      }\n    } else {\n      if (this.isDerived) {\n        this.bareSuper.insertAfter(body);\n      } else {\n        this.constructorBody.body = body.concat(this.constructorBody.body);\n      }\n    }\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.hasPropertyCollision = function hasPropertyCollision() {\n    if (this.userConstructorPath) {\n      for (var name in this.instancePropRefs) {\n        if (this.userConstructorPath.scope.hasOwnBinding(name)) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.verifyConstructor = function verifyConstructor(path) {\n    var state = {\n      constructorPath: path.get(\"value\"),\n      hasBareSuper: false,\n      bareSuper: null,\n      isDerived: this.isDerived,\n      file: this.file\n    };\n\n    state.constructorPath.traverse(verifyConstructorVisitor, state);\n\n    var thisAlias = state.constructorPath.getData(\"this\");\n    if (thisAlias && state.bareSuper) {\n      state.bareSuper.insertAfter(t.variableDeclaration(\"var\", [t.variableDeclarator(thisAlias, t.thisExpression())]));\n    }\n\n    this.bareSuper = state.bareSuper;\n\n    if (!state.hasBareSuper && this.isDerived) {\n      throw path.errorWithNode(\"Derived constructor must call super()\");\n    }\n  };\n\n  /**\n   * Push a method to its respective mutatorMap.\n   */\n\n  ClassTransformer.prototype.pushMethod = function pushMethod(node, path, allowedIllegal) {\n    if (!allowedIllegal && t.isLiteral(t.toComputedKey(node), { value: PROPERTY_COLLISION_METHOD_NAME })) {\n      throw this.file.errorWithNode(node, messages.get(\"illegalMethodName\", PROPERTY_COLLISION_METHOD_NAME));\n    }\n\n    if (node.kind === \"method\") {\n      nameMethod.property(node, this.file, path ? path.get(\"value\").scope : this.scope);\n      if (this._processMethod(node)) return;\n    }\n\n    this.pushToMap(node);\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype._processMethod = function _processMethod() {\n    return false;\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype.pushProperty = function pushProperty(node, path) {\n    path.traverse(collectPropertyReferencesVisitor, {\n      references: this.instancePropRefs,\n      scope: this.scope\n    });\n\n    if (node.decorators) {\n      var body = [];\n      if (node.value) {\n        body.push(t.returnStatement(node.value));\n        node.value = t.functionExpression(null, [], t.blockStatement(body));\n      } else {\n        node.value = t.literal(null);\n      }\n      this.pushToMap(node, true, \"initializer\");\n\n      var initializers;\n      var target;\n      if (node[\"static\"]) {\n        initializers = this.staticInitializersId = this.staticInitializersId || this.scope.generateUidIdentifier(\"staticInitializers\");\n        body = this.staticPropBody;\n        target = this.classRef;\n      } else {\n        initializers = this.instanceInitializersId = this.instanceInitializersId || this.scope.generateUidIdentifier(\"instanceInitializers\");\n        body = this.instancePropBody;\n        target = t.thisExpression();\n      }\n\n      body.push(t.expressionStatement(t.callExpression(this.file.addHelper(\"define-decorated-property-descriptor\"), [target, t.literal(node.key.name), initializers])));\n    } else {\n      if (!node.value && !node.decorators) return;\n\n      if (node[\"static\"]) {\n        // can just be added to the static map\n        this.pushToMap(node, true);\n      } else if (node.value) {\n        // add this to the instancePropBody which will be added after the super call in a derived constructor\n        // or at the start of a constructor for a non-derived constructor\n        this.instancePropBody.push(t.expressionStatement(t.assignmentExpression(\"=\", t.memberExpression(t.thisExpression(), node.key), node.value)));\n      }\n    }\n  };\n\n  /**\n   * Replace the constructor body of our class.\n   */\n\n  ClassTransformer.prototype.pushConstructor = function pushConstructor(method, path) {\n    // https://github.com/babel/babel/issues/1077\n    var fnPath = path.get(\"value\");\n    if (fnPath.scope.hasOwnBinding(this.classRef.name)) {\n      fnPath.scope.rename(this.classRef.name);\n    }\n\n    var construct = this.constructor;\n    var fn = method.value;\n\n    this.userConstructorPath = fnPath;\n    this.userConstructor = fn;\n    this.hasConstructor = true;\n\n    t.inheritsComments(construct, method);\n\n    construct._ignoreUserWhitespace = true;\n    construct.params = fn.params;\n\n    t.inherits(construct.body, fn.body);\n\n    // push constructor to body\n    this._pushConstructor();\n  };\n\n  /**\n   * [Please add a description.]\n   */\n\n  ClassTransformer.prototype._pushConstructor = function _pushConstructor() {\n    if (this.pushedConstructor) return;\n    this.pushedConstructor = true;\n\n    // we haven't pushed any descriptors yet\n    if (this.hasInstanceDescriptors || this.hasStaticDescriptors) {\n      this.pushDescriptors();\n    }\n\n    this.body.push(this.constructor);\n\n    this.pushInherits();\n  };\n\n  /**\n   * Push inherits helper to body.\n   */\n\n  ClassTransformer.prototype.pushInherits = function pushInherits() {\n    if (!this.isDerived || this.pushedInherits) return;\n\n    // Unshift to ensure that the constructor inheritance is set up before\n    // any properties can be assigned to the prototype.\n    this.pushedInherits = true;\n    this.body.unshift(t.expressionStatement(t.callExpression(this.file.addHelper(\"inherits\"), [this.classRef, this.superName])));\n  };\n\n  /**\n   * Push decorators to body.\n   */\n\n  ClassTransformer.prototype.pushDecorators = function pushDecorators() {\n    var decorators = this.node.decorators;\n    if (!decorators) return;\n\n    this.body.push(t.variableDeclaration(\"var\", [t.variableDeclarator(this.directRef, this.classRef)]));\n\n    // reverse the decorators so we execute them in the right order\n    decorators = decorators.reverse();\n\n    var _arr3 = decorators;\n    for (var _i3 = 0; _i3 < _arr3.length; _i3++) {\n      var decorator = _arr3[_i3];\n      var decoratorNode = util.template(\"class-decorator\", {\n        DECORATOR: decorator.expression,\n        CLASS_REF: this.classRef\n      }, true);\n      decoratorNode.expression._ignoreModulesRemap = true;\n      this.body.push(decoratorNode);\n    }\n  };\n\n  return ClassTransformer;\n})();\n\nexports[\"default\"] = ClassTransformer;\nmodule.exports = exports[\"default\"];"]}