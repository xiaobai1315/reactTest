{"version":3,"sources":["../../../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/transformation/transformers/other/strict.js"],"names":["exports","__esModule","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","_types","require","t","metadata","group","THIS_BREAK_KEYS","isUseStrict","node","isLiteral","raw","rawValue","value","visitor","Program","enter","program","first","body","directive","isExpressionStatement","expression","expressionStatement","literal","unshiftContainer","leadingComments","_blockHoist","Infinity","ThisExpression","findParent","path","is","indexOf","type","identifier"],"mappings":"AAAA;AACA;AACA;;AAEAA,QAAQC,UAAR,GAAqB,IAArB;AACA;;AAEA,SAASC,uBAAT,CAAiCC,GAAjC,EAAsC;AAAE,MAAIA,OAAOA,IAAIF,UAAf,EAA2B;AAAE,WAAOE,GAAP;AAAa,GAA1C,MAAgD;AAAE,QAAIC,SAAS,EAAb,CAAiB,IAAID,OAAO,IAAX,EAAiB;AAAE,WAAK,IAAIE,GAAT,IAAgBF,GAAhB,EAAqB;AAAE,YAAIG,OAAOC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,GAArC,EAA0CE,GAA1C,CAAJ,EAAoDD,OAAOC,GAAP,IAAcF,IAAIE,GAAJ,CAAd;AAAyB;AAAE,KAACD,OAAO,SAAP,IAAoBD,GAApB,CAAyB,OAAOC,MAAP;AAAgB;AAAE;;AAEhR,IAAIM,SAASC,QAAQ,gBAAR,CAAb;;AAEA,IAAIC,IAAIV,wBAAwBQ,MAAxB,CAAR;;AAEA,IAAIG,WAAW;AACbC,SAAO;AADM,CAAf;;AAIAd,QAAQa,QAAR,GAAmBA,QAAnB;AACA,IAAIE,kBAAkB,CAAC,oBAAD,EAAuB,qBAAvB,EAA8C,eAA9C,CAAtB;;AAEA,SAASC,WAAT,CAAqBC,IAArB,EAA2B;AACzB,MAAI,CAACL,EAAEM,SAAF,CAAYD,IAAZ,CAAL,EAAwB,OAAO,KAAP;;AAExB,MAAIA,KAAKE,GAAL,IAAYF,KAAKG,QAAL,KAAkBH,KAAKI,KAAvC,EAA8C;AAC5C,WAAOJ,KAAKG,QAAL,KAAkB,YAAzB;AACD,GAFD,MAEO;AACL,WAAOH,KAAKI,KAAL,KAAe,YAAtB;AACD;AACF;;AAED;;;;AAIA,IAAIC,UAAU;;AAEZ;;;;AAIAC,WAAS;AACPC,WAAO,SAASA,KAAT,CAAeC,OAAf,EAAwB;AAC7B,UAAIC,QAAQD,QAAQE,IAAR,CAAa,CAAb,CAAZ;;AAEA,UAAIC,SAAJ;AACA,UAAIhB,EAAEiB,qBAAF,CAAwBH,KAAxB,KAAkCV,YAAYU,MAAMI,UAAlB,CAAtC,EAAqE;AACnEF,oBAAYF,KAAZ;AACD,OAFD,MAEO;AACLE,oBAAYhB,EAAEmB,mBAAF,CAAsBnB,EAAEoB,OAAF,CAAU,YAAV,CAAtB,CAAZ;AACA,aAAKC,gBAAL,CAAsB,MAAtB,EAA8BL,SAA9B;AACA,YAAIF,KAAJ,EAAW;AACTE,oBAAUM,eAAV,GAA4BR,MAAMQ,eAAlC;AACAR,gBAAMQ,eAAN,GAAwB,EAAxB;AACD;AACF;AACDN,gBAAUO,WAAV,GAAwBC,QAAxB;AACD;AAhBM,GANG;;AAyBZ;;;;AAIAC,kBAAgB,SAASA,cAAT,GAA0B;AACxC,QAAI,CAAC,KAAKC,UAAL,CAAgB,UAAUC,IAAV,EAAgB;AACnC,aAAO,CAACA,KAAKC,EAAL,CAAQ,QAAR,CAAD,IAAsBzB,gBAAgB0B,OAAhB,CAAwBF,KAAKG,IAA7B,KAAsC,CAAnE;AACD,KAFI,CAAL,EAEI;AACF,aAAO9B,EAAE+B,UAAF,CAAa,WAAb,CAAP;AACD;AACF;AAnCW,CAAd;AAqCA3C,QAAQsB,OAAR,GAAkBA,OAAlB","file":"strict.js","sourcesContent":["/* */ \n\"format cjs\";\n\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\nvar _types = require(\"../../../types\");\n\nvar t = _interopRequireWildcard(_types);\n\nvar metadata = {\n  group: \"builtin-pre\"\n};\n\nexports.metadata = metadata;\nvar THIS_BREAK_KEYS = [\"FunctionExpression\", \"FunctionDeclaration\", \"ClassProperty\"];\n\nfunction isUseStrict(node) {\n  if (!t.isLiteral(node)) return false;\n\n  if (node.raw && node.rawValue === node.value) {\n    return node.rawValue === \"use strict\";\n  } else {\n    return node.value === \"use strict\";\n  }\n}\n\n/**\n * [Please add a description.]\n */\n\nvar visitor = {\n\n  /**\n   * [Please add a description.]\n   */\n\n  Program: {\n    enter: function enter(program) {\n      var first = program.body[0];\n\n      var directive;\n      if (t.isExpressionStatement(first) && isUseStrict(first.expression)) {\n        directive = first;\n      } else {\n        directive = t.expressionStatement(t.literal(\"use strict\"));\n        this.unshiftContainer(\"body\", directive);\n        if (first) {\n          directive.leadingComments = first.leadingComments;\n          first.leadingComments = [];\n        }\n      }\n      directive._blockHoist = Infinity;\n    }\n  },\n\n  /**\n   * [Please add a description.]\n   */\n\n  ThisExpression: function ThisExpression() {\n    if (!this.findParent(function (path) {\n      return !path.is(\"shadow\") && THIS_BREAK_KEYS.indexOf(path.type) >= 0;\n    })) {\n      return t.identifier(\"undefined\");\n    }\n  }\n};\nexports.visitor = visitor;"]}