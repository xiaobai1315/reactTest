{"version":3,"sources":["../../../../../../jspm_packages/npm/babel-core@5.8.38/lib/generation/source-map.js"],"names":["exports","__esModule","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","_interopRequireDefault","_classCallCheck","instance","Constructor","TypeError","_sourceMap","require","_sourceMap2","_types","t","SourceMap","position","opts","code","sourceMaps","map","SourceMapGenerator","file","sourceMapTarget","sourceRoot","setSourceContent","sourceFileName","get","toJSON","mark","node","type","loc","isProgram","isFile","generated","line","column","original","addMapping","source","module"],"mappings":"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","file":"source-map.js","sourcesContent":["/* */ \n\"format cjs\";\n\"use strict\";\n\nexports.__esModule = true;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n// istanbul ignore next\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _sourceMap = require(\"source-map\");\n\nvar _sourceMap2 = _interopRequireDefault(_sourceMap);\n\nvar _types = require(\"../types\");\n\nvar t = _interopRequireWildcard(_types);\n\n/**\n * Build a sourcemap.\n */\n\nvar SourceMap = (function () {\n  function SourceMap(position, opts, code) {\n    _classCallCheck(this, SourceMap);\n\n    this.position = position;\n    this.opts = opts;\n\n    if (opts.sourceMaps) {\n      this.map = new _sourceMap2[\"default\"].SourceMapGenerator({\n        file: opts.sourceMapTarget,\n        sourceRoot: opts.sourceRoot\n      });\n\n      this.map.setSourceContent(opts.sourceFileName, code);\n    } else {\n      this.map = null;\n    }\n  }\n\n  /**\n   * Get the sourcemap.\n   */\n\n  SourceMap.prototype.get = function get() {\n    var map = this.map;\n    if (map) {\n      return map.toJSON();\n    } else {\n      return map;\n    }\n  };\n\n  /**\n   * Mark a node's generated position, and add it to the sourcemap.\n   */\n\n  SourceMap.prototype.mark = function mark(node, type) {\n    var loc = node.loc;\n    if (!loc) return; // no location info\n\n    var map = this.map;\n    if (!map) return; // no source map\n\n    if (t.isProgram(node) || t.isFile(node)) return; // illegal mapping nodes\n\n    var position = this.position;\n\n    var generated = {\n      line: position.line,\n      column: position.column\n    };\n\n    var original = loc[type];\n\n    map.addMapping({\n      source: this.opts.sourceFileName,\n      generated: generated,\n      original: original\n    });\n  };\n\n  return SourceMap;\n})();\n\nexports[\"default\"] = SourceMap;\nmodule.exports = exports[\"default\"];"]}