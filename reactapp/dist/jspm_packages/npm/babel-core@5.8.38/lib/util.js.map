{"version":3,"sources":["../../../../../jspm_packages/npm/babel-core@5.8.38/lib/util.js"],"names":["exports","__esModule","canCompile","list","regexify","arrayify","booleanify","shouldIgnore","template","parseTemplate","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","_interopRequireDefault","_lodashStringEscapeRegExp","require","_lodashStringEscapeRegExp2","_lodashStringStartsWith","_lodashStringStartsWith2","_lodashLangCloneDeep","_lodashLangCloneDeep2","_lodashLangIsBoolean","_lodashLangIsBoolean2","_messages","messages","_minimatch","_minimatch2","_lodashCollectionContains","_lodashCollectionContains2","_traversal","_traversal2","_lodashLangIsString","_lodashLangIsString2","_lodashLangIsRegExp","_lodashLangIsRegExp2","_lodashLangIsEmpty","_lodashLangIsEmpty2","_helpersParse","_helpersParse2","_path","_path2","_lodashObjectHas","_lodashObjectHas2","_fs","_fs2","_types","t","_slash","_slash2","_pathExists","_pathExists2","_util","inherits","inspect","filename","altExts","exts","EXTENSIONS","ext","extname","val","Array","isArray","split","RegExp","map","join","slice","regex","makeRe","nocase","source","TypeError","mapFn","ignore","only","_arr","_i","length","pattern","_shouldIgnore","_arr2","_i2","test","templateVisitor","noScope","enter","node","parent","scope","nodes","isExpressionStatement","expression","isIdentifier","name","skip","replaceInline","exit","clearNode","keepExpression","ast","templates","ReferenceError","body","loc","code","looseModules","program","removeProperties","loadTemplates","templatesLoc","__dirname","sync","get","_arr3","readdirSync","_i3","basename","readFileSync","err"],"mappings":"AAAA;AACA;AACA;;AAEAA,QAAQC,UAAR,GAAqB,IAArB;AACAD,QAAQE,UAAR,GAAqBA,UAArB;AACAF,QAAQG,IAAR,GAAeA,IAAf;AACAH,QAAQI,QAAR,GAAmBA,QAAnB;AACAJ,QAAQK,QAAR,GAAmBA,QAAnB;AACAL,QAAQM,UAAR,GAAqBA,UAArB;AACAN,QAAQO,YAAR,GAAuBA,YAAvB;AACAP,QAAQQ,QAAR,GAAmBA,QAAnB;AACAR,QAAQS,aAAR,GAAwBA,aAAxB;AACA;;AAEA,SAASC,uBAAT,CAAiCC,GAAjC,EAAsC;AAAE,MAAIA,OAAOA,IAAIV,UAAf,EAA2B;AAAE,WAAOU,GAAP;AAAa,GAA1C,MAAgD;AAAE,QAAIC,SAAS,EAAb,CAAiB,IAAID,OAAO,IAAX,EAAiB;AAAE,WAAK,IAAIE,GAAT,IAAgBF,GAAhB,EAAqB;AAAE,YAAIG,OAAOC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,GAArC,EAA0CE,GAA1C,CAAJ,EAAoDD,OAAOC,GAAP,IAAcF,IAAIE,GAAJ,CAAd;AAAyB;AAAE,KAACD,OAAO,SAAP,IAAoBD,GAApB,CAAyB,OAAOC,MAAP;AAAgB;AAAE;;AAEhR;;AAEA,SAASM,sBAAT,CAAgCP,GAAhC,EAAqC;AAAE,SAAOA,OAAOA,IAAIV,UAAX,GAAwBU,GAAxB,GAA8B,EAAE,WAAWA,GAAb,EAArC;AAA0D;;AAEjG,IAAIQ,4BAA4BC,QAAQ,4BAAR,CAAhC;;AAEA,IAAIC,6BAA6BH,uBAAuBC,yBAAvB,CAAjC;;AAEA,IAAIG,0BAA0BF,QAAQ,0BAAR,CAA9B;;AAEA,IAAIG,2BAA2BL,uBAAuBI,uBAAvB,CAA/B;;AAEA,IAAIE,uBAAuBJ,QAAQ,uBAAR,CAA3B;;AAEA,IAAIK,wBAAwBP,uBAAuBM,oBAAvB,CAA5B;;AAEA,IAAIE,uBAAuBN,QAAQ,uBAAR,CAA3B;;AAEA,IAAIO,wBAAwBT,uBAAuBQ,oBAAvB,CAA5B;;AAEA,IAAIE,YAAYR,QAAQ,YAAR,CAAhB;;AAEA,IAAIS,WAAWnB,wBAAwBkB,SAAxB,CAAf;;AAEA,IAAIE,aAAaV,QAAQ,WAAR,CAAjB;;AAEA,IAAIW,cAAcb,uBAAuBY,UAAvB,CAAlB;;AAEA,IAAIE,4BAA4BZ,QAAQ,4BAAR,CAAhC;;AAEA,IAAIa,6BAA6Bf,uBAAuBc,yBAAvB,CAAjC;;AAEA,IAAIE,aAAad,QAAQ,aAAR,CAAjB;;AAEA,IAAIe,cAAcjB,uBAAuBgB,UAAvB,CAAlB;;AAEA,IAAIE,sBAAsBhB,QAAQ,sBAAR,CAA1B;;AAEA,IAAIiB,uBAAuBnB,uBAAuBkB,mBAAvB,CAA3B;;AAEA,IAAIE,sBAAsBlB,QAAQ,sBAAR,CAA1B;;AAEA,IAAImB,uBAAuBrB,uBAAuBoB,mBAAvB,CAA3B;;AAEA,IAAIE,qBAAqBpB,QAAQ,qBAAR,CAAzB;;AAEA,IAAIqB,sBAAsBvB,uBAAuBsB,kBAAvB,CAA1B;;AAEA,IAAIE,gBAAgBtB,QAAQ,iBAAR,CAApB;;AAEA,IAAIuB,iBAAiBzB,uBAAuBwB,aAAvB,CAArB;;AAEA,IAAIE,QAAQxB,QAAQ,MAAR,CAAZ;;AAEA,IAAIyB,SAAS3B,uBAAuB0B,KAAvB,CAAb;;AAEA,IAAIE,mBAAmB1B,QAAQ,mBAAR,CAAvB;;AAEA,IAAI2B,oBAAoB7B,uBAAuB4B,gBAAvB,CAAxB;;AAEA,IAAIE,MAAM5B,QAAQ,IAAR,CAAV;;AAEA,IAAI6B,OAAO/B,uBAAuB8B,GAAvB,CAAX;;AAEA,IAAIE,SAAS9B,QAAQ,SAAR,CAAb;;AAEA,IAAI+B,IAAIzC,wBAAwBwC,MAAxB,CAAR;;AAEA,IAAIE,SAAShC,QAAQ,OAAR,CAAb;;AAEA,IAAIiC,UAAUnC,uBAAuBkC,MAAvB,CAAd;;AAEA,IAAIE,cAAclC,QAAQ,aAAR,CAAlB;;AAEA,IAAImC,eAAerC,uBAAuBoC,WAAvB,CAAnB;;AAEA,IAAIE,QAAQpC,QAAQ,MAAR,CAAZ;;AAEApB,QAAQyD,QAAR,GAAmBD,MAAMC,QAAzB;AACAzD,QAAQ0D,OAAR,GAAkBF,MAAME,OAAxB;;AAEA;;;;AAIA,SAASxD,UAAT,CAAoByD,QAApB,EAA8BC,OAA9B,EAAuC;AACrC,MAAIC,OAAOD,WAAW1D,WAAW4D,UAAjC;AACA,MAAIC,MAAMlB,OAAO,SAAP,EAAkBmB,OAAlB,CAA0BL,QAA1B,CAAV;AACA,SAAO1B,2BAA2B,SAA3B,EAAsC4B,IAAtC,EAA4CE,GAA5C,CAAP;AACD;;AAED;;;;AAIA7D,WAAW4D,UAAX,GAAwB,CAAC,KAAD,EAAQ,MAAR,EAAgB,MAAhB,EAAwB,KAAxB,CAAxB;;AAEA;;;;AAIA,SAAS3D,IAAT,CAAc8D,GAAd,EAAmB;AACjB,MAAI,CAACA,GAAL,EAAU;AACR,WAAO,EAAP;AACD,GAFD,MAEO,IAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAC7B,WAAOA,GAAP;AACD,GAFM,MAEA,IAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AAClC,WAAOA,IAAIG,KAAJ,CAAU,GAAV,CAAP;AACD,GAFM,MAEA;AACL,WAAO,CAACH,GAAD,CAAP;AACD;AACF;;AAED;;;;AAIA,SAAS7D,QAAT,CAAkB6D,GAAlB,EAAuB;AACrB,MAAI,CAACA,GAAL,EAAU,OAAO,IAAII,MAAJ,CAAW,IAAX,CAAP;;AAEV,MAAIH,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwBA,MAAM,IAAII,MAAJ,CAAWJ,IAAIK,GAAJ,CAAQjD,2BAA2B,SAA3B,CAAR,EAA+CkD,IAA/C,CAAoD,GAApD,CAAX,EAAqE,GAArE,CAAN;;AAExB,MAAIlC,qBAAqB,SAArB,EAAgC4B,GAAhC,CAAJ,EAA0C;AACxC;AACAA,UAAMZ,QAAQ,SAAR,EAAmBY,GAAnB,CAAN;;AAEA;AACA,QAAI1C,yBAAyB,SAAzB,EAAoC0C,GAApC,EAAyC,IAAzC,KAAkD1C,yBAAyB,SAAzB,EAAoC0C,GAApC,EAAyC,IAAzC,CAAtD,EAAsGA,MAAMA,IAAIO,KAAJ,CAAU,CAAV,CAAN;AACtG,QAAIjD,yBAAyB,SAAzB,EAAoC0C,GAApC,EAAyC,KAAzC,CAAJ,EAAqDA,MAAMA,IAAIO,KAAJ,CAAU,CAAV,CAAN;;AAErD,QAAIC,QAAQ1C,YAAY,SAAZ,EAAuB2C,MAAvB,CAA8BT,GAA9B,EAAmC,EAAEU,QAAQ,IAAV,EAAnC,CAAZ;AACA,WAAO,IAAIN,MAAJ,CAAWI,MAAMG,MAAN,CAAaJ,KAAb,CAAmB,CAAnB,EAAsB,CAAC,CAAvB,CAAX,EAAsC,GAAtC,CAAP;AACD;;AAED,MAAIjC,qBAAqB,SAArB,EAAgC0B,GAAhC,CAAJ,EAA0C,OAAOA,GAAP;;AAE1C,QAAM,IAAIY,SAAJ,CAAc,2BAAd,CAAN;AACD;;AAED;;;;AAIA,SAASxE,QAAT,CAAkB4D,GAAlB,EAAuBa,KAAvB,EAA8B;AAC5B,MAAI,CAACb,GAAL,EAAU,OAAO,EAAP;AACV,MAAItC,sBAAsB,SAAtB,EAAiCsC,GAAjC,CAAJ,EAA2C,OAAO5D,SAAS,CAAC4D,GAAD,CAAT,EAAgBa,KAAhB,CAAP;AAC3C,MAAIzC,qBAAqB,SAArB,EAAgC4B,GAAhC,CAAJ,EAA0C,OAAO5D,SAASF,KAAK8D,GAAL,CAAT,EAAoBa,KAApB,CAAP;;AAE1C,MAAIZ,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AACtB,QAAIa,KAAJ,EAAWb,MAAMA,IAAIK,GAAJ,CAAQQ,KAAR,CAAN;AACX,WAAOb,GAAP;AACD;;AAED,SAAO,CAACA,GAAD,CAAP;AACD;;AAED;;;;AAIA,SAAS3D,UAAT,CAAoB2D,GAApB,EAAyB;AACvB,MAAIA,QAAQ,MAAZ,EAAoB,OAAO,IAAP;AACpB,MAAIA,QAAQ,OAAZ,EAAqB,OAAO,KAAP;AACrB,SAAOA,GAAP;AACD;;AAED;;;;AAIA,SAAS1D,YAAT,CAAsBoD,QAAtB,EAAgCoB,MAAhC,EAAwCC,IAAxC,EAA8C;AAC5CrB,aAAWN,QAAQ,SAAR,EAAmBM,QAAnB,CAAX;;AAEA,MAAIqB,IAAJ,EAAU;AACR,QAAIC,OAAOD,IAAX;;AAEA,SAAK,IAAIE,KAAK,CAAd,EAAiBA,KAAKD,KAAKE,MAA3B,EAAmCD,IAAnC,EAAyC;AACvC,UAAIE,UAAUH,KAAKC,EAAL,CAAd;AACA,UAAIG,cAAcD,OAAd,EAAuBzB,QAAvB,CAAJ,EAAsC,OAAO,KAAP;AACvC;AACD,WAAO,IAAP;AACD,GARD,MAQO,IAAIoB,OAAOI,MAAX,EAAmB;AACxB,QAAIG,QAAQP,MAAZ;;AAEA,SAAK,IAAIQ,MAAM,CAAf,EAAkBA,MAAMD,MAAMH,MAA9B,EAAsCI,KAAtC,EAA6C;AAC3C,UAAIH,UAAUE,MAAMC,GAAN,CAAd;AACA,UAAIF,cAAcD,OAAd,EAAuBzB,QAAvB,CAAJ,EAAsC,OAAO,IAAP;AACvC;AACF;;AAED,SAAO,KAAP;AACD;;AAED;;;;;AAKA,SAAS0B,aAAT,CAAuBD,OAAvB,EAAgCzB,QAAhC,EAA0C;AACxC,MAAI,OAAOyB,OAAP,KAAmB,UAAvB,EAAmC;AACjC,WAAOA,QAAQzB,QAAR,CAAP;AACD,GAFD,MAEO;AACL,WAAOyB,QAAQI,IAAR,CAAa7B,QAAb,CAAP;AACD;AACF;;AAED;;;;AAIA,IAAI8B,kBAAkB;;AAEpB;;;AAGAC,WAAS,IALW;;AAOpBC,SAAO,SAASA,KAAT,CAAeC,IAAf,EAAqBC,MAArB,EAA6BC,KAA7B,EAAoCC,KAApC,EAA2C;AAChD,QAAI5C,EAAE6C,qBAAF,CAAwBJ,IAAxB,CAAJ,EAAmC;AACjCA,aAAOA,KAAKK,UAAZ;AACD;;AAED,QAAI9C,EAAE+C,YAAF,CAAeN,IAAf,KAAwB7C,kBAAkB,SAAlB,EAA6BgD,KAA7B,EAAoCH,KAAKO,IAAzC,CAA5B,EAA4E;AAC1E,WAAKC,IAAL;AACA,WAAKC,aAAL,CAAmBN,MAAMH,KAAKO,IAAX,CAAnB;AACD;AACF,GAhBmB;;AAkBpBG,QAAM,SAASA,IAAT,CAAcV,IAAd,EAAoB;AACxBzD,gBAAY,SAAZ,EAAuBoE,SAAvB,CAAiCX,IAAjC;AACD;AApBmB,CAAtB;;AAuBA;;;;AAIA,SAASpF,QAAT,CAAkB2F,IAAlB,EAAwBJ,KAAxB,EAA+BS,cAA/B,EAA+C;AAC7C,MAAIC,MAAMzG,QAAQ0G,SAAR,CAAkBP,IAAlB,CAAV;AACA,MAAI,CAACM,GAAL,EAAU,MAAM,IAAIE,cAAJ,CAAmB,sBAAsBR,IAAzC,CAAN;;AAEV,MAAIJ,UAAU,IAAd,EAAoB;AAClBS,qBAAiB,IAAjB;AACAT,YAAQ,IAAR;AACD;;AAEDU,QAAMhF,sBAAsB,SAAtB,EAAiCgF,GAAjC,CAAN;;AAEA,MAAI,CAAChE,oBAAoB,SAApB,EAA+BsD,KAA/B,CAAL,EAA4C;AAC1C5D,gBAAY,SAAZ,EAAuBsE,GAAvB,EAA4BhB,eAA5B,EAA6C,IAA7C,EAAmDM,KAAnD;AACD;;AAED,MAAIU,IAAIG,IAAJ,CAASzB,MAAT,GAAkB,CAAtB,EAAyB,OAAOsB,IAAIG,IAAX;;AAEzB,MAAIhB,OAAOa,IAAIG,IAAJ,CAAS,CAAT,CAAX;;AAEA,MAAI,CAACJ,cAAD,IAAmBrD,EAAE6C,qBAAF,CAAwBJ,IAAxB,CAAvB,EAAsD;AACpD,WAAOA,KAAKK,UAAZ;AACD,GAFD,MAEO;AACL,WAAOL,IAAP;AACD;AACF;;AAED;;;;AAIA,SAASnF,aAAT,CAAuBoG,GAAvB,EAA4BC,IAA5B,EAAkC;AAChC,MAAIL,MAAM9D,eAAe,SAAf,EAA0BmE,IAA1B,EAAgC,EAAEnD,UAAUkD,GAAZ,EAAiBE,cAAc,IAA/B,EAAhC,EAAuEC,OAAjF;AACAP,QAAMtE,YAAY,SAAZ,EAAuB8E,gBAAvB,CAAwCR,GAAxC,CAAN;AACA,SAAOA,GAAP;AACD;;AAED;;;;AAIA,SAASS,aAAT,GAAyB;AACvB,MAAIR,YAAY,EAAhB;;AAEA,MAAIS,eAAetE,OAAO,SAAP,EAAkB0B,IAAlB,CAAuB6C,SAAvB,EAAkC,0BAAlC,CAAnB;AACA,MAAI,CAAC7D,aAAa,SAAb,EAAwB8D,IAAxB,CAA6BF,YAA7B,CAAL,EAAiD;AAC/C,UAAM,IAAIR,cAAJ,CAAmB9E,SAASyF,GAAT,CAAa,2BAAb,CAAnB,CAAN;AACD;;AAED,MAAIC,QAAQtE,KAAK,SAAL,EAAgBuE,WAAhB,CAA4BL,YAA5B,CAAZ;;AAEA,OAAK,IAAIM,MAAM,CAAf,EAAkBA,MAAMF,MAAMpC,MAA9B,EAAsCsC,KAAtC,EAA6C;AAC3C,QAAItB,OAAOoB,MAAME,GAAN,CAAX;AACA,QAAItB,KAAK,CAAL,MAAY,GAAhB,EAAqB;;AAErB,QAAItF,MAAMgC,OAAO,SAAP,EAAkB6E,QAAlB,CAA2BvB,IAA3B,EAAiCtD,OAAO,SAAP,EAAkBmB,OAAlB,CAA0BmC,IAA1B,CAAjC,CAAV;AACA,QAAIU,MAAMhE,OAAO,SAAP,EAAkB0B,IAAlB,CAAuB4C,YAAvB,EAAqChB,IAArC,CAAV;AACA,QAAIW,OAAO7D,KAAK,SAAL,EAAgB0E,YAAhB,CAA6Bd,GAA7B,EAAkC,MAAlC,CAAX;;AAEAH,cAAU7F,GAAV,IAAiBJ,cAAcoG,GAAd,EAAmBC,IAAnB,CAAjB;AACD;;AAED,SAAOJ,SAAP;AACD;;AAED,IAAI;AACF1G,UAAQ0G,SAAR,GAAoBtF,QAAQ,mBAAR,CAApB;AACD,CAFD,CAEE,OAAOwG,GAAP,EAAY;AACZ,MAAIA,IAAId,IAAJ,KAAa,kBAAjB,EAAqC,MAAMc,GAAN;AACrC5H,UAAQ0G,SAAR,GAAoBQ,eAApB;AACD","file":"util.js","sourcesContent":["/* */ \n\"format cjs\";\n\"use strict\";\n\nexports.__esModule = true;\nexports.canCompile = canCompile;\nexports.list = list;\nexports.regexify = regexify;\nexports.arrayify = arrayify;\nexports.booleanify = booleanify;\nexports.shouldIgnore = shouldIgnore;\nexports.template = template;\nexports.parseTemplate = parseTemplate;\n// istanbul ignore next\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj[\"default\"] = obj; return newObj; } }\n\n// istanbul ignore next\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar _lodashStringEscapeRegExp = require(\"lodash/string/escapeRegExp\");\n\nvar _lodashStringEscapeRegExp2 = _interopRequireDefault(_lodashStringEscapeRegExp);\n\nvar _lodashStringStartsWith = require(\"lodash/string/startsWith\");\n\nvar _lodashStringStartsWith2 = _interopRequireDefault(_lodashStringStartsWith);\n\nvar _lodashLangCloneDeep = require(\"lodash/lang/cloneDeep\");\n\nvar _lodashLangCloneDeep2 = _interopRequireDefault(_lodashLangCloneDeep);\n\nvar _lodashLangIsBoolean = require(\"lodash/lang/isBoolean\");\n\nvar _lodashLangIsBoolean2 = _interopRequireDefault(_lodashLangIsBoolean);\n\nvar _messages = require(\"./messages\");\n\nvar messages = _interopRequireWildcard(_messages);\n\nvar _minimatch = require(\"minimatch\");\n\nvar _minimatch2 = _interopRequireDefault(_minimatch);\n\nvar _lodashCollectionContains = require(\"lodash/collection/contains\");\n\nvar _lodashCollectionContains2 = _interopRequireDefault(_lodashCollectionContains);\n\nvar _traversal = require(\"./traversal\");\n\nvar _traversal2 = _interopRequireDefault(_traversal);\n\nvar _lodashLangIsString = require(\"lodash/lang/isString\");\n\nvar _lodashLangIsString2 = _interopRequireDefault(_lodashLangIsString);\n\nvar _lodashLangIsRegExp = require(\"lodash/lang/isRegExp\");\n\nvar _lodashLangIsRegExp2 = _interopRequireDefault(_lodashLangIsRegExp);\n\nvar _lodashLangIsEmpty = require(\"lodash/lang/isEmpty\");\n\nvar _lodashLangIsEmpty2 = _interopRequireDefault(_lodashLangIsEmpty);\n\nvar _helpersParse = require(\"./helpers/parse\");\n\nvar _helpersParse2 = _interopRequireDefault(_helpersParse);\n\nvar _path = require(\"path\");\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _lodashObjectHas = require(\"lodash/object/has\");\n\nvar _lodashObjectHas2 = _interopRequireDefault(_lodashObjectHas);\n\nvar _fs = require(\"fs\");\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _types = require(\"./types\");\n\nvar t = _interopRequireWildcard(_types);\n\nvar _slash = require(\"slash\");\n\nvar _slash2 = _interopRequireDefault(_slash);\n\nvar _pathExists = require(\"path-exists\");\n\nvar _pathExists2 = _interopRequireDefault(_pathExists);\n\nvar _util = require(\"util\");\n\nexports.inherits = _util.inherits;\nexports.inspect = _util.inspect;\n\n/**\n * Test if a filename ends with a compilable extension.\n */\n\nfunction canCompile(filename, altExts) {\n  var exts = altExts || canCompile.EXTENSIONS;\n  var ext = _path2[\"default\"].extname(filename);\n  return _lodashCollectionContains2[\"default\"](exts, ext);\n}\n\n/**\n * Default set of compilable extensions.\n */\n\ncanCompile.EXTENSIONS = [\".js\", \".jsx\", \".es6\", \".es\"];\n\n/**\n * Create an array from any value, splitting strings by \",\".\n */\n\nfunction list(val) {\n  if (!val) {\n    return [];\n  } else if (Array.isArray(val)) {\n    return val;\n  } else if (typeof val === \"string\") {\n    return val.split(\",\");\n  } else {\n    return [val];\n  }\n}\n\n/**\n * Create a RegExp from a string, array, or regexp.\n */\n\nfunction regexify(val) {\n  if (!val) return new RegExp(/.^/);\n\n  if (Array.isArray(val)) val = new RegExp(val.map(_lodashStringEscapeRegExp2[\"default\"]).join(\"|\"), \"i\");\n\n  if (_lodashLangIsString2[\"default\"](val)) {\n    // normalise path separators\n    val = _slash2[\"default\"](val);\n\n    // remove starting wildcards or relative separator if present\n    if (_lodashStringStartsWith2[\"default\"](val, \"./\") || _lodashStringStartsWith2[\"default\"](val, \"*/\")) val = val.slice(2);\n    if (_lodashStringStartsWith2[\"default\"](val, \"**/\")) val = val.slice(3);\n\n    var regex = _minimatch2[\"default\"].makeRe(val, { nocase: true });\n    return new RegExp(regex.source.slice(1, -1), \"i\");\n  }\n\n  if (_lodashLangIsRegExp2[\"default\"](val)) return val;\n\n  throw new TypeError(\"illegal type for regexify\");\n}\n\n/**\n * Create an array from a boolean, string, or array, mapped by and optional function.\n */\n\nfunction arrayify(val, mapFn) {\n  if (!val) return [];\n  if (_lodashLangIsBoolean2[\"default\"](val)) return arrayify([val], mapFn);\n  if (_lodashLangIsString2[\"default\"](val)) return arrayify(list(val), mapFn);\n\n  if (Array.isArray(val)) {\n    if (mapFn) val = val.map(mapFn);\n    return val;\n  }\n\n  return [val];\n}\n\n/**\n * Makes boolean-like strings into booleans.\n */\n\nfunction booleanify(val) {\n  if (val === \"true\") return true;\n  if (val === \"false\") return false;\n  return val;\n}\n\n/**\n * Tests if a filename should be ignored based on \"ignore\" and \"only\" options.\n */\n\nfunction shouldIgnore(filename, ignore, only) {\n  filename = _slash2[\"default\"](filename);\n\n  if (only) {\n    var _arr = only;\n\n    for (var _i = 0; _i < _arr.length; _i++) {\n      var pattern = _arr[_i];\n      if (_shouldIgnore(pattern, filename)) return false;\n    }\n    return true;\n  } else if (ignore.length) {\n    var _arr2 = ignore;\n\n    for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n      var pattern = _arr2[_i2];\n      if (_shouldIgnore(pattern, filename)) return true;\n    }\n  }\n\n  return false;\n}\n\n/**\n * Returns result of calling function with filename if pattern is a function.\n * Otherwise returns result of matching pattern Regex with filename.\n */\n\nfunction _shouldIgnore(pattern, filename) {\n  if (typeof pattern === \"function\") {\n    return pattern(filename);\n  } else {\n    return pattern.test(filename);\n  }\n}\n\n/**\n * A visitor for Babel templates, replaces placeholder references.\n */\n\nvar templateVisitor = {\n\n  /**\n   * 360 NoScope PWNd\n   */\n  noScope: true,\n\n  enter: function enter(node, parent, scope, nodes) {\n    if (t.isExpressionStatement(node)) {\n      node = node.expression;\n    }\n\n    if (t.isIdentifier(node) && _lodashObjectHas2[\"default\"](nodes, node.name)) {\n      this.skip();\n      this.replaceInline(nodes[node.name]);\n    }\n  },\n\n  exit: function exit(node) {\n    _traversal2[\"default\"].clearNode(node);\n  }\n};\n\n/**\n * Create an instance of a template to use in a transformer.\n */\n\nfunction template(name, nodes, keepExpression) {\n  var ast = exports.templates[name];\n  if (!ast) throw new ReferenceError(\"unknown template \" + name);\n\n  if (nodes === true) {\n    keepExpression = true;\n    nodes = null;\n  }\n\n  ast = _lodashLangCloneDeep2[\"default\"](ast);\n\n  if (!_lodashLangIsEmpty2[\"default\"](nodes)) {\n    _traversal2[\"default\"](ast, templateVisitor, null, nodes);\n  }\n\n  if (ast.body.length > 1) return ast.body;\n\n  var node = ast.body[0];\n\n  if (!keepExpression && t.isExpressionStatement(node)) {\n    return node.expression;\n  } else {\n    return node;\n  }\n}\n\n/**\n * Parse a template.\n */\n\nfunction parseTemplate(loc, code) {\n  var ast = _helpersParse2[\"default\"](code, { filename: loc, looseModules: true }).program;\n  ast = _traversal2[\"default\"].removeProperties(ast);\n  return ast;\n}\n\n/**\n * Load templates from transformation/templates directory.\n */\n\nfunction loadTemplates() {\n  var templates = {};\n\n  var templatesLoc = _path2[\"default\"].join(__dirname, \"transformation/templates\");\n  if (!_pathExists2[\"default\"].sync(templatesLoc)) {\n    throw new ReferenceError(messages.get(\"missingTemplatesDirectory\"));\n  }\n\n  var _arr3 = _fs2[\"default\"].readdirSync(templatesLoc);\n\n  for (var _i3 = 0; _i3 < _arr3.length; _i3++) {\n    var name = _arr3[_i3];\n    if (name[0] === \".\") return;\n\n    var key = _path2[\"default\"].basename(name, _path2[\"default\"].extname(name));\n    var loc = _path2[\"default\"].join(templatesLoc, name);\n    var code = _fs2[\"default\"].readFileSync(loc, \"utf8\");\n\n    templates[key] = parseTemplate(loc, code);\n  }\n\n  return templates;\n}\n\ntry {\n  exports.templates = require(\"../templates.json\");\n} catch (err) {\n  if (err.code !== \"MODULE_NOT_FOUND\") throw err;\n  exports.templates = loadTemplates();\n}"]}