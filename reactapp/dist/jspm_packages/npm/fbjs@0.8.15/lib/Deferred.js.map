{"version":3,"sources":["../../../../../jspm_packages/npm/fbjs@0.8.15/lib/Deferred.js"],"names":["Promise","require","_classCallCheck","instance","Constructor","TypeError","Deferred","_this","_settled","_promise","resolve","reject","_resolve","_reject","prototype","getPromise","value","reason","_catch","onReject","apply","arguments","then","onFulfill","done","promise","length","undefined","err","setTimeout","isSettled","module","exports"],"mappings":"AAAA;AACA;;AACA,IAAIA,UAAUC,QAAQ,WAAR,CAAd;AACA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAC9C,MAAI,EAAED,oBAAoBC,WAAtB,CAAJ,EAAwC;AACtC,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AACD;AACF;AACD,IAAIC,WAAW,YAAW;AACxB,WAASA,QAAT,GAAoB;AAClB,QAAIC,QAAQ,IAAZ;AACAL,oBAAgB,IAAhB,EAAsBI,QAAtB;AACA,SAAKE,QAAL,GAAgB,KAAhB;AACA,SAAKC,QAAL,GAAgB,IAAIT,OAAJ,CAAY,UAASU,OAAT,EAAkBC,MAAlB,EAA0B;AACpDJ,YAAMK,QAAN,GAAiBF,OAAjB;AACAH,YAAMM,OAAN,GAAgBF,MAAhB;AACD,KAHe,CAAhB;AAID;AACDL,WAASQ,SAAT,CAAmBC,UAAnB,GAAgC,SAASA,UAAT,GAAsB;AACpD,WAAO,KAAKN,QAAZ;AACD,GAFD;AAGAH,WAASQ,SAAT,CAAmBJ,OAAnB,GAA6B,SAASA,OAAT,CAAiBM,KAAjB,EAAwB;AACnD,SAAKR,QAAL,GAAgB,IAAhB;AACA,SAAKI,QAAL,CAAcI,KAAd;AACD,GAHD;AAIAV,WAASQ,SAAT,CAAmBH,MAAnB,GAA4B,SAASA,MAAT,CAAgBM,MAAhB,EAAwB;AAClD,SAAKT,QAAL,GAAgB,IAAhB;AACA,SAAKK,OAAL,CAAaI,MAAb;AACD,GAHD;AAIAX,WAASQ,SAAT,CAAmB,OAAnB,IAA8B,SAASI,MAAT,CAAgBC,QAAhB,EAA0B;AACtD,WAAOnB,QAAQc,SAAR,CAAkB,OAAlB,EAA2BM,KAA3B,CAAiC,KAAKX,QAAtC,EAAgDY,SAAhD,CAAP;AACD,GAFD;AAGAf,WAASQ,SAAT,CAAmBQ,IAAnB,GAA0B,SAASA,IAAT,CAAcC,SAAd,EAAyBJ,QAAzB,EAAmC;AAC3D,WAAOnB,QAAQc,SAAR,CAAkBQ,IAAlB,CAAuBF,KAAvB,CAA6B,KAAKX,QAAlC,EAA4CY,SAA5C,CAAP;AACD,GAFD;AAGAf,WAASQ,SAAT,CAAmBU,IAAnB,GAA0B,SAASA,IAAT,CAAcD,SAAd,EAAyBJ,QAAzB,EAAmC;AAC3D,QAAIM,UAAUJ,UAAUK,MAAV,GAAmB,KAAKjB,QAAL,CAAca,IAAd,CAAmBF,KAAnB,CAAyB,KAAKX,QAA9B,EAAwCY,SAAxC,CAAnB,GAAwE,KAAKZ,QAA3F;AACAgB,YAAQH,IAAR,CAAaK,SAAb,EAAwB,UAASC,GAAT,EAAc;AACpCC,iBAAW,YAAW;AACpB,cAAMD,GAAN;AACD,OAFD,EAEG,CAFH;AAGD,KAJD;AAKD,GAPD;AAQAtB,WAASQ,SAAT,CAAmBgB,SAAnB,GAA+B,SAASA,SAAT,GAAqB;AAClD,WAAO,KAAKtB,QAAZ;AACD,GAFD;AAGA,SAAOF,QAAP;AACD,CAvCc,EAAf;AAwCAyB,OAAOC,OAAP,GAAiB1B,QAAjB","file":"Deferred.js","sourcesContent":["/* */ \n\"use strict\";\nvar Promise = require('./Promise');\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nvar Deferred = function() {\n  function Deferred() {\n    var _this = this;\n    _classCallCheck(this, Deferred);\n    this._settled = false;\n    this._promise = new Promise(function(resolve, reject) {\n      _this._resolve = resolve;\n      _this._reject = reject;\n    });\n  }\n  Deferred.prototype.getPromise = function getPromise() {\n    return this._promise;\n  };\n  Deferred.prototype.resolve = function resolve(value) {\n    this._settled = true;\n    this._resolve(value);\n  };\n  Deferred.prototype.reject = function reject(reason) {\n    this._settled = true;\n    this._reject(reason);\n  };\n  Deferred.prototype[\"catch\"] = function _catch(onReject) {\n    return Promise.prototype[\"catch\"].apply(this._promise, arguments);\n  };\n  Deferred.prototype.then = function then(onFulfill, onReject) {\n    return Promise.prototype.then.apply(this._promise, arguments);\n  };\n  Deferred.prototype.done = function done(onFulfill, onReject) {\n    var promise = arguments.length ? this._promise.then.apply(this._promise, arguments) : this._promise;\n    promise.then(undefined, function(err) {\n      setTimeout(function() {\n        throw err;\n      }, 0);\n    });\n  };\n  Deferred.prototype.isSettled = function isSettled() {\n    return this._settled;\n  };\n  return Deferred;\n}();\nmodule.exports = Deferred;\n"]}