{"version":3,"sources":["../../../../../jspm_packages/npm/fbjs@0.8.15/lib/UnicodeHangulKorean.js"],"names":["HANGUL_COMPATIBILITY_OR_SYLLABLE_REGEX","hasCompatibilityOrSyllable","str","test","CMAP","CBASE","CCOUNT","length","CTOP","fromCompatibility","codePoint","String","fromCharCode","LBASE","VBASE","TBASE","SBASE","LCOUNT","VCOUNT","TCOUNT","NCOUNT","SCOUNT","STOP","decomposeSyllable","sylSIndex","sylTIndex","toConjoiningJamo","string","result","i","charStr","charAt","codeUnit","charCodeAt","push","join","UnicodeHangulKorean","module","exports"],"mappings":"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","file":"UnicodeHangulKorean.js","sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\n/**\n * Unicode algorithms for Hangul script, the Korean writing system\n *\n * Hangul script has three encoded models in Unicode:\n *\n * A) Conjoining Jamo (covers modern and historic elements)\n *    * U+1100..U+11FF ; Hangul Jamo\n *    * U+A960..U+A97F ; Hangul Jamo Extended-A\n *    * U+D7B0..U+D7FF ; Hangul Jamo Extended-B\n *\n * B) Conjoined Syllables (only covers modern Korean language)\n *    * U+AC00..U+D7AF ; Hangul Syllables\n *\n * C) Compatibility Jamo (one code-point for each \"shape\")\n *    * U+3130..U+318F ; Hangul Compatibility Jamo\n *\n * This modules helps you convert characters from one model to another.\n * Primary functionalities are:\n *\n * 1) Convert from any encodings to Conjoining Jamo characters (A),\n *    e.g. for prefix matching\n *\n * 2) Convert from any encodings to Syllable characters, when possible (B),\n *    e.g. to reach the normal Unicode form (NFC)\n */\n\n'use strict';\n\nvar HANGUL_COMPATIBILITY_OR_SYLLABLE_REGEX = /[\\u3130-\\u318F\\uAC00-\\uD7AF]/;\n\n/**\n * Returns true if the input includes any Hangul Compatibility Jamo or\n * Hangul Conjoined Syllable.\n *\n * @param {string} str\n */\nfunction hasCompatibilityOrSyllable(str) {\n  return HANGUL_COMPATIBILITY_OR_SYLLABLE_REGEX.test(str);\n}\n\n/* Compatibility Jamo -> Conjoining Jamo\n *\n * Maps a compatibility character to the Conjoining Jamo character,\n * positioned at (compatibilityCodePoint - 0x3131).\n *\n * Generated by:\n * $ grep '^31[3-8].;' UnicodeData.txt |\\\n *     awk -F';' '{print $6}' | awk '{print \"  0x\"$2\",\"}'\n */\nvar CMAP = [0x1100, 0x1101, 0x11AA, 0x1102, 0x11AC, 0x11AD, 0x1103, 0x1104, 0x1105, 0x11B0, 0x11B1, 0x11B2, 0x11B3, 0x11B4, 0x11B5, 0x111A, 0x1106, 0x1107, 0x1108, 0x1121, 0x1109, 0x110A, 0x110B, 0x110C, 0x110D, 0x110E, 0x110F, 0x1110, 0x1111, 0x1112, 0x1161, 0x1162, 0x1163, 0x1164, 0x1165, 0x1166, 0x1167, 0x1168, 0x1169, 0x116A, 0x116B, 0x116C, 0x116D, 0x116E, 0x116F, 0x1170, 0x1171, 0x1172, 0x1173, 0x1174, 0x1175, 0x1160, 0x1114, 0x1115, 0x11C7, 0x11C8, 0x11CC, 0x11CE, 0x11D3, 0x11D7, 0x11D9, 0x111C, 0x11DD, 0x11DF, 0x111D, 0x111E, 0x1120, 0x1122, 0x1123, 0x1127, 0x1129, 0x112B, 0x112C, 0x112D, 0x112E, 0x112F, 0x1132, 0x1136, 0x1140, 0x1147, 0x114C, 0x11F1, 0x11F2, 0x1157, 0x1158, 0x1159, 0x1184, 0x1185, 0x1188, 0x1191, 0x1192, 0x1194, 0x119E, 0x11A1];\n\nvar CBASE = 0x3131;\nvar CCOUNT = CMAP.length;\nvar CTOP = CBASE + CCOUNT;\n\n/**\n * Maps one Hangul Compatibility Jamo code-point to the equivalent Hangul\n * Conjoining Jamo characters, as defined in UnicodeData.txt.\n *\n * @param {number} codePoint  One Unicode code-point\n * @output {string}\n */\nfunction fromCompatibility(codePoint) {\n  return String.fromCharCode(CMAP[codePoint - CBASE]);\n}\n\n/**\n * Conjoined Syllable -> Conjoining Jamo\n *\n * Based on the \"Hangul Syllable Decomposition\" algorithm provided in\n * 3.12 Conjoining Jamo Behavior, The Unicode Standard, Version 6.3.0.\n * <http://www.unicode.org/versions/Unicode6.2.0/ch03.pdf>\n */\n\nvar LBASE = 0x1100;\nvar VBASE = 0x1161;\nvar TBASE = 0x11A7;\nvar SBASE = 0xAC00;\nvar LCOUNT = 19;\nvar VCOUNT = 21;\nvar TCOUNT = 28;\nvar NCOUNT = VCOUNT * TCOUNT;\nvar SCOUNT = LCOUNT * NCOUNT;\nvar STOP = SBASE + SCOUNT;\n\n/**\n * Maps one Hangul Syllable code-point to the equivalent Hangul\n * Conjoining Jamo characters, as defined in UnicodeData.txt.\n *\n * @param {number} codePoint  One Unicode character\n * @output {string}\n */\nfunction decomposeSyllable(codePoint) {\n  var sylSIndex = codePoint - SBASE;\n  var sylTIndex = sylSIndex % TCOUNT;\n  return String.fromCharCode(LBASE + sylSIndex / NCOUNT) + String.fromCharCode(VBASE + sylSIndex % NCOUNT / TCOUNT) + (sylTIndex > 0 ? String.fromCharCode(TBASE + sylTIndex) : '');\n}\n\n/* To Conjoining Jamo */\n\n/**\n * Return Unicode characters as they are, except for Hangul characters, which\n * will be converted to the Conjoining Jamo form.\n *\n * @param {string} string\n * @output {string}\n */\nfunction toConjoiningJamo(string) {\n  if (!hasCompatibilityOrSyllable(string)) {\n    return string;\n  }\n\n  var result = [];\n  for (var i = 0; i < string.length; i++) {\n    var charStr = string.charAt(i);\n    var codeUnit = charStr.charCodeAt(0);\n    result.push(CBASE <= codeUnit && codeUnit < CTOP ? fromCompatibility(codeUnit) : SBASE <= codeUnit && codeUnit < STOP ? decomposeSyllable(codeUnit) : charStr);\n  }\n  return result.join('');\n}\n\nvar UnicodeHangulKorean = {\n  toConjoiningJamo: toConjoiningJamo\n};\n\nmodule.exports = UnicodeHangulKorean;"]}