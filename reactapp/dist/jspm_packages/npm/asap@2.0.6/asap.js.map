{"version":3,"sources":["../../../../jspm_packages/npm/asap@2.0.6/asap.js"],"names":["process","rawAsap","require","freeTasks","module","exports","asap","task","rawTask","length","pop","RawTask","domain","prototype","call","enter","threw","exit","requestFlush","push"],"mappings":";;AAAA;AACA,CAAC,UAASA,OAAT,EAAkB;AACjB;;AACA,MAAIC,UAAUC,QAAQ,eAAR,CAAd;AACA,MAAIC,YAAY,EAAhB;AACAC,SAAOC,OAAP,GAAiBC,IAAjB;AACA,WAASA,IAAT,CAAcC,IAAd,EAAoB;AAClB,QAAIC,OAAJ;AACA,QAAIL,UAAUM,MAAd,EAAsB;AACpBD,gBAAUL,UAAUO,GAAV,EAAV;AACD,KAFD,MAEO;AACLF,gBAAU,IAAIG,OAAJ,EAAV;AACD;AACDH,YAAQD,IAAR,GAAeA,IAAf;AACAC,YAAQI,MAAR,GAAiBZ,QAAQY,MAAzB;AACAX,YAAQO,OAAR;AACD;AACD,WAASG,OAAT,GAAmB;AACjB,SAAKJ,IAAL,GAAY,IAAZ;AACA,SAAKK,MAAL,GAAc,IAAd;AACD;AACDD,UAAQE,SAAR,CAAkBC,IAAlB,GAAyB,YAAW;AAClC,QAAI,KAAKF,MAAT,EAAiB;AACf,WAAKA,MAAL,CAAYG,KAAZ;AACD;AACD,QAAIC,QAAQ,IAAZ;AACA,QAAI;AACF,WAAKT,IAAL,CAAUO,IAAV;AACAE,cAAQ,KAAR;AACA,UAAI,KAAKJ,MAAT,EAAiB;AACf,aAAKA,MAAL,CAAYK,IAAZ;AACD;AACF,KAND,SAMU;AACR,UAAID,KAAJ,EAAW;AACTf,gBAAQiB,YAAR;AACD;AACD,WAAKX,IAAL,GAAY,IAAZ;AACA,WAAKK,MAAL,GAAc,IAAd;AACAT,gBAAUgB,IAAV,CAAe,IAAf;AACD;AACF,GAnBD;AAoBD,CAxCD,EAwCGjB,QAAQ,SAAR,CAxCH","file":"asap.js","sourcesContent":["/* */ \n(function(process) {\n  \"use strict\";\n  var rawAsap = require('./browser-raw');\n  var freeTasks = [];\n  module.exports = asap;\n  function asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n      rawTask = freeTasks.pop();\n    } else {\n      rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawTask.domain = process.domain;\n    rawAsap(rawTask);\n  }\n  function RawTask() {\n    this.task = null;\n    this.domain = null;\n  }\n  RawTask.prototype.call = function() {\n    if (this.domain) {\n      this.domain.enter();\n    }\n    var threw = true;\n    try {\n      this.task.call();\n      threw = false;\n      if (this.domain) {\n        this.domain.exit();\n      }\n    } finally {\n      if (threw) {\n        rawAsap.requestFlush();\n      }\n      this.task = null;\n      this.domain = null;\n      freeTasks.push(this);\n    }\n  };\n})(require('process'));\n"]}