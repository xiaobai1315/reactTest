{"version":3,"sources":["../../../../../jspm_packages/npm/core-js@1.2.7/modules/$.collection.js"],"names":["global","require","$export","redefine","redefineAll","forOf","strictNew","isObject","fails","$iterDetect","setToStringTag","module","exports","NAME","wrapper","methods","common","IS_MAP","IS_WEAK","Base","C","ADDER","proto","prototype","O","fixMethod","KEY","fn","a","call","has","get","undefined","add","set","b","forEach","entries","next","getConstructor","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","iter","BUGGY_ZERO","target","iterable","that","constructor","val","key","Infinity","clear","G","W","F","setStrong"],"mappings":"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","file":"$.collection.js","sourcesContent":["/* */ \n'use strict';\nvar global = require('./$.global'),\n    $export = require('./$.export'),\n    redefine = require('./$.redefine'),\n    redefineAll = require('./$.redefine-all'),\n    forOf = require('./$.for-of'),\n    strictNew = require('./$.strict-new'),\n    isObject = require('./$.is-object'),\n    fails = require('./$.fails'),\n    $iterDetect = require('./$.iter-detect'),\n    setToStringTag = require('./$.set-to-string-tag');\nmodule.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME],\n      C = Base,\n      ADDER = IS_MAP ? 'set' : 'add',\n      proto = C && C.prototype,\n      O = {};\n  var fixMethod = function(KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY, KEY == 'delete' ? function(a) {\n      return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n    } : KEY == 'has' ? function has(a) {\n      return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n    } : KEY == 'get' ? function get(a) {\n      return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n    } : KEY == 'add' ? function add(a) {\n      fn.call(this, a === 0 ? 0 : a);\n      return this;\n    } : function set(a, b) {\n      fn.call(this, a === 0 ? 0 : a, b);\n      return this;\n    });\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function() {\n    new C().entries().next();\n  }))) {\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n  } else {\n    var instance = new C,\n        HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance,\n        THROWS_ON_PRIMITIVES = fails(function() {\n          instance.has(1);\n        }),\n        ACCEPT_ITERABLES = $iterDetect(function(iter) {\n          new C(iter);\n        }),\n        BUGGY_ZERO;\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function(target, iterable) {\n        strictNew(target, C, NAME);\n        var that = new Base;\n        if (iterable != undefined)\n          forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    IS_WEAK || instance.forEach(function(val, key) {\n      BUGGY_ZERO = 1 / key === -Infinity;\n    });\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING)\n      fixMethod(ADDER);\n    if (IS_WEAK && proto.clear)\n      delete proto.clear;\n  }\n  setToStringTag(C, NAME);\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n  if (!IS_WEAK)\n    common.setStrong(C, NAME, IS_MAP);\n  return C;\n};\n"]}