{"version":3,"sources":["../../../../../jspm_packages/npm/core-js@1.2.7/modules/es6.weak-map.js"],"names":["$","require","redefine","weak","isObject","has","frozenStore","WEAK","isExtensible","Object","tmp","$WeakMap","get","WeakMap","arguments","length","undefined","key","_i","set","value","def","freeze","each","call","proto","prototype","method","a","b","result"],"mappings":"AAAA;AACA;;AACA,IAAIA,IAAIC,QAAQ,KAAR,CAAR;AAAA,IACIC,WAAWD,QAAQ,cAAR,CADf;AAAA,IAEIE,OAAOF,QAAQ,qBAAR,CAFX;AAAA,IAGIG,WAAWH,QAAQ,eAAR,CAHf;AAAA,IAIII,MAAMJ,QAAQ,SAAR,CAJV;AAAA,IAKIK,cAAcH,KAAKG,WALvB;AAAA,IAMIC,OAAOJ,KAAKI,IANhB;AAAA,IAOIC,eAAeC,OAAOD,YAAP,IAAuBJ,QAP1C;AAAA,IAQIM,MAAM,EARV;AASA,IAAIC,WAAWV,QAAQ,gBAAR,EAA0B,SAA1B,EAAqC,UAASW,GAAT,EAAc;AAChE,SAAO,SAASC,OAAT,GAAmB;AACxB,WAAOD,IAAI,IAAJ,EAAUE,UAAUC,MAAV,GAAmB,CAAnB,GAAuBD,UAAU,CAAV,CAAvB,GAAsCE,SAAhD,CAAP;AACD,GAFD;AAGD,CAJc,EAIZ;AACDJ,OAAK,SAASA,GAAT,CAAaK,GAAb,EAAkB;AACrB,QAAIb,SAASa,GAAT,CAAJ,EAAmB;AACjB,UAAI,CAACT,aAAaS,GAAb,CAAL,EACE,OAAOX,YAAY,IAAZ,EAAkBM,GAAlB,CAAsBK,GAAtB,CAAP;AACF,UAAIZ,IAAIY,GAAJ,EAASV,IAAT,CAAJ,EACE,OAAOU,IAAIV,IAAJ,EAAU,KAAKW,EAAf,CAAP;AACH;AACF,GARA;AASDC,OAAK,SAASA,GAAT,CAAaF,GAAb,EAAkBG,KAAlB,EAAyB;AAC5B,WAAOjB,KAAKkB,GAAL,CAAS,IAAT,EAAeJ,GAAf,EAAoBG,KAApB,CAAP;AACD;AAXA,CAJY,EAgBZjB,IAhBY,EAgBN,IAhBM,EAgBA,IAhBA,CAAf;AAiBA,IAAI,IAAIQ,QAAJ,GAAeQ,GAAf,CAAmB,CAACV,OAAOa,MAAP,IAAiBb,MAAlB,EAA0BC,GAA1B,CAAnB,EAAmD,CAAnD,EAAsDE,GAAtD,CAA0DF,GAA1D,KAAkE,CAAtE,EAAyE;AACvEV,IAAEuB,IAAF,CAAOC,IAAP,CAAY,CAAC,QAAD,EAAW,KAAX,EAAkB,KAAlB,EAAyB,KAAzB,CAAZ,EAA6C,UAASP,GAAT,EAAc;AACzD,QAAIQ,QAAQd,SAASe,SAArB;AAAA,QACIC,SAASF,MAAMR,GAAN,CADb;AAEAf,aAASuB,KAAT,EAAgBR,GAAhB,EAAqB,UAASW,CAAT,EAAYC,CAAZ,EAAe;AAClC,UAAIzB,SAASwB,CAAT,KAAe,CAACpB,aAAaoB,CAAb,CAApB,EAAqC;AACnC,YAAIE,SAASxB,YAAY,IAAZ,EAAkBW,GAAlB,EAAuBW,CAAvB,EAA0BC,CAA1B,CAAb;AACA,eAAOZ,OAAO,KAAP,GAAe,IAAf,GAAsBa,MAA7B;AACD;AACD,aAAOH,OAAOH,IAAP,CAAY,IAAZ,EAAkBI,CAAlB,EAAqBC,CAArB,CAAP;AACD,KAND;AAOD,GAVD;AAWD","file":"es6.weak-map.js","sourcesContent":["/* */ \n'use strict';\nvar $ = require('./$'),\n    redefine = require('./$.redefine'),\n    weak = require('./$.collection-weak'),\n    isObject = require('./$.is-object'),\n    has = require('./$.has'),\n    frozenStore = weak.frozenStore,\n    WEAK = weak.WEAK,\n    isExtensible = Object.isExtensible || isObject,\n    tmp = {};\nvar $WeakMap = require('./$.collection')('WeakMap', function(get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n}, {\n  get: function get(key) {\n    if (isObject(key)) {\n      if (!isExtensible(key))\n        return frozenStore(this).get(key);\n      if (has(key, WEAK))\n        return key[WEAK][this._i];\n    }\n  },\n  set: function set(key, value) {\n    return weak.def(this, key, value);\n  }\n}, weak, true, true);\nif (new $WeakMap().set((Object.freeze || Object)(tmp), 7).get(tmp) != 7) {\n  $.each.call(['delete', 'has', 'get', 'set'], function(key) {\n    var proto = $WeakMap.prototype,\n        method = proto[key];\n    redefine(proto, key, function(a, b) {\n      if (isObject(a) && !isExtensible(a)) {\n        var result = frozenStore(this)[key](a, b);\n        return key == 'set' ? this : result;\n      }\n      return method.call(this, a, b);\n    });\n  });\n}\n"]}