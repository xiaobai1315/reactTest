{"version":3,"sources":["../../../../../jspm_packages/npm/core-js@1.2.7/modules/$.collection-strong.js"],"names":["$","require","hide","redefineAll","ctx","strictNew","defined","forOf","$iterDefine","step","ID","$has","isObject","setSpecies","DESCRIPTORS","isExtensible","Object","SIZE","id","fastKey","it","create","getEntry","that","key","index","entry","_i","_f","n","k","module","exports","getConstructor","wrapper","NAME","IS_MAP","ADDER","C","iterable","undefined","_l","prototype","clear","data","r","p","i","next","prev","forEach","callbackfn","f","arguments","length","v","has","setDesc","get","def","value","setStrong","iterated","kind","_t","_k"],"mappings":"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","file":"$.collection-strong.js","sourcesContent":["/* */ \n'use strict';\nvar $ = require('./$'),\n    hide = require('./$.hide'),\n    redefineAll = require('./$.redefine-all'),\n    ctx = require('./$.ctx'),\n    strictNew = require('./$.strict-new'),\n    defined = require('./$.defined'),\n    forOf = require('./$.for-of'),\n    $iterDefine = require('./$.iter-define'),\n    step = require('./$.iter-step'),\n    ID = require('./$.uid')('id'),\n    $has = require('./$.has'),\n    isObject = require('./$.is-object'),\n    setSpecies = require('./$.set-species'),\n    DESCRIPTORS = require('./$.descriptors'),\n    isExtensible = Object.isExtensible || isObject,\n    SIZE = DESCRIPTORS ? '_s' : 'size',\n    id = 0;\nvar fastKey = function(it, create) {\n  if (!isObject(it))\n    return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!$has(it, ID)) {\n    if (!isExtensible(it))\n      return 'F';\n    if (!create)\n      return 'E';\n    hide(it, ID, ++id);\n  }\n  return 'O' + it[ID];\n};\nvar getEntry = function(that, key) {\n  var index = fastKey(key),\n      entry;\n  if (index !== 'F')\n    return that._i[index];\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key)\n      return entry;\n  }\n};\nmodule.exports = {\n  getConstructor: function(wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function(that, iterable) {\n      strictNew(that, C, NAME);\n      that._i = $.create(null);\n      that._f = undefined;\n      that._l = undefined;\n      that[SIZE] = 0;\n      if (iterable != undefined)\n        forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      clear: function clear() {\n        for (var that = this,\n            data = that._i,\n            entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p)\n            entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      'delete': function(key) {\n        var that = this,\n            entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n,\n              prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev)\n            prev.n = next;\n          if (next)\n            next.p = prev;\n          if (that._f == entry)\n            that._f = next;\n          if (that._l == entry)\n            that._l = prev;\n          that[SIZE]--;\n        }\n        return !!entry;\n      },\n      forEach: function forEach(callbackfn) {\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3),\n            entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          while (entry && entry.r)\n            entry = entry.p;\n        }\n      },\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n    if (DESCRIPTORS)\n      $.setDesc(C.prototype, 'size', {get: function() {\n          return defined(this[SIZE]);\n        }});\n    return C;\n  },\n  def: function(that, key, value) {\n    var entry = getEntry(that, key),\n        prev,\n        index;\n    if (entry) {\n      entry.v = value;\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true),\n        k: key,\n        v: value,\n        p: prev = that._l,\n        n: undefined,\n        r: false\n      };\n      if (!that._f)\n        that._f = entry;\n      if (prev)\n        prev.n = entry;\n      that[SIZE]++;\n      if (index !== 'F')\n        that._i[index] = entry;\n    }\n    return that;\n  },\n  getEntry: getEntry,\n  setStrong: function(C, NAME, IS_MAP) {\n    $iterDefine(C, NAME, function(iterated, kind) {\n      this._t = iterated;\n      this._k = kind;\n      this._l = undefined;\n    }, function() {\n      var that = this,\n          kind = that._k,\n          entry = that._l;\n      while (entry && entry.r)\n        entry = entry.p;\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        that._t = undefined;\n        return step(1);\n      }\n      if (kind == 'keys')\n        return step(0, entry.k);\n      if (kind == 'values')\n        return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n    setSpecies(NAME);\n  }\n};\n"]}