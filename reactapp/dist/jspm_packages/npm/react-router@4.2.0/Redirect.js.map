{"version":3,"sources":["../../../../jspm_packages/npm/react-router@4.2.0/Redirect.js"],"names":["exports","__esModule","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_warning","_warning2","_invariant","_invariant2","_history","obj","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","Redirect","_React$Component","apply","arguments","isStatic","context","router","staticContext","componentWillMount","perform","componentDidMount","componentDidUpdate","prevProps","prevTo","createLocation","to","nextTo","props","locationsAreEqual","pathname","search","history","_props","push","replace","render","Component","propTypes","bool","from","string","oneOfType","object","isRequired","defaultProps","contextTypes","shape","func"],"mappings":"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","file":"Redirect.js","sourcesContent":["/* */ \n'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _history = require('history');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * The public API for updating the location programmatically\n * with a component.\n */\nvar Redirect = function (_React$Component) {\n  _inherits(Redirect, _React$Component);\n\n  function Redirect() {\n    _classCallCheck(this, Redirect);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Redirect.prototype.isStatic = function isStatic() {\n    return this.context.router && this.context.router.staticContext;\n  };\n\n  Redirect.prototype.componentWillMount = function componentWillMount() {\n    (0, _invariant2.default)(this.context.router, 'You should not use <Redirect> outside a <Router>');\n\n    if (this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidMount = function componentDidMount() {\n    if (!this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var prevTo = (0, _history.createLocation)(prevProps.to);\n    var nextTo = (0, _history.createLocation)(this.props.to);\n\n    if ((0, _history.locationsAreEqual)(prevTo, nextTo)) {\n      (0, _warning2.default)(false, 'You tried to redirect to the same route you\\'re currently on: ' + ('\"' + nextTo.pathname + nextTo.search + '\"'));\n      return;\n    }\n\n    this.perform();\n  };\n\n  Redirect.prototype.perform = function perform() {\n    var history = this.context.router.history;\n    var _props = this.props,\n        push = _props.push,\n        to = _props.to;\n\n\n    if (push) {\n      history.push(to);\n    } else {\n      history.replace(to);\n    }\n  };\n\n  Redirect.prototype.render = function render() {\n    return null;\n  };\n\n  return Redirect;\n}(_react2.default.Component);\n\nRedirect.propTypes = {\n  push: _propTypes2.default.bool,\n  from: _propTypes2.default.string,\n  to: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]).isRequired\n};\nRedirect.defaultProps = {\n  push: false\n};\nRedirect.contextTypes = {\n  router: _propTypes2.default.shape({\n    history: _propTypes2.default.shape({\n      push: _propTypes2.default.func.isRequired,\n      replace: _propTypes2.default.func.isRequired\n    }).isRequired,\n    staticContext: _propTypes2.default.object\n  }).isRequired\n};\nexports.default = Redirect;"]}