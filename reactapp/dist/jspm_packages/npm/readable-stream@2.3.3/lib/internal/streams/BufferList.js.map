{"version":3,"sources":["../../../../../../../jspm_packages/npm/readable-stream@2.3.3/lib/internal/streams/BufferList.js"],"names":["Buffer","_classCallCheck","instance","Constructor","TypeError","require","copyBuffer","src","target","offset","copy","module","exports","BufferList","head","tail","length","prototype","push","v","entry","data","next","unshift","shift","ret","clear","join","s","p","concat","n","alloc","allocUnsafe","i"],"mappings":"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","file":"BufferList.js","sourcesContent":["/* */ \n(function(Buffer) {\n  'use strict';\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  var Buffer = require('safe-buffer').Buffer;\n  function copyBuffer(src, target, offset) {\n    src.copy(target, offset);\n  }\n  module.exports = function() {\n    function BufferList() {\n      _classCallCheck(this, BufferList);\n      this.head = null;\n      this.tail = null;\n      this.length = 0;\n    }\n    BufferList.prototype.push = function push(v) {\n      var entry = {\n        data: v,\n        next: null\n      };\n      if (this.length > 0)\n        this.tail.next = entry;\n      else\n        this.head = entry;\n      this.tail = entry;\n      ++this.length;\n    };\n    BufferList.prototype.unshift = function unshift(v) {\n      var entry = {\n        data: v,\n        next: this.head\n      };\n      if (this.length === 0)\n        this.tail = entry;\n      this.head = entry;\n      ++this.length;\n    };\n    BufferList.prototype.shift = function shift() {\n      if (this.length === 0)\n        return;\n      var ret = this.head.data;\n      if (this.length === 1)\n        this.head = this.tail = null;\n      else\n        this.head = this.head.next;\n      --this.length;\n      return ret;\n    };\n    BufferList.prototype.clear = function clear() {\n      this.head = this.tail = null;\n      this.length = 0;\n    };\n    BufferList.prototype.join = function join(s) {\n      if (this.length === 0)\n        return '';\n      var p = this.head;\n      var ret = '' + p.data;\n      while (p = p.next) {\n        ret += s + p.data;\n      }\n      return ret;\n    };\n    BufferList.prototype.concat = function concat(n) {\n      if (this.length === 0)\n        return Buffer.alloc(0);\n      if (this.length === 1)\n        return this.head.data;\n      var ret = Buffer.allocUnsafe(n >>> 0);\n      var p = this.head;\n      var i = 0;\n      while (p) {\n        copyBuffer(p.data, ret, i);\n        i += p.data.length;\n        p = p.next;\n      }\n      return ret;\n    };\n    return BufferList;\n  }();\n})(require('buffer').Buffer);\n"]}