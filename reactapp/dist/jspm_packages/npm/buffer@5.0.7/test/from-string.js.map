{"version":3,"sources":["../../../../../jspm_packages/npm/buffer@5.0.7/test/from-string.js"],"names":["B","require","Buffer","test","t","text","buf","equal","toString","end","deepEqual","f","length","size","write","fill"],"mappings":"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","file":"from-string.js","sourcesContent":["/* */ \nvar B = require('../index').Buffer;\nvar test = require('tape');\ntest('detect utf16 surrogate pairs', function(t) {\n  var text = '\\uD83D\\uDE38' + '\\uD83D\\uDCAD' + '\\uD83D\\uDC4D';\n  var buf = new B(text);\n  t.equal(text, buf.toString());\n  t.end();\n});\ntest('detect utf16 surrogate pairs over U+20000 until U+10FFFF', function(t) {\n  var text = '\\uD842\\uDFB7' + '\\uD93D\\uDCAD' + '\\uDBFF\\uDFFF';\n  var buf = new B(text);\n  t.equal(text, buf.toString());\n  t.end();\n});\ntest('replace orphaned utf16 surrogate lead code point', function(t) {\n  var text = '\\uD83D\\uDE38' + '\\uD83D' + '\\uD83D\\uDC4D';\n  var buf = new B(text);\n  t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0xef, 0xbf, 0xbd, 0xf0, 0x9f, 0x91, 0x8d]));\n  t.end();\n});\ntest('replace orphaned utf16 surrogate trail code point', function(t) {\n  var text = '\\uD83D\\uDE38' + '\\uDCAD' + '\\uD83D\\uDC4D';\n  var buf = new B(text);\n  t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0xef, 0xbf, 0xbd, 0xf0, 0x9f, 0x91, 0x8d]));\n  t.end();\n});\ntest('do not write partial utf16 code units', function(t) {\n  var f = new B([0, 0, 0, 0, 0]);\n  t.equal(f.length, 5);\n  var size = f.write('あいうえお', 'utf16le');\n  t.equal(size, 4);\n  t.deepEqual(f, new B([0x42, 0x30, 0x44, 0x30, 0x00]));\n  t.end();\n});\ntest('handle partial utf16 code points when encoding to utf8 the way node does', function(t) {\n  var text = '\\uD83D\\uDE38' + '\\uD83D\\uDC4D';\n  var buf = new B(8);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0xf0, 0x9f, 0x91, 0x8d]));\n  buf = new B(7);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0x00, 0x00, 0x00]));\n  buf = new B(6);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0x00, 0x00]));\n  buf = new B(5);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8, 0x00]));\n  buf = new B(4);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0xf0, 0x9f, 0x98, 0xb8]));\n  buf = new B(3);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x00, 0x00, 0x00]));\n  buf = new B(2);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x00, 0x00]));\n  buf = new B(1);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x00]));\n  t.end();\n});\ntest('handle invalid utf16 code points when encoding to utf8 the way node does', function(t) {\n  var text = 'a' + '\\uDE38\\uD83D' + 'b';\n  var buf = new B(8);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x61, 0xef, 0xbf, 0xbd, 0xef, 0xbf, 0xbd, 0x62]));\n  buf = new B(7);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x61, 0xef, 0xbf, 0xbd, 0xef, 0xbf, 0xbd]));\n  buf = new B(6);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x61, 0xef, 0xbf, 0xbd, 0x00, 0x00]));\n  buf = new B(5);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x61, 0xef, 0xbf, 0xbd, 0x00]));\n  buf = new B(4);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x61, 0xef, 0xbf, 0xbd]));\n  buf = new B(3);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x61, 0x00, 0x00]));\n  buf = new B(2);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x61, 0x00]));\n  buf = new B(1);\n  buf.fill(0);\n  buf.write(text);\n  t.deepEqual(buf, new B([0x61]));\n  t.end();\n});\n"]}