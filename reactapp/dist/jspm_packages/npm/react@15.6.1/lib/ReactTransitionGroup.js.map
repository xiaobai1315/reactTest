{"version":3,"sources":["../../../../../jspm_packages/npm/react@15.6.1/lib/ReactTransitionGroup.js"],"names":["_assign","require","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","React","ReactTransitionChildMapping","propTypesFactory","PropTypes","isValidElement","emptyFunction","ReactTransitionGroup","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","apply","concat","state","children","getChildMapping","props","performAppear","key","currentlyTransitioningKeys","component","refs","componentWillAppear","_handleDoneAppearing","bind","componentDidAppear","currentChildMapping","hasOwnProperty","performLeave","performEnter","componentWillEnter","_handleDoneEntering","componentDidEnter","componentWillLeave","_handleDoneLeaving","componentDidLeave","setState","newChildren","componentWillMount","keysToEnter","keysToLeave","componentDidMount","initialChildMapping","componentWillReceiveProps","nextProps","nextChildMapping","prevChildMapping","mergeChildMappings","hasPrev","push","hasNext","componentDidUpdate","forEach","render","childrenToRender","child","cloneElement","childFactory","ref","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","createElement","Component","displayName","propTypes","any","func","defaultProps","thatReturnsArgument","module","exports"],"mappings":"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","file":"ReactTransitionGroup.js","sourcesContent":["/* */ \n'use strict';\nvar _assign = require('object-assign');\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }});\n  if (superClass)\n    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar React = require('./React');\nvar ReactTransitionChildMapping = require('./ReactTransitionChildMapping');\nvar propTypesFactory = require('prop-types/factory');\nvar PropTypes = propTypesFactory(React.isValidElement);\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar ReactTransitionGroup = function(_React$Component) {\n  _inherits(ReactTransitionGroup, _React$Component);\n  function ReactTransitionGroup() {\n    var _temp,\n        _this,\n        _ret;\n    _classCallCheck(this, ReactTransitionGroup);\n    for (var _len = arguments.length,\n        args = Array(_len),\n        _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {children: ReactTransitionChildMapping.getChildMapping(_this.props.children)}, _this.performAppear = function(key) {\n      _this.currentlyTransitioningKeys[key] = true;\n      var component = _this.refs[key];\n      if (component.componentWillAppear) {\n        component.componentWillAppear(_this._handleDoneAppearing.bind(_this, key));\n      } else {\n        _this._handleDoneAppearing(key);\n      }\n    }, _this._handleDoneAppearing = function(key) {\n      var component = _this.refs[key];\n      if (component.componentDidAppear) {\n        component.componentDidAppear();\n      }\n      delete _this.currentlyTransitioningKeys[key];\n      var currentChildMapping = ReactTransitionChildMapping.getChildMapping(_this.props.children);\n      if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n        _this.performLeave(key);\n      }\n    }, _this.performEnter = function(key) {\n      _this.currentlyTransitioningKeys[key] = true;\n      var component = _this.refs[key];\n      if (component.componentWillEnter) {\n        component.componentWillEnter(_this._handleDoneEntering.bind(_this, key));\n      } else {\n        _this._handleDoneEntering(key);\n      }\n    }, _this._handleDoneEntering = function(key) {\n      var component = _this.refs[key];\n      if (component.componentDidEnter) {\n        component.componentDidEnter();\n      }\n      delete _this.currentlyTransitioningKeys[key];\n      var currentChildMapping = ReactTransitionChildMapping.getChildMapping(_this.props.children);\n      if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n        _this.performLeave(key);\n      }\n    }, _this.performLeave = function(key) {\n      _this.currentlyTransitioningKeys[key] = true;\n      var component = _this.refs[key];\n      if (component.componentWillLeave) {\n        component.componentWillLeave(_this._handleDoneLeaving.bind(_this, key));\n      } else {\n        _this._handleDoneLeaving(key);\n      }\n    }, _this._handleDoneLeaving = function(key) {\n      var component = _this.refs[key];\n      if (component.componentDidLeave) {\n        component.componentDidLeave();\n      }\n      delete _this.currentlyTransitioningKeys[key];\n      var currentChildMapping = ReactTransitionChildMapping.getChildMapping(_this.props.children);\n      if (currentChildMapping && currentChildMapping.hasOwnProperty(key)) {\n        _this.performEnter(key);\n      } else {\n        _this.setState(function(state) {\n          var newChildren = _assign({}, state.children);\n          delete newChildren[key];\n          return {children: newChildren};\n        });\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  ReactTransitionGroup.prototype.componentWillMount = function componentWillMount() {\n    this.currentlyTransitioningKeys = {};\n    this.keysToEnter = [];\n    this.keysToLeave = [];\n  };\n  ReactTransitionGroup.prototype.componentDidMount = function componentDidMount() {\n    var initialChildMapping = this.state.children;\n    for (var key in initialChildMapping) {\n      if (initialChildMapping[key]) {\n        this.performAppear(key);\n      }\n    }\n  };\n  ReactTransitionGroup.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    var nextChildMapping = ReactTransitionChildMapping.getChildMapping(nextProps.children);\n    var prevChildMapping = this.state.children;\n    this.setState({children: ReactTransitionChildMapping.mergeChildMappings(prevChildMapping, nextChildMapping)});\n    var key;\n    for (key in nextChildMapping) {\n      var hasPrev = prevChildMapping && prevChildMapping.hasOwnProperty(key);\n      if (nextChildMapping[key] && !hasPrev && !this.currentlyTransitioningKeys[key]) {\n        this.keysToEnter.push(key);\n      }\n    }\n    for (key in prevChildMapping) {\n      var hasNext = nextChildMapping && nextChildMapping.hasOwnProperty(key);\n      if (prevChildMapping[key] && !hasNext && !this.currentlyTransitioningKeys[key]) {\n        this.keysToLeave.push(key);\n      }\n    }\n  };\n  ReactTransitionGroup.prototype.componentDidUpdate = function componentDidUpdate() {\n    var keysToEnter = this.keysToEnter;\n    this.keysToEnter = [];\n    keysToEnter.forEach(this.performEnter);\n    var keysToLeave = this.keysToLeave;\n    this.keysToLeave = [];\n    keysToLeave.forEach(this.performLeave);\n  };\n  ReactTransitionGroup.prototype.render = function render() {\n    var childrenToRender = [];\n    for (var key in this.state.children) {\n      var child = this.state.children[key];\n      if (child) {\n        childrenToRender.push(React.cloneElement(this.props.childFactory(child), {\n          ref: key,\n          key: key\n        }));\n      }\n    }\n    var props = _assign({}, this.props);\n    delete props.transitionLeave;\n    delete props.transitionName;\n    delete props.transitionAppear;\n    delete props.transitionEnter;\n    delete props.childFactory;\n    delete props.transitionLeaveTimeout;\n    delete props.transitionEnterTimeout;\n    delete props.transitionAppearTimeout;\n    delete props.component;\n    return React.createElement(this.props.component, props, childrenToRender);\n  };\n  return ReactTransitionGroup;\n}(React.Component);\nReactTransitionGroup.displayName = 'ReactTransitionGroup';\nReactTransitionGroup.propTypes = {\n  component: PropTypes.any,\n  childFactory: PropTypes.func\n};\nReactTransitionGroup.defaultProps = {\n  component: 'span',\n  childFactory: emptyFunction.thatReturnsArgument\n};\nmodule.exports = ReactTransitionGroup;\n"]}