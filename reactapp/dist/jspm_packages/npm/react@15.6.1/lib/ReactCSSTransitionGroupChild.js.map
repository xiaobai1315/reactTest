{"version":3,"sources":["../../../../../jspm_packages/npm/react@15.6.1/lib/ReactCSSTransitionGroupChild.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","React","require","ReactAddonsDOMDependencies","propTypesFactory","PropTypes","isValidElement","CSSCore","ReactTransitionEvents","onlyChild","TICK","ReactCSSTransitionGroupChild","_React$Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","apply","concat","_isMounted","transition","animationType","finishCallback","userSpecifiedDelay","node","getReactDOM","findDOMNode","className","props","name","activeClassName","timeout","endListener","e","target","clearTimeout","removeClass","removeEndEventListener","addClass","queueClassAndNode","setTimeout","transitionTimeouts","push","addEndEventListener","classNameAndNodeQueue","flushClassNameAndNodeQueue","forEach","obj","componentWillAppear","done","appear","appearTimeout","componentWillEnter","enter","enterTimeout","componentWillLeave","leave","leaveTimeout","componentWillMount","componentDidMount","componentWillUnmount","render","children","Component","propTypes","oneOfType","string","shape","active","enterActive","leaveActive","appearActive","isRequired","bool","number","module","exports"],"mappings":"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","file":"ReactCSSTransitionGroupChild.js","sourcesContent":["/* */ \n'use strict';\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }});\n  if (superClass)\n    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar React = require('./React');\nvar ReactAddonsDOMDependencies = require('./ReactAddonsDOMDependencies');\nvar propTypesFactory = require('prop-types/factory');\nvar PropTypes = propTypesFactory(React.isValidElement);\nvar CSSCore = require('fbjs/lib/CSSCore');\nvar ReactTransitionEvents = require('./ReactTransitionEvents');\nvar onlyChild = require('./onlyChild');\nvar TICK = 17;\nvar ReactCSSTransitionGroupChild = function(_React$Component) {\n  _inherits(ReactCSSTransitionGroupChild, _React$Component);\n  function ReactCSSTransitionGroupChild() {\n    var _temp,\n        _this,\n        _ret;\n    _classCallCheck(this, ReactCSSTransitionGroupChild);\n    for (var _len = arguments.length,\n        args = Array(_len),\n        _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this._isMounted = false, _this.transition = function(animationType, finishCallback, userSpecifiedDelay) {\n      var node = ReactAddonsDOMDependencies.getReactDOM().findDOMNode(_this);\n      if (!node) {\n        if (finishCallback) {\n          finishCallback();\n        }\n        return;\n      }\n      var className = _this.props.name[animationType] || _this.props.name + '-' + animationType;\n      var activeClassName = _this.props.name[animationType + 'Active'] || className + '-active';\n      var timeout = null;\n      var endListener = function(e) {\n        if (e && e.target !== node) {\n          return;\n        }\n        clearTimeout(timeout);\n        CSSCore.removeClass(node, className);\n        CSSCore.removeClass(node, activeClassName);\n        ReactTransitionEvents.removeEndEventListener(node, endListener);\n        if (finishCallback) {\n          finishCallback();\n        }\n      };\n      CSSCore.addClass(node, className);\n      _this.queueClassAndNode(activeClassName, node);\n      if (userSpecifiedDelay) {\n        timeout = setTimeout(endListener, userSpecifiedDelay);\n        _this.transitionTimeouts.push(timeout);\n      } else {\n        ReactTransitionEvents.addEndEventListener(node, endListener);\n      }\n    }, _this.queueClassAndNode = function(className, node) {\n      _this.classNameAndNodeQueue.push({\n        className: className,\n        node: node\n      });\n      if (!_this.timeout) {\n        _this.timeout = setTimeout(_this.flushClassNameAndNodeQueue, TICK);\n      }\n    }, _this.flushClassNameAndNodeQueue = function() {\n      if (_this._isMounted) {\n        _this.classNameAndNodeQueue.forEach(function(obj) {\n          CSSCore.addClass(obj.node, obj.className);\n        });\n      }\n      _this.classNameAndNodeQueue.length = 0;\n      _this.timeout = null;\n    }, _this.componentWillAppear = function(done) {\n      if (_this.props.appear) {\n        _this.transition('appear', done, _this.props.appearTimeout);\n      } else {\n        done();\n      }\n    }, _this.componentWillEnter = function(done) {\n      if (_this.props.enter) {\n        _this.transition('enter', done, _this.props.enterTimeout);\n      } else {\n        done();\n      }\n    }, _this.componentWillLeave = function(done) {\n      if (_this.props.leave) {\n        _this.transition('leave', done, _this.props.leaveTimeout);\n      } else {\n        done();\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n  ReactCSSTransitionGroupChild.prototype.componentWillMount = function componentWillMount() {\n    this.classNameAndNodeQueue = [];\n    this.transitionTimeouts = [];\n  };\n  ReactCSSTransitionGroupChild.prototype.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n  };\n  ReactCSSTransitionGroupChild.prototype.componentWillUnmount = function componentWillUnmount() {\n    this._isMounted = false;\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n    this.transitionTimeouts.forEach(function(timeout) {\n      clearTimeout(timeout);\n    });\n    this.classNameAndNodeQueue.length = 0;\n  };\n  ReactCSSTransitionGroupChild.prototype.render = function render() {\n    return onlyChild(this.props.children);\n  };\n  return ReactCSSTransitionGroupChild;\n}(React.Component);\nReactCSSTransitionGroupChild.propTypes = {\n  name: PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n    enter: PropTypes.string,\n    leave: PropTypes.string,\n    active: PropTypes.string\n  }), PropTypes.shape({\n    enter: PropTypes.string,\n    enterActive: PropTypes.string,\n    leave: PropTypes.string,\n    leaveActive: PropTypes.string,\n    appear: PropTypes.string,\n    appearActive: PropTypes.string\n  })]).isRequired,\n  appear: PropTypes.bool,\n  enter: PropTypes.bool,\n  leave: PropTypes.bool,\n  appearTimeout: PropTypes.number,\n  enterTimeout: PropTypes.number,\n  leaveTimeout: PropTypes.number\n};\nmodule.exports = ReactCSSTransitionGroupChild;\n"]}