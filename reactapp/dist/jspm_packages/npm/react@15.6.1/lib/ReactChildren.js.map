{"version":3,"sources":["../../../../../jspm_packages/npm/react@15.6.1/lib/ReactChildren.js"],"names":["PooledClass","require","ReactElement","emptyFunction","traverseAllChildren","twoArgumentPooler","fourArgumentPooler","userProvidedKeyEscapeRegex","escapeUserProvidedKey","text","replace","ForEachBookKeeping","forEachFunction","forEachContext","func","context","count","prototype","destructor","addPoolingTo","forEachSingleChild","bookKeeping","child","name","call","forEachChildren","children","forEachFunc","traverseContext","getPooled","release","MapBookKeeping","mapResult","keyPrefix","mapFunction","mapContext","result","mapSingleChildIntoContext","childKey","mappedChild","Array","isArray","mapIntoWithKeyPrefixInternal","thatReturnsArgument","isValidElement","cloneAndReplaceKey","key","push","array","prefix","escapedPrefix","mapChildren","forEachSingleChildDummy","countChildren","toArray","ReactChildren","forEach","map","module","exports"],"mappings":"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","file":"ReactChildren.js","sourcesContent":["/* */ \n'use strict';\nvar PooledClass = require('./PooledClass');\nvar ReactElement = require('./ReactElement');\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar traverseAllChildren = require('./traverseAllChildren');\nvar twoArgumentPooler = PooledClass.twoArgumentPooler;\nvar fourArgumentPooler = PooledClass.fourArgumentPooler;\nvar userProvidedKeyEscapeRegex = /\\/+/g;\nfunction escapeUserProvidedKey(text) {\n  return ('' + text).replace(userProvidedKeyEscapeRegex, '$&/');\n}\nfunction ForEachBookKeeping(forEachFunction, forEachContext) {\n  this.func = forEachFunction;\n  this.context = forEachContext;\n  this.count = 0;\n}\nForEachBookKeeping.prototype.destructor = function() {\n  this.func = null;\n  this.context = null;\n  this.count = 0;\n};\nPooledClass.addPoolingTo(ForEachBookKeeping, twoArgumentPooler);\nfunction forEachSingleChild(bookKeeping, child, name) {\n  var func = bookKeeping.func,\n      context = bookKeeping.context;\n  func.call(context, child, bookKeeping.count++);\n}\nfunction forEachChildren(children, forEachFunc, forEachContext) {\n  if (children == null) {\n    return children;\n  }\n  var traverseContext = ForEachBookKeeping.getPooled(forEachFunc, forEachContext);\n  traverseAllChildren(children, forEachSingleChild, traverseContext);\n  ForEachBookKeeping.release(traverseContext);\n}\nfunction MapBookKeeping(mapResult, keyPrefix, mapFunction, mapContext) {\n  this.result = mapResult;\n  this.keyPrefix = keyPrefix;\n  this.func = mapFunction;\n  this.context = mapContext;\n  this.count = 0;\n}\nMapBookKeeping.prototype.destructor = function() {\n  this.result = null;\n  this.keyPrefix = null;\n  this.func = null;\n  this.context = null;\n  this.count = 0;\n};\nPooledClass.addPoolingTo(MapBookKeeping, fourArgumentPooler);\nfunction mapSingleChildIntoContext(bookKeeping, child, childKey) {\n  var result = bookKeeping.result,\n      keyPrefix = bookKeeping.keyPrefix,\n      func = bookKeeping.func,\n      context = bookKeeping.context;\n  var mappedChild = func.call(context, child, bookKeeping.count++);\n  if (Array.isArray(mappedChild)) {\n    mapIntoWithKeyPrefixInternal(mappedChild, result, childKey, emptyFunction.thatReturnsArgument);\n  } else if (mappedChild != null) {\n    if (ReactElement.isValidElement(mappedChild)) {\n      mappedChild = ReactElement.cloneAndReplaceKey(mappedChild, keyPrefix + (mappedChild.key && (!child || child.key !== mappedChild.key) ? escapeUserProvidedKey(mappedChild.key) + '/' : '') + childKey);\n    }\n    result.push(mappedChild);\n  }\n}\nfunction mapIntoWithKeyPrefixInternal(children, array, prefix, func, context) {\n  var escapedPrefix = '';\n  if (prefix != null) {\n    escapedPrefix = escapeUserProvidedKey(prefix) + '/';\n  }\n  var traverseContext = MapBookKeeping.getPooled(array, escapedPrefix, func, context);\n  traverseAllChildren(children, mapSingleChildIntoContext, traverseContext);\n  MapBookKeeping.release(traverseContext);\n}\nfunction mapChildren(children, func, context) {\n  if (children == null) {\n    return children;\n  }\n  var result = [];\n  mapIntoWithKeyPrefixInternal(children, result, null, func, context);\n  return result;\n}\nfunction forEachSingleChildDummy(traverseContext, child, name) {\n  return null;\n}\nfunction countChildren(children, context) {\n  return traverseAllChildren(children, forEachSingleChildDummy, null);\n}\nfunction toArray(children) {\n  var result = [];\n  mapIntoWithKeyPrefixInternal(children, result, null, emptyFunction.thatReturnsArgument);\n  return result;\n}\nvar ReactChildren = {\n  forEach: forEachChildren,\n  map: mapChildren,\n  mapIntoWithKeyPrefixInternal: mapIntoWithKeyPrefixInternal,\n  count: countChildren,\n  toArray: toArray\n};\nmodule.exports = ReactChildren;\n"]}