{"version":3,"sources":["../../../../../jspm_packages/npm/react@15.6.1/lib/ReactComponentTreeHook.js"],"names":["process","_prodInvariant","require","ReactCurrentOwner","invariant","warning","isNative","fn","funcToString","Function","prototype","toString","hasOwnProperty","Object","reIsNative","RegExp","call","replace","source","test","err","canUseCollections","Array","from","Map","keys","Set","setItem","getItem","removeItem","getItemIDs","addRoot","removeRoot","getRootIDs","itemMap","rootIDSet","id","item","set","get","add","itemByKey","rootByKey","getKeyFromID","getIDFromKey","key","parseInt","substr","map","unmountedIDs","purgeDeep","childIDs","forEach","describeComponentFrame","name","ownerName","fileName","lineNumber","getDisplayName","element","type","displayName","describeID","ReactComponentTreeHook","getElement","ownerID","getOwnerID","env","NODE_ENV","_source","onSetChildren","nextChildIDs","i","length","nextChildID","nextChild","isMounted","parentID","onBeforeMountComponent","text","updateCount","onBeforeUpdateComponent","onMountComponent","isRoot","onUpdateComponent","onUnmountComponent","push","purgeUnmountedComponents","_preventPurging","getCurrentStackAddendum","topElement","info","owner","_owner","getName","currentOwner","current","_debugID","getStackAddendumByID","getParentID","getChildIDs","getSource","getText","getUpdateCount","getRegisteredIDs","pushNonStandardWarningStack","isCreatingElement","currentSource","console","reactStack","stack","popNonStandardWarningStack","reactStackEnd","module","exports"],"mappings":"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","file":"ReactComponentTreeHook.js","sourcesContent":["/* */ \n(function(process) {\n  'use strict';\n  var _prodInvariant = require('./reactProdInvariant');\n  var ReactCurrentOwner = require('./ReactCurrentOwner');\n  var invariant = require('fbjs/lib/invariant');\n  var warning = require('fbjs/lib/warning');\n  function isNative(fn) {\n    var funcToString = Function.prototype.toString;\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n    try {\n      var source = funcToString.call(fn);\n      return reIsNative.test(source);\n    } catch (err) {\n      return false;\n    }\n  }\n  var canUseCollections = typeof Array.from === 'function' && typeof Map === 'function' && isNative(Map) && Map.prototype != null && typeof Map.prototype.keys === 'function' && isNative(Map.prototype.keys) && typeof Set === 'function' && isNative(Set) && Set.prototype != null && typeof Set.prototype.keys === 'function' && isNative(Set.prototype.keys);\n  var setItem;\n  var getItem;\n  var removeItem;\n  var getItemIDs;\n  var addRoot;\n  var removeRoot;\n  var getRootIDs;\n  if (canUseCollections) {\n    var itemMap = new Map();\n    var rootIDSet = new Set();\n    setItem = function(id, item) {\n      itemMap.set(id, item);\n    };\n    getItem = function(id) {\n      return itemMap.get(id);\n    };\n    removeItem = function(id) {\n      itemMap['delete'](id);\n    };\n    getItemIDs = function() {\n      return Array.from(itemMap.keys());\n    };\n    addRoot = function(id) {\n      rootIDSet.add(id);\n    };\n    removeRoot = function(id) {\n      rootIDSet['delete'](id);\n    };\n    getRootIDs = function() {\n      return Array.from(rootIDSet.keys());\n    };\n  } else {\n    var itemByKey = {};\n    var rootByKey = {};\n    var getKeyFromID = function(id) {\n      return '.' + id;\n    };\n    var getIDFromKey = function(key) {\n      return parseInt(key.substr(1), 10);\n    };\n    setItem = function(id, item) {\n      var key = getKeyFromID(id);\n      itemByKey[key] = item;\n    };\n    getItem = function(id) {\n      var key = getKeyFromID(id);\n      return itemByKey[key];\n    };\n    removeItem = function(id) {\n      var key = getKeyFromID(id);\n      delete itemByKey[key];\n    };\n    getItemIDs = function() {\n      return Object.keys(itemByKey).map(getIDFromKey);\n    };\n    addRoot = function(id) {\n      var key = getKeyFromID(id);\n      rootByKey[key] = true;\n    };\n    removeRoot = function(id) {\n      var key = getKeyFromID(id);\n      delete rootByKey[key];\n    };\n    getRootIDs = function() {\n      return Object.keys(rootByKey).map(getIDFromKey);\n    };\n  }\n  var unmountedIDs = [];\n  function purgeDeep(id) {\n    var item = getItem(id);\n    if (item) {\n      var childIDs = item.childIDs;\n      removeItem(id);\n      childIDs.forEach(purgeDeep);\n    }\n  }\n  function describeComponentFrame(name, source, ownerName) {\n    return '\\n    in ' + (name || 'Unknown') + (source ? ' (at ' + source.fileName.replace(/^.*[\\\\\\/]/, '') + ':' + source.lineNumber + ')' : ownerName ? ' (created by ' + ownerName + ')' : '');\n  }\n  function getDisplayName(element) {\n    if (element == null) {\n      return '#empty';\n    } else if (typeof element === 'string' || typeof element === 'number') {\n      return '#text';\n    } else if (typeof element.type === 'string') {\n      return element.type;\n    } else {\n      return element.type.displayName || element.type.name || 'Unknown';\n    }\n  }\n  function describeID(id) {\n    var name = ReactComponentTreeHook.getDisplayName(id);\n    var element = ReactComponentTreeHook.getElement(id);\n    var ownerID = ReactComponentTreeHook.getOwnerID(id);\n    var ownerName;\n    if (ownerID) {\n      ownerName = ReactComponentTreeHook.getDisplayName(ownerID);\n    }\n    process.env.NODE_ENV !== 'production' ? warning(element, 'ReactComponentTreeHook: Missing React element for debugID %s when ' + 'building stack', id) : void 0;\n    return describeComponentFrame(name, element && element._source, ownerName);\n  }\n  var ReactComponentTreeHook = {\n    onSetChildren: function(id, nextChildIDs) {\n      var item = getItem(id);\n      !item ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Item must have been set') : _prodInvariant('144') : void 0;\n      item.childIDs = nextChildIDs;\n      for (var i = 0; i < nextChildIDs.length; i++) {\n        var nextChildID = nextChildIDs[i];\n        var nextChild = getItem(nextChildID);\n        !nextChild ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected hook events to fire for the child before its parent includes it in onSetChildren().') : _prodInvariant('140') : void 0;\n        !(nextChild.childIDs != null || typeof nextChild.element !== 'object' || nextChild.element == null) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren().') : _prodInvariant('141') : void 0;\n        !nextChild.isMounted ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren().') : _prodInvariant('71') : void 0;\n        if (nextChild.parentID == null) {\n          nextChild.parentID = id;\n        }\n        !(nextChild.parentID === id) ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).', nextChildID, nextChild.parentID, id) : _prodInvariant('142', nextChildID, nextChild.parentID, id) : void 0;\n      }\n    },\n    onBeforeMountComponent: function(id, element, parentID) {\n      var item = {\n        element: element,\n        parentID: parentID,\n        text: null,\n        childIDs: [],\n        isMounted: false,\n        updateCount: 0\n      };\n      setItem(id, item);\n    },\n    onBeforeUpdateComponent: function(id, element) {\n      var item = getItem(id);\n      if (!item || !item.isMounted) {\n        return;\n      }\n      item.element = element;\n    },\n    onMountComponent: function(id) {\n      var item = getItem(id);\n      !item ? process.env.NODE_ENV !== 'production' ? invariant(false, 'Item must have been set') : _prodInvariant('144') : void 0;\n      item.isMounted = true;\n      var isRoot = item.parentID === 0;\n      if (isRoot) {\n        addRoot(id);\n      }\n    },\n    onUpdateComponent: function(id) {\n      var item = getItem(id);\n      if (!item || !item.isMounted) {\n        return;\n      }\n      item.updateCount++;\n    },\n    onUnmountComponent: function(id) {\n      var item = getItem(id);\n      if (item) {\n        item.isMounted = false;\n        var isRoot = item.parentID === 0;\n        if (isRoot) {\n          removeRoot(id);\n        }\n      }\n      unmountedIDs.push(id);\n    },\n    purgeUnmountedComponents: function() {\n      if (ReactComponentTreeHook._preventPurging) {\n        return;\n      }\n      for (var i = 0; i < unmountedIDs.length; i++) {\n        var id = unmountedIDs[i];\n        purgeDeep(id);\n      }\n      unmountedIDs.length = 0;\n    },\n    isMounted: function(id) {\n      var item = getItem(id);\n      return item ? item.isMounted : false;\n    },\n    getCurrentStackAddendum: function(topElement) {\n      var info = '';\n      if (topElement) {\n        var name = getDisplayName(topElement);\n        var owner = topElement._owner;\n        info += describeComponentFrame(name, topElement._source, owner && owner.getName());\n      }\n      var currentOwner = ReactCurrentOwner.current;\n      var id = currentOwner && currentOwner._debugID;\n      info += ReactComponentTreeHook.getStackAddendumByID(id);\n      return info;\n    },\n    getStackAddendumByID: function(id) {\n      var info = '';\n      while (id) {\n        info += describeID(id);\n        id = ReactComponentTreeHook.getParentID(id);\n      }\n      return info;\n    },\n    getChildIDs: function(id) {\n      var item = getItem(id);\n      return item ? item.childIDs : [];\n    },\n    getDisplayName: function(id) {\n      var element = ReactComponentTreeHook.getElement(id);\n      if (!element) {\n        return null;\n      }\n      return getDisplayName(element);\n    },\n    getElement: function(id) {\n      var item = getItem(id);\n      return item ? item.element : null;\n    },\n    getOwnerID: function(id) {\n      var element = ReactComponentTreeHook.getElement(id);\n      if (!element || !element._owner) {\n        return null;\n      }\n      return element._owner._debugID;\n    },\n    getParentID: function(id) {\n      var item = getItem(id);\n      return item ? item.parentID : null;\n    },\n    getSource: function(id) {\n      var item = getItem(id);\n      var element = item ? item.element : null;\n      var source = element != null ? element._source : null;\n      return source;\n    },\n    getText: function(id) {\n      var element = ReactComponentTreeHook.getElement(id);\n      if (typeof element === 'string') {\n        return element;\n      } else if (typeof element === 'number') {\n        return '' + element;\n      } else {\n        return null;\n      }\n    },\n    getUpdateCount: function(id) {\n      var item = getItem(id);\n      return item ? item.updateCount : 0;\n    },\n    getRootIDs: getRootIDs,\n    getRegisteredIDs: getItemIDs,\n    pushNonStandardWarningStack: function(isCreatingElement, currentSource) {\n      if (typeof console.reactStack !== 'function') {\n        return;\n      }\n      var stack = [];\n      var currentOwner = ReactCurrentOwner.current;\n      var id = currentOwner && currentOwner._debugID;\n      try {\n        if (isCreatingElement) {\n          stack.push({\n            name: id ? ReactComponentTreeHook.getDisplayName(id) : null,\n            fileName: currentSource ? currentSource.fileName : null,\n            lineNumber: currentSource ? currentSource.lineNumber : null\n          });\n        }\n        while (id) {\n          var element = ReactComponentTreeHook.getElement(id);\n          var parentID = ReactComponentTreeHook.getParentID(id);\n          var ownerID = ReactComponentTreeHook.getOwnerID(id);\n          var ownerName = ownerID ? ReactComponentTreeHook.getDisplayName(ownerID) : null;\n          var source = element && element._source;\n          stack.push({\n            name: ownerName,\n            fileName: source ? source.fileName : null,\n            lineNumber: source ? source.lineNumber : null\n          });\n          id = parentID;\n        }\n      } catch (err) {}\n      console.reactStack(stack);\n    },\n    popNonStandardWarningStack: function() {\n      if (typeof console.reactStackEnd !== 'function') {\n        return;\n      }\n      console.reactStackEnd();\n    }\n  };\n  module.exports = ReactComponentTreeHook;\n})(require('process'));\n"]}