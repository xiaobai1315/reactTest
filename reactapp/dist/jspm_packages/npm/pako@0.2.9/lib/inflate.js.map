{"version":3,"sources":["../../../../../jspm_packages/npm/pako@0.2.9/lib/inflate.js"],"names":["process","zlib_inflate","require","utils","strings","c","msg","ZStream","GZheader","toString","Object","prototype","Inflate","options","assign","chunkSize","windowBits","to","opt","raw","err","ended","chunks","strm","avail_out","status","inflateInit2","Z_OK","Error","header","inflateGetHeader","push","data","mode","dictionary","_mode","next_out_utf8","tail","utf8str","dict","allowBufError","Z_FINISH","Z_NO_FLUSH","input","binstring2buf","call","Uint8Array","next_in","avail_in","length","output","Buf8","next_out","inflate","Z_NEED_DICT","string2buf","inflateSetDictionary","Z_BUF_ERROR","Z_STREAM_END","onEnd","Z_SYNC_FLUSH","utf8border","buf2string","arraySet","onData","shrinkBuf","inflateEnd","chunk","result","join","flattenChunks","inflator","inflateRaw","exports","ungzip"],"mappings":"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","file":"inflate.js","sourcesContent":["/* */ \n(function(process) {\n  'use strict';\n  var zlib_inflate = require('./zlib/inflate');\n  var utils = require('./utils/common');\n  var strings = require('./utils/strings');\n  var c = require('./zlib/constants');\n  var msg = require('./zlib/messages');\n  var ZStream = require('./zlib/zstream');\n  var GZheader = require('./zlib/gzheader');\n  var toString = Object.prototype.toString;\n  function Inflate(options) {\n    if (!(this instanceof Inflate))\n      return new Inflate(options);\n    this.options = utils.assign({\n      chunkSize: 16384,\n      windowBits: 0,\n      to: ''\n    }, options || {});\n    var opt = this.options;\n    if (opt.raw && (opt.windowBits >= 0) && (opt.windowBits < 16)) {\n      opt.windowBits = -opt.windowBits;\n      if (opt.windowBits === 0) {\n        opt.windowBits = -15;\n      }\n    }\n    if ((opt.windowBits >= 0) && (opt.windowBits < 16) && !(options && options.windowBits)) {\n      opt.windowBits += 32;\n    }\n    if ((opt.windowBits > 15) && (opt.windowBits < 48)) {\n      if ((opt.windowBits & 15) === 0) {\n        opt.windowBits |= 15;\n      }\n    }\n    this.err = 0;\n    this.msg = '';\n    this.ended = false;\n    this.chunks = [];\n    this.strm = new ZStream();\n    this.strm.avail_out = 0;\n    var status = zlib_inflate.inflateInit2(this.strm, opt.windowBits);\n    if (status !== c.Z_OK) {\n      throw new Error(msg[status]);\n    }\n    this.header = new GZheader();\n    zlib_inflate.inflateGetHeader(this.strm, this.header);\n  }\n  Inflate.prototype.push = function(data, mode) {\n    var strm = this.strm;\n    var chunkSize = this.options.chunkSize;\n    var dictionary = this.options.dictionary;\n    var status,\n        _mode;\n    var next_out_utf8,\n        tail,\n        utf8str;\n    var dict;\n    var allowBufError = false;\n    if (this.ended) {\n      return false;\n    }\n    _mode = (mode === ~~mode) ? mode : ((mode === true) ? c.Z_FINISH : c.Z_NO_FLUSH);\n    if (typeof data === 'string') {\n      strm.input = strings.binstring2buf(data);\n    } else if (toString.call(data) === '[object ArrayBuffer]') {\n      strm.input = new Uint8Array(data);\n    } else {\n      strm.input = data;\n    }\n    strm.next_in = 0;\n    strm.avail_in = strm.input.length;\n    do {\n      if (strm.avail_out === 0) {\n        strm.output = new utils.Buf8(chunkSize);\n        strm.next_out = 0;\n        strm.avail_out = chunkSize;\n      }\n      status = zlib_inflate.inflate(strm, c.Z_NO_FLUSH);\n      if (status === c.Z_NEED_DICT && dictionary) {\n        if (typeof dictionary === 'string') {\n          dict = strings.string2buf(dictionary);\n        } else if (toString.call(dictionary) === '[object ArrayBuffer]') {\n          dict = new Uint8Array(dictionary);\n        } else {\n          dict = dictionary;\n        }\n        status = zlib_inflate.inflateSetDictionary(this.strm, dict);\n      }\n      if (status === c.Z_BUF_ERROR && allowBufError === true) {\n        status = c.Z_OK;\n        allowBufError = false;\n      }\n      if (status !== c.Z_STREAM_END && status !== c.Z_OK) {\n        this.onEnd(status);\n        this.ended = true;\n        return false;\n      }\n      if (strm.next_out) {\n        if (strm.avail_out === 0 || status === c.Z_STREAM_END || (strm.avail_in === 0 && (_mode === c.Z_FINISH || _mode === c.Z_SYNC_FLUSH))) {\n          if (this.options.to === 'string') {\n            next_out_utf8 = strings.utf8border(strm.output, strm.next_out);\n            tail = strm.next_out - next_out_utf8;\n            utf8str = strings.buf2string(strm.output, next_out_utf8);\n            strm.next_out = tail;\n            strm.avail_out = chunkSize - tail;\n            if (tail) {\n              utils.arraySet(strm.output, strm.output, next_out_utf8, tail, 0);\n            }\n            this.onData(utf8str);\n          } else {\n            this.onData(utils.shrinkBuf(strm.output, strm.next_out));\n          }\n        }\n      }\n      if (strm.avail_in === 0 && strm.avail_out === 0) {\n        allowBufError = true;\n      }\n    } while ((strm.avail_in > 0 || strm.avail_out === 0) && status !== c.Z_STREAM_END);\n    if (status === c.Z_STREAM_END) {\n      _mode = c.Z_FINISH;\n    }\n    if (_mode === c.Z_FINISH) {\n      status = zlib_inflate.inflateEnd(this.strm);\n      this.onEnd(status);\n      this.ended = true;\n      return status === c.Z_OK;\n    }\n    if (_mode === c.Z_SYNC_FLUSH) {\n      this.onEnd(c.Z_OK);\n      strm.avail_out = 0;\n      return true;\n    }\n    return true;\n  };\n  Inflate.prototype.onData = function(chunk) {\n    this.chunks.push(chunk);\n  };\n  Inflate.prototype.onEnd = function(status) {\n    if (status === c.Z_OK) {\n      if (this.options.to === 'string') {\n        this.result = this.chunks.join('');\n      } else {\n        this.result = utils.flattenChunks(this.chunks);\n      }\n    }\n    this.chunks = [];\n    this.err = status;\n    this.msg = this.strm.msg;\n  };\n  function inflate(input, options) {\n    var inflator = new Inflate(options);\n    inflator.push(input, true);\n    if (inflator.err) {\n      throw inflator.msg;\n    }\n    return inflator.result;\n  }\n  function inflateRaw(input, options) {\n    options = options || {};\n    options.raw = true;\n    return inflate(input, options);\n  }\n  exports.Inflate = Inflate;\n  exports.inflate = inflate;\n  exports.inflateRaw = inflateRaw;\n  exports.ungzip = inflate;\n})(require('process'));\n"]}