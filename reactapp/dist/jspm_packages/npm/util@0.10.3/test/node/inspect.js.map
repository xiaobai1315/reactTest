{"version":3,"sources":["../../../../../../jspm_packages/npm/util@0.10.3/test/node/inspect.js"],"names":["assert","require","util","Date2","runInNewContext","d","orig","inspect","prototype","foo","after","equal","a","Array","getter","Object","create","get","setter","b","set","getterAndSetter","c","Error","TypeError","SyntaxError","undef","e","ex","ok","indexOf","Date","doesNotThrow","toUTCString","r","toString","x","test_color_style","style","input","implicit","color_name","styles","color","colors","without_color","with_color","expect","undefined","hasOwnProperty","subject","hello","defineProperty","enumerable","value","showHidden","depth","customInspect","opts","strictEqual","customInspectOptions","test_lines","count_lines","str","match","length","big_array","i","push","baz","very_long_key","even_longer_key"],"mappings":"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","file":"inspect.js","sourcesContent":["/* */ \nvar assert = require('assert');\nvar util = require('../../util');\nvar Date2 = require('vm').runInNewContext('Date');\nvar d = new Date2();\nvar orig = util.inspect(d);\nDate2.prototype.foo = 'bar';\nvar after = util.inspect(d);\nassert.equal(orig, after);\nvar a = ['foo', 'bar', 'baz'];\nassert.equal(util.inspect(a), '[ \\'foo\\', \\'bar\\', \\'baz\\' ]');\ndelete a[1];\nassert.equal(util.inspect(a), '[ \\'foo\\', , \\'baz\\' ]');\nassert.equal(util.inspect(a, true), '[ \\'foo\\', , \\'baz\\', [length]: 3 ]');\nassert.equal(util.inspect(new Array(5)), '[ , , , ,  ]');\nvar getter = Object.create(null, {a: {get: function() {\n      return 'aaa';\n    }}});\nvar setter = Object.create(null, {b: {set: function() {}}});\nvar getterAndSetter = Object.create(null, {c: {\n    get: function() {\n      return 'ccc';\n    },\n    set: function() {}\n  }});\nassert.equal(util.inspect(getter, true), '{ [a]: [Getter] }');\nassert.equal(util.inspect(setter, true), '{ [b]: [Setter] }');\nassert.equal(util.inspect(getterAndSetter, true), '{ [c]: [Getter/Setter] }');\nassert.equal(util.inspect(new Error()), '[Error]');\nassert.equal(util.inspect(new Error('FAIL')), '[Error: FAIL]');\nassert.equal(util.inspect(new TypeError('FAIL')), '[TypeError: FAIL]');\nassert.equal(util.inspect(new SyntaxError('FAIL')), '[SyntaxError: FAIL]');\ntry {\n  undef();\n} catch (e) {\n  assert.equal(util.inspect(e), '[ReferenceError: undef is not defined]');\n}\nvar ex = util.inspect(new Error('FAIL'), true);\nassert.ok(ex.indexOf('[Error: FAIL]') != -1);\nassert.ok(ex.indexOf('[stack]') != -1);\nassert.ok(ex.indexOf('[message]') != -1);\nassert.equal(util.inspect(Object.create(Date.prototype)), '{}');\nassert.doesNotThrow(function() {\n  var d = new Date();\n  d.toUTCString = null;\n  util.inspect(d);\n});\nassert.doesNotThrow(function() {\n  var r = /regexp/;\n  r.toString = null;\n  util.inspect(r);\n});\nassert.doesNotThrow(function() {\n  util.inspect([{inspect: function() {\n      return 123;\n    }}]);\n});\nvar x = {inspect: util.inspect};\nassert.ok(util.inspect(x).indexOf('inspect') != -1);\nfunction test_color_style(style, input, implicit) {\n  var color_name = util.inspect.styles[style];\n  var color = ['', ''];\n  if (util.inspect.colors[color_name])\n    color = util.inspect.colors[color_name];\n  var without_color = util.inspect(input, false, 0, false);\n  var with_color = util.inspect(input, false, 0, true);\n  var expect = '\\u001b[' + color[0] + 'm' + without_color + '\\u001b[' + color[1] + 'm';\n  assert.equal(with_color, expect, 'util.inspect color for style ' + style);\n}\ntest_color_style('special', function() {});\ntest_color_style('number', 123.456);\ntest_color_style('boolean', true);\ntest_color_style('undefined', undefined);\ntest_color_style('null', null);\ntest_color_style('string', 'test string');\ntest_color_style('date', new Date);\ntest_color_style('regexp', /regexp/);\nassert.doesNotThrow(function() {\n  util.inspect({hasOwnProperty: null});\n});\nvar subject = {\n  foo: 'bar',\n  hello: 31,\n  a: {b: {c: {d: 0}}}\n};\nObject.defineProperty(subject, 'hidden', {\n  enumerable: false,\n  value: null\n});\nassert(util.inspect(subject, {showHidden: false}).indexOf('hidden') === -1);\nassert(util.inspect(subject, {showHidden: true}).indexOf('hidden') !== -1);\nassert(util.inspect(subject, {colors: false}).indexOf('\\u001b[32m') === -1);\nassert(util.inspect(subject, {colors: true}).indexOf('\\u001b[32m') !== -1);\nassert(util.inspect(subject, {depth: 2}).indexOf('c: [Object]') !== -1);\nassert(util.inspect(subject, {depth: 0}).indexOf('a: [Object]') !== -1);\nassert(util.inspect(subject, {depth: null}).indexOf('{ d: 0 }') !== -1);\nsubject = {inspect: function() {\n    return 123;\n  }};\nassert(util.inspect(subject, {customInspect: true}).indexOf('123') !== -1);\nassert(util.inspect(subject, {customInspect: true}).indexOf('inspect') === -1);\nassert(util.inspect(subject, {customInspect: false}).indexOf('123') === -1);\nassert(util.inspect(subject, {customInspect: false}).indexOf('inspect') !== -1);\nsubject.inspect = function() {\n  return {foo: 'bar'};\n};\nassert.equal(util.inspect(subject), '{ foo: \\'bar\\' }');\nsubject.inspect = function(depth, opts) {\n  assert.strictEqual(opts.customInspectOptions, true);\n};\nutil.inspect(subject, {customInspectOptions: true});\nfunction test_lines(input) {\n  var count_lines = function(str) {\n    return (str.match(/\\n/g) || []).length;\n  };\n  var without_color = util.inspect(input);\n  var with_color = util.inspect(input, {colors: true});\n  assert.equal(count_lines(without_color), count_lines(with_color));\n}\ntest_lines([1, 2, 3, 4, 5, 6, 7]);\ntest_lines(function() {\n  var big_array = [];\n  for (var i = 0; i < 100; i++) {\n    big_array.push(i);\n  }\n  return big_array;\n}());\ntest_lines({\n  foo: 'bar',\n  baz: 35,\n  b: {a: 35}\n});\ntest_lines({\n  foo: 'bar',\n  baz: 35,\n  b: {a: 35},\n  very_long_key: 'very_long_value',\n  even_longer_key: ['with even longer value in array']\n});\n"]}