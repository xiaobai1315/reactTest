{"version":3,"sources":["../../../../../jspm_packages/npm/events@1.0.2/tests/remove-listeners.js"],"names":["common","require","assert","events","count","listener1","console","log","listener2","listener3","remove1","remove2","e1","EventEmitter","on","mustCall","name","cb","equal","removeListener","deepEqual","listeners","e2","fail","e3","e4","emit"],"mappings":";;AAAA;AACA,IAAIA,SAASC,QAAQ,UAAR,CAAb;AACA,IAAIC,SAASD,QAAQ,QAAR,CAAb;AACA,IAAIE,SAASF,QAAQ,WAAR,CAAb;AACA,IAAIG,QAAQ,CAAZ;AACA,SAASC,SAAT,GAAqB;AACnBC,UAAQC,GAAR,CAAY,WAAZ;AACAH;AACD;AACD,SAASI,SAAT,GAAqB;AACnBF,UAAQC,GAAR,CAAY,WAAZ;AACAH;AACD;AACD,SAASK,SAAT,GAAqB;AACnBH,UAAQC,GAAR,CAAY,WAAZ;AACAH;AACD;AACD,SAASM,OAAT,GAAmB;AACjBR,SAAO,CAAP;AACD;AACD,SAASS,OAAT,GAAmB;AACjBT,SAAO,CAAP;AACD;AACD,IAAIU,KAAK,IAAIT,OAAOU,YAAX,EAAT;AACAD,GAAGE,EAAH,CAAM,OAAN,EAAeT,SAAf;AACAO,GAAGE,EAAH,CAAM,gBAAN,EAAwBd,OAAOe,QAAP,CAAgB,UAASC,IAAT,EAAeC,EAAf,EAAmB;AACzDf,SAAOgB,KAAP,CAAaF,IAAb,EAAmB,OAAnB;AACAd,SAAOgB,KAAP,CAAaD,EAAb,EAAiBZ,SAAjB;AACD,CAHuB,CAAxB;AAIAO,GAAGO,cAAH,CAAkB,OAAlB,EAA2Bd,SAA3B;AACAH,OAAOkB,SAAP,CAAiB,EAAjB,EAAqBR,GAAGS,SAAH,CAAa,OAAb,CAArB;AACA,IAAIC,KAAK,IAAInB,OAAOU,YAAX,EAAT;AACAS,GAAGR,EAAH,CAAM,OAAN,EAAeT,SAAf;AACAiB,GAAGR,EAAH,CAAM,gBAAN,EAAwBZ,OAAOqB,IAA/B;AACAD,GAAGH,cAAH,CAAkB,OAAlB,EAA2BX,SAA3B;AACAN,OAAOkB,SAAP,CAAiB,CAACf,SAAD,CAAjB,EAA8BiB,GAAGD,SAAH,CAAa,OAAb,CAA9B;AACA,IAAIG,KAAK,IAAIrB,OAAOU,YAAX,EAAT;AACAW,GAAGV,EAAH,CAAM,OAAN,EAAeT,SAAf;AACAmB,GAAGV,EAAH,CAAM,OAAN,EAAeN,SAAf;AACAgB,GAAGV,EAAH,CAAM,gBAAN,EAAwBd,OAAOe,QAAP,CAAgB,UAASC,IAAT,EAAeC,EAAf,EAAmB;AACzDf,SAAOgB,KAAP,CAAaF,IAAb,EAAmB,OAAnB;AACAd,SAAOgB,KAAP,CAAaD,EAAb,EAAiBZ,SAAjB;AACD,CAHuB,CAAxB;AAIAmB,GAAGL,cAAH,CAAkB,OAAlB,EAA2Bd,SAA3B;AACAH,OAAOkB,SAAP,CAAiB,CAACZ,SAAD,CAAjB,EAA8BgB,GAAGH,SAAH,CAAa,OAAb,CAA9B;AACA,IAAII,KAAK,IAAItB,OAAOU,YAAX,EAAT;AACAY,GAAGX,EAAH,CAAM,gBAAN,EAAwBd,OAAOe,QAAP,CAAgB,UAASC,IAAT,EAAeC,EAAf,EAAmB;AACzD,MAAIA,OAAOP,OAAX,EACE;AACF,OAAKS,cAAL,CAAoB,MAApB,EAA4BR,OAA5B;AACA,OAAKe,IAAL,CAAU,MAAV;AACD,CALuB,EAKrB,CALqB,CAAxB;AAMAD,GAAGX,EAAH,CAAM,MAAN,EAAcJ,OAAd;AACAe,GAAGX,EAAH,CAAM,MAAN,EAAcH,OAAd;AACAc,GAAGN,cAAH,CAAkB,MAAlB,EAA0BT,OAA1B","file":"remove-listeners.js","sourcesContent":["/* */ \nvar common = require('./common');\nvar assert = require('assert');\nvar events = require('../events');\nvar count = 0;\nfunction listener1() {\n  console.log('listener1');\n  count++;\n}\nfunction listener2() {\n  console.log('listener2');\n  count++;\n}\nfunction listener3() {\n  console.log('listener3');\n  count++;\n}\nfunction remove1() {\n  assert(0);\n}\nfunction remove2() {\n  assert(0);\n}\nvar e1 = new events.EventEmitter();\ne1.on('hello', listener1);\ne1.on('removeListener', common.mustCall(function(name, cb) {\n  assert.equal(name, 'hello');\n  assert.equal(cb, listener1);\n}));\ne1.removeListener('hello', listener1);\nassert.deepEqual([], e1.listeners('hello'));\nvar e2 = new events.EventEmitter();\ne2.on('hello', listener1);\ne2.on('removeListener', assert.fail);\ne2.removeListener('hello', listener2);\nassert.deepEqual([listener1], e2.listeners('hello'));\nvar e3 = new events.EventEmitter();\ne3.on('hello', listener1);\ne3.on('hello', listener2);\ne3.on('removeListener', common.mustCall(function(name, cb) {\n  assert.equal(name, 'hello');\n  assert.equal(cb, listener1);\n}));\ne3.removeListener('hello', listener1);\nassert.deepEqual([listener2], e3.listeners('hello'));\nvar e4 = new events.EventEmitter();\ne4.on('removeListener', common.mustCall(function(name, cb) {\n  if (cb !== remove1)\n    return;\n  this.removeListener('quux', remove2);\n  this.emit('quux');\n}, 2));\ne4.on('quux', remove1);\ne4.on('quux', remove2);\ne4.removeListener('quux', remove1);\n"]}