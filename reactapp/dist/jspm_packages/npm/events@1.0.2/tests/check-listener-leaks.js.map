{"version":3,"sources":["../../../../../jspm_packages/npm/events@1.0.2/tests/check-listener-leaks.js"],"names":["process","assert","require","events","e","EventEmitter","i","on","ok","_events","hasOwnProperty","warned","setMaxListeners","defaultMaxListeners","strictEqual"],"mappings":"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","file":"check-listener-leaks.js","sourcesContent":["/* */ \n(function(process) {\n  var assert = require('assert');\n  var events = require('../events');\n  var e = new events.EventEmitter();\n  for (var i = 0; i < 10; i++) {\n    e.on('default', function() {});\n  }\n  assert.ok(!e._events['default'].hasOwnProperty('warned'));\n  e.on('default', function() {});\n  assert.ok(e._events['default'].warned);\n  e.setMaxListeners(5);\n  for (var i = 0; i < 5; i++) {\n    e.on('specific', function() {});\n  }\n  assert.ok(!e._events['specific'].hasOwnProperty('warned'));\n  e.on('specific', function() {});\n  assert.ok(e._events['specific'].warned);\n  e.setMaxListeners(1);\n  e.on('only one', function() {});\n  assert.ok(!e._events['only one'].hasOwnProperty('warned'));\n  e.on('only one', function() {});\n  assert.ok(e._events['only one'].hasOwnProperty('warned'));\n  e.setMaxListeners(0);\n  for (var i = 0; i < 1000; i++) {\n    e.on('unlimited', function() {});\n  }\n  assert.ok(!e._events['unlimited'].hasOwnProperty('warned'));\n  events.EventEmitter.defaultMaxListeners = 42;\n  e = new events.EventEmitter();\n  for (var i = 0; i < 42; ++i) {\n    e.on('fortytwo', function() {});\n  }\n  assert.ok(!e._events['fortytwo'].hasOwnProperty('warned'));\n  e.on('fortytwo', function() {});\n  assert.ok(e._events['fortytwo'].hasOwnProperty('warned'));\n  delete e._events['fortytwo'].warned;\n  events.EventEmitter.defaultMaxListeners = 44;\n  e.on('fortytwo', function() {});\n  assert.ok(!e._events['fortytwo'].hasOwnProperty('warned'));\n  e.on('fortytwo', function() {});\n  assert.ok(e._events['fortytwo'].hasOwnProperty('warned'));\n  events.EventEmitter.defaultMaxListeners = 42;\n  e = new events.EventEmitter();\n  e.setMaxListeners(1);\n  e.on('uno', function() {});\n  assert.ok(!e._events['uno'].hasOwnProperty('warned'));\n  e.on('uno', function() {});\n  assert.ok(e._events['uno'].hasOwnProperty('warned'));\n  assert.strictEqual(e, e.setMaxListeners(1));\n})(require('process'));\n"]}