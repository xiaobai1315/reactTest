{"version":3,"sources":["../../../../../jspm_packages/npm/node-fetch@1.7.3/lib/index.js"],"names":["Buffer","process","Object","defineProperty","exports","value","BUFFER","Symbol","TYPE","CLOSED","Blob","toStringTag","writable","enumerable","configurable","blobParts","arguments","options","buffers","a","length","Number","i","element","buffer","ArrayBuffer","isView","from","byteOffset","byteLength","String","push","concat","type","undefined","toLowerCase","test","size","start","end","relativeStart","relativeEnd","Math","max","min","span","slicedBuffer","slice","blob","prototype","FetchError","message","systemError","Error","call","code","errno","captureStackTrace","constructor","create","name","Stream","require","_require$1","PassThrough$1","PassThrough","DISTURBED","convert","e","Body","body","_ref","_ref$size","_ref$timeout","timeout","isURLSearchParams","isBuffer","bodyUsed","arrayBuffer","consumeBody","then","buf","ct","headers","get","assign","json","_this","JSON","parse","toString","err","Promise","reject","url","text","textConverted","_this2","convertBody","mixIn","proto","getOwnPropertyNames","desc","getOwnPropertyDescriptor","_this3","resolve","alloc","accum","accumBytes","abort","resTimeout","setTimeout","on","chunk","clearTimeout","charset","res","str","exec","pop","obj","append","delete","getAll","has","set","sort","clone","instance","p1","p2","getBoundary","pipe","extractContentType","getTotalBytes","getLengthSync","_lengthRetrievers","hasKnownLength","writeToStream","dest","write","global","isValidTokenChar","ch","checkIsHttpToken","val","charCodeAt","len","checkInvalidHeaderChar","c","sanitizeName","TypeError","sanitizeValue","MAP","Headers","init","rawHeaders","raw","headerNames","keys","headerName","method","iterator","pairs","pair","Array","key","list","join","callback","thisArg","getHeaderPairs","_pairs$i","createHeadersIterator","entries","kind","map","k","INTERNAL","target","HeadersIteratorPrototype","index","setPrototypeOf","next","getPrototypeOf","_INTERNAL","values","done","result","_require$2","STATUS_CODES","Response","opts","status","statusText","ok","_require$3","format_url","format","parse_url","PARSED_URL","Request","input","parsedURL","href","inputBody","toUpperCase","redirect","contentType","follow","compress","counter","agent","getNodeRequestOptions","request","protocol","hostname","contentLengthValue","totalBytes","http","https","_require","_require2","resolve_url","zlib","fetch","send","host","req","reqTimeout","once","socket","isRedirect","statusCode","location","isArray","response_options","statusMessage","codings","zlibOptions","flush","Z_SYNC_FLUSH","finishFlush","createGunzip","createInflate","createInflateRaw","module"],"mappings":"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","file":"index.js","sourcesContent":["/* */ \n(function(Buffer, process) {\n  'use strict';\n  Object.defineProperty(exports, '__esModule', {value: true});\n  const BUFFER = Symbol('buffer');\n  const TYPE = Symbol('type');\n  const CLOSED = Symbol('closed');\n  class Blob {\n    constructor() {\n      Object.defineProperty(this, Symbol.toStringTag, {\n        value: 'Blob',\n        writable: false,\n        enumerable: false,\n        configurable: true\n      });\n      this[CLOSED] = false;\n      this[TYPE] = '';\n      const blobParts = arguments[0];\n      const options = arguments[1];\n      const buffers = [];\n      if (blobParts) {\n        const a = blobParts;\n        const length = Number(a.length);\n        for (let i = 0; i < length; i++) {\n          const element = a[i];\n          let buffer;\n          if (element instanceof Buffer) {\n            buffer = element;\n          } else if (ArrayBuffer.isView(element)) {\n            buffer = Buffer.from(element.buffer, element.byteOffset, element.byteLength);\n          } else if (element instanceof ArrayBuffer) {\n            buffer = Buffer.from(element);\n          } else if (element instanceof Blob) {\n            buffer = element[BUFFER];\n          } else {\n            buffer = Buffer.from(typeof element === 'string' ? element : String(element));\n          }\n          buffers.push(buffer);\n        }\n      }\n      this[BUFFER] = Buffer.concat(buffers);\n      let type = options && options.type !== undefined && String(options.type).toLowerCase();\n      if (type && !/[^\\u0020-\\u007E]/.test(type)) {\n        this[TYPE] = type;\n      }\n    }\n    get size() {\n      return this[CLOSED] ? 0 : this[BUFFER].length;\n    }\n    get type() {\n      return this[TYPE];\n    }\n    get isClosed() {\n      return this[CLOSED];\n    }\n    slice() {\n      const size = this.size;\n      const start = arguments[0];\n      const end = arguments[1];\n      let relativeStart,\n          relativeEnd;\n      if (start === undefined) {\n        relativeStart = 0;\n      } else if (start < 0) {\n        relativeStart = Math.max(size + start, 0);\n      } else {\n        relativeStart = Math.min(start, size);\n      }\n      if (end === undefined) {\n        relativeEnd = size;\n      } else if (end < 0) {\n        relativeEnd = Math.max(size + end, 0);\n      } else {\n        relativeEnd = Math.min(end, size);\n      }\n      const span = Math.max(relativeEnd - relativeStart, 0);\n      const buffer = this[BUFFER];\n      const slicedBuffer = buffer.slice(relativeStart, relativeStart + span);\n      const blob = new Blob([], {type: arguments[2]});\n      blob[BUFFER] = slicedBuffer;\n      blob[CLOSED] = this[CLOSED];\n      return blob;\n    }\n    close() {\n      this[CLOSED] = true;\n    }\n  }\n  Object.defineProperty(Blob.prototype, Symbol.toStringTag, {\n    value: 'BlobPrototype',\n    writable: false,\n    enumerable: false,\n    configurable: true\n  });\n  function FetchError(message, type, systemError) {\n    Error.call(this, message);\n    this.message = message;\n    this.type = type;\n    if (systemError) {\n      this.code = this.errno = systemError.code;\n    }\n    Error.captureStackTrace(this, this.constructor);\n  }\n  FetchError.prototype = Object.create(Error.prototype);\n  FetchError.prototype.constructor = FetchError;\n  FetchError.prototype.name = 'FetchError';\n  const Stream = require('stream');\n  var _require$1 = require('stream');\n  const PassThrough$1 = _require$1.PassThrough;\n  const DISTURBED = Symbol('disturbed');\n  let convert;\n  try {\n    convert = require('encoding').convert;\n  } catch (e) {}\n  function Body(body) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$size = _ref.size;\n    let size = _ref$size === undefined ? 0 : _ref$size;\n    var _ref$timeout = _ref.timeout;\n    let timeout = _ref$timeout === undefined ? 0 : _ref$timeout;\n    if (body == null) {\n      body = null;\n    } else if (typeof body === 'string') {} else if (isURLSearchParams(body)) {} else if (body instanceof Blob) {} else if (Buffer.isBuffer(body)) {} else if (body instanceof Stream) {} else {\n      body = String(body);\n    }\n    this.body = body;\n    this[DISTURBED] = false;\n    this.size = size;\n    this.timeout = timeout;\n  }\n  Body.prototype = {\n    get bodyUsed() {\n      return this[DISTURBED];\n    },\n    arrayBuffer() {\n      return consumeBody.call(this).then(function(buf) {\n        return buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength);\n      });\n    },\n    blob() {\n      let ct = this.headers && this.headers.get('content-type') || '';\n      return consumeBody.call(this).then(function(buf) {\n        return Object.assign(new Blob([], {type: ct.toLowerCase()}), {[BUFFER]: buf});\n      });\n    },\n    json() {\n      var _this = this;\n      return consumeBody.call(this).then(function(buffer) {\n        try {\n          return JSON.parse(buffer.toString());\n        } catch (err) {\n          return Body.Promise.reject(new FetchError(`invalid json response body at ${_this.url} reason: ${err.message}`, 'invalid-json'));\n        }\n      });\n    },\n    text() {\n      return consumeBody.call(this).then(function(buffer) {\n        return buffer.toString();\n      });\n    },\n    buffer() {\n      return consumeBody.call(this);\n    },\n    textConverted() {\n      var _this2 = this;\n      return consumeBody.call(this).then(function(buffer) {\n        return convertBody(buffer, _this2.headers);\n      });\n    }\n  };\n  Body.mixIn = function(proto) {\n    for (const name of Object.getOwnPropertyNames(Body.prototype)) {\n      if (!(name in proto)) {\n        const desc = Object.getOwnPropertyDescriptor(Body.prototype, name);\n        Object.defineProperty(proto, name, desc);\n      }\n    }\n  };\n  function consumeBody(body) {\n    var _this3 = this;\n    if (this[DISTURBED]) {\n      return Body.Promise.reject(new Error(`body used already for: ${this.url}`));\n    }\n    this[DISTURBED] = true;\n    if (this.body === null) {\n      return Body.Promise.resolve(Buffer.alloc(0));\n    }\n    if (typeof this.body === 'string') {\n      return Body.Promise.resolve(Buffer.from(this.body));\n    }\n    if (this.body instanceof Blob) {\n      return Body.Promise.resolve(this.body[BUFFER]);\n    }\n    if (Buffer.isBuffer(this.body)) {\n      return Body.Promise.resolve(this.body);\n    }\n    if (!(this.body instanceof Stream)) {\n      return Body.Promise.resolve(Buffer.alloc(0));\n    }\n    let accum = [];\n    let accumBytes = 0;\n    let abort = false;\n    return new Body.Promise(function(resolve, reject) {\n      let resTimeout;\n      if (_this3.timeout) {\n        resTimeout = setTimeout(function() {\n          abort = true;\n          reject(new FetchError(`Response timeout while trying to fetch ${_this3.url} (over ${_this3.timeout}ms)`, 'body-timeout'));\n        }, _this3.timeout);\n      }\n      _this3.body.on('error', function(err) {\n        reject(new FetchError(`Invalid response body while trying to fetch ${_this3.url}: ${err.message}`, 'system', err));\n      });\n      _this3.body.on('data', function(chunk) {\n        if (abort || chunk === null) {\n          return;\n        }\n        if (_this3.size && accumBytes + chunk.length > _this3.size) {\n          abort = true;\n          reject(new FetchError(`content size at ${_this3.url} over limit: ${_this3.size}`, 'max-size'));\n          return;\n        }\n        accumBytes += chunk.length;\n        accum.push(chunk);\n      });\n      _this3.body.on('end', function() {\n        if (abort) {\n          return;\n        }\n        clearTimeout(resTimeout);\n        resolve(Buffer.concat(accum));\n      });\n    });\n  }\n  function convertBody(buffer, headers) {\n    if (typeof convert !== 'function') {\n      throw new Error('The package `encoding` must be installed to use the textConverted() function');\n    }\n    const ct = headers.get('content-type');\n    let charset = 'utf-8';\n    let res,\n        str;\n    if (ct) {\n      res = /charset=([^;]*)/i.exec(ct);\n    }\n    str = buffer.slice(0, 1024).toString();\n    if (!res && str) {\n      res = /<meta.+?charset=(['\"])(.+?)\\1/i.exec(str);\n    }\n    if (!res && str) {\n      res = /<meta[\\s]+?http-equiv=(['\"])content-type\\1[\\s]+?content=(['\"])(.+?)\\2/i.exec(str);\n      if (res) {\n        res = /charset=(.*)/i.exec(res.pop());\n      }\n    }\n    if (!res && str) {\n      res = /<\\?xml.+?encoding=(['\"])(.+?)\\1/i.exec(str);\n    }\n    if (res) {\n      charset = res.pop();\n      if (charset === 'gb2312' || charset === 'gbk') {\n        charset = 'gb18030';\n      }\n    }\n    return convert(buffer, 'UTF-8', charset).toString();\n  }\n  function isURLSearchParams(obj) {\n    if (typeof obj !== 'object' || typeof obj.append !== 'function' || typeof obj.delete !== 'function' || typeof obj.get !== 'function' || typeof obj.getAll !== 'function' || typeof obj.has !== 'function' || typeof obj.set !== 'function') {\n      return false;\n    }\n    return obj.constructor.name === 'URLSearchParams' || Object.prototype.toString.call(obj) === '[object URLSearchParams]' || typeof obj.sort === 'function';\n  }\n  function clone(instance) {\n    let p1,\n        p2;\n    let body = instance.body;\n    if (instance.bodyUsed) {\n      throw new Error('cannot clone body after it is used');\n    }\n    if (body instanceof Stream && typeof body.getBoundary !== 'function') {\n      p1 = new PassThrough$1();\n      p2 = new PassThrough$1();\n      body.pipe(p1);\n      body.pipe(p2);\n      instance.body = p1;\n      body = p2;\n    }\n    return body;\n  }\n  function extractContentType(instance) {\n    const body = instance.body;\n    if (body === null) {\n      return null;\n    } else if (typeof body === 'string') {\n      return 'text/plain;charset=UTF-8';\n    } else if (isURLSearchParams(body)) {\n      return 'application/x-www-form-urlencoded;charset=UTF-8';\n    } else if (body instanceof Blob) {\n      return body.type || null;\n    } else if (Buffer.isBuffer(body)) {\n      return null;\n    } else if (typeof body.getBoundary === 'function') {\n      return `multipart/form-data;boundary=${body.getBoundary()}`;\n    } else {\n      return null;\n    }\n  }\n  function getTotalBytes(instance) {\n    const body = instance.body;\n    if (body === null) {\n      return 0;\n    } else if (typeof body === 'string') {\n      return Buffer.byteLength(body);\n    } else if (isURLSearchParams(body)) {\n      return Buffer.byteLength(String(body));\n    } else if (body instanceof Blob) {\n      return body.size;\n    } else if (Buffer.isBuffer(body)) {\n      return body.length;\n    } else if (body && typeof body.getLengthSync === 'function') {\n      if (body._lengthRetrievers && body._lengthRetrievers.length == 0 || body.hasKnownLength && body.hasKnownLength()) {\n        return body.getLengthSync();\n      }\n      return null;\n    } else {\n      return null;\n    }\n  }\n  function writeToStream(dest, instance) {\n    const body = instance.body;\n    if (body === null) {\n      dest.end();\n    } else if (typeof body === 'string') {\n      dest.write(body);\n      dest.end();\n    } else if (isURLSearchParams(body)) {\n      dest.write(Buffer.from(String(body)));\n      dest.end();\n    } else if (body instanceof Blob) {\n      dest.write(body[BUFFER]);\n      dest.end();\n    } else if (Buffer.isBuffer(body)) {\n      dest.write(body);\n      dest.end();\n    } else {\n      body.pipe(dest);\n    }\n  }\n  Body.Promise = global.Promise;\n  function isValidTokenChar(ch) {\n    if (ch >= 94 && ch <= 122)\n      return true;\n    if (ch >= 65 && ch <= 90)\n      return true;\n    if (ch === 45)\n      return true;\n    if (ch >= 48 && ch <= 57)\n      return true;\n    if (ch === 34 || ch === 40 || ch === 41 || ch === 44)\n      return false;\n    if (ch >= 33 && ch <= 46)\n      return true;\n    if (ch === 124 || ch === 126)\n      return true;\n    return false;\n  }\n  function checkIsHttpToken(val) {\n    if (typeof val !== 'string' || val.length === 0)\n      return false;\n    if (!isValidTokenChar(val.charCodeAt(0)))\n      return false;\n    const len = val.length;\n    if (len > 1) {\n      if (!isValidTokenChar(val.charCodeAt(1)))\n        return false;\n      if (len > 2) {\n        if (!isValidTokenChar(val.charCodeAt(2)))\n          return false;\n        if (len > 3) {\n          if (!isValidTokenChar(val.charCodeAt(3)))\n            return false;\n          for (var i = 4; i < len; i++) {\n            if (!isValidTokenChar(val.charCodeAt(i)))\n              return false;\n          }\n        }\n      }\n    }\n    return true;\n  }\n  function checkInvalidHeaderChar(val) {\n    val += '';\n    if (val.length < 1)\n      return false;\n    var c = val.charCodeAt(0);\n    if (c <= 31 && c !== 9 || c > 255 || c === 127)\n      return true;\n    if (val.length < 2)\n      return false;\n    c = val.charCodeAt(1);\n    if (c <= 31 && c !== 9 || c > 255 || c === 127)\n      return true;\n    if (val.length < 3)\n      return false;\n    c = val.charCodeAt(2);\n    if (c <= 31 && c !== 9 || c > 255 || c === 127)\n      return true;\n    for (var i = 3; i < val.length; ++i) {\n      c = val.charCodeAt(i);\n      if (c <= 31 && c !== 9 || c > 255 || c === 127)\n        return true;\n    }\n    return false;\n  }\n  function sanitizeName(name) {\n    name += '';\n    if (!checkIsHttpToken(name)) {\n      throw new TypeError(`${name} is not a legal HTTP header name`);\n    }\n    return name.toLowerCase();\n  }\n  function sanitizeValue(value) {\n    value += '';\n    if (checkInvalidHeaderChar(value)) {\n      throw new TypeError(`${value} is not a legal HTTP header value`);\n    }\n    return value;\n  }\n  const MAP = Symbol('map');\n  class Headers {\n    constructor() {\n      let init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n      this[MAP] = Object.create(null);\n      if (init instanceof Headers) {\n        const rawHeaders = init.raw();\n        const headerNames = Object.keys(rawHeaders);\n        for (const headerName of headerNames) {\n          for (const value of rawHeaders[headerName]) {\n            this.append(headerName, value);\n          }\n        }\n        return;\n      }\n      if (init == null) {} else if (typeof init === 'object') {\n        const method = init[Symbol.iterator];\n        if (method != null) {\n          if (typeof method !== 'function') {\n            throw new TypeError('Header pairs must be iterable');\n          }\n          const pairs = [];\n          for (const pair of init) {\n            if (typeof pair !== 'object' || typeof pair[Symbol.iterator] !== 'function') {\n              throw new TypeError('Each header pair must be iterable');\n            }\n            pairs.push(Array.from(pair));\n          }\n          for (const pair of pairs) {\n            if (pair.length !== 2) {\n              throw new TypeError('Each header pair must be a name/value tuple');\n            }\n            this.append(pair[0], pair[1]);\n          }\n        } else {\n          for (const key of Object.keys(init)) {\n            const value = init[key];\n            this.append(key, value);\n          }\n        }\n      } else {\n        throw new TypeError('Provided initializer must be an object');\n      }\n      Object.defineProperty(this, Symbol.toStringTag, {\n        value: 'Headers',\n        writable: false,\n        enumerable: false,\n        configurable: true\n      });\n    }\n    get(name) {\n      const list = this[MAP][sanitizeName(name)];\n      if (!list) {\n        return null;\n      }\n      return list.join(', ');\n    }\n    forEach(callback) {\n      let thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n      let pairs = getHeaderPairs(this);\n      let i = 0;\n      while (i < pairs.length) {\n        var _pairs$i = pairs[i];\n        const name = _pairs$i[0],\n            value = _pairs$i[1];\n        callback.call(thisArg, value, name, this);\n        pairs = getHeaderPairs(this);\n        i++;\n      }\n    }\n    set(name, value) {\n      this[MAP][sanitizeName(name)] = [sanitizeValue(value)];\n    }\n    append(name, value) {\n      if (!this.has(name)) {\n        this.set(name, value);\n        return;\n      }\n      this[MAP][sanitizeName(name)].push(sanitizeValue(value));\n    }\n    has(name) {\n      return !!this[MAP][sanitizeName(name)];\n    }\n    delete(name) {\n      delete this[MAP][sanitizeName(name)];\n    }\n    raw() {\n      return this[MAP];\n    }\n    keys() {\n      return createHeadersIterator(this, 'key');\n    }\n    values() {\n      return createHeadersIterator(this, 'value');\n    }\n    [Symbol.iterator]() {\n      return createHeadersIterator(this, 'key+value');\n    }\n  }\n  Headers.prototype.entries = Headers.prototype[Symbol.iterator];\n  Object.defineProperty(Headers.prototype, Symbol.toStringTag, {\n    value: 'HeadersPrototype',\n    writable: false,\n    enumerable: false,\n    configurable: true\n  });\n  function getHeaderPairs(headers, kind) {\n    const keys = Object.keys(headers[MAP]).sort();\n    return keys.map(kind === 'key' ? function(k) {\n      return [k];\n    } : function(k) {\n      return [k, headers.get(k)];\n    });\n  }\n  const INTERNAL = Symbol('internal');\n  function createHeadersIterator(target, kind) {\n    const iterator = Object.create(HeadersIteratorPrototype);\n    iterator[INTERNAL] = {\n      target,\n      kind,\n      index: 0\n    };\n    return iterator;\n  }\n  const HeadersIteratorPrototype = Object.setPrototypeOf({next() {\n      if (!this || Object.getPrototypeOf(this) !== HeadersIteratorPrototype) {\n        throw new TypeError('Value of `this` is not a HeadersIterator');\n      }\n      var _INTERNAL = this[INTERNAL];\n      const target = _INTERNAL.target,\n          kind = _INTERNAL.kind,\n          index = _INTERNAL.index;\n      const values = getHeaderPairs(target, kind);\n      const len = values.length;\n      if (index >= len) {\n        return {\n          value: undefined,\n          done: true\n        };\n      }\n      const pair = values[index];\n      this[INTERNAL].index = index + 1;\n      let result;\n      if (kind === 'key') {\n        result = pair[0];\n      } else if (kind === 'value') {\n        result = pair[1];\n      } else {\n        result = pair;\n      }\n      return {\n        value: result,\n        done: false\n      };\n    }}, Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));\n  Object.defineProperty(HeadersIteratorPrototype, Symbol.toStringTag, {\n    value: 'HeadersIterator',\n    writable: false,\n    enumerable: false,\n    configurable: true\n  });\n  var _require$2 = require('http');\n  const STATUS_CODES = _require$2.STATUS_CODES;\n  class Response {\n    constructor() {\n      let body = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      Body.call(this, body, opts);\n      this.url = opts.url;\n      this.status = opts.status || 200;\n      this.statusText = opts.statusText || STATUS_CODES[this.status];\n      this.headers = new Headers(opts.headers);\n      Object.defineProperty(this, Symbol.toStringTag, {\n        value: 'Response',\n        writable: false,\n        enumerable: false,\n        configurable: true\n      });\n    }\n    get ok() {\n      return this.status >= 200 && this.status < 300;\n    }\n    clone() {\n      return new Response(clone(this), {\n        url: this.url,\n        status: this.status,\n        statusText: this.statusText,\n        headers: this.headers,\n        ok: this.ok\n      });\n    }\n  }\n  Body.mixIn(Response.prototype);\n  Object.defineProperty(Response.prototype, Symbol.toStringTag, {\n    value: 'ResponsePrototype',\n    writable: false,\n    enumerable: false,\n    configurable: true\n  });\n  var _require$3 = require('url');\n  const format_url = _require$3.format;\n  const parse_url = _require$3.parse;\n  const PARSED_URL = Symbol('url');\n  class Request {\n    constructor(input) {\n      let init = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let parsedURL;\n      if (!(input instanceof Request)) {\n        if (input && input.href) {\n          parsedURL = parse_url(input.href);\n        } else {\n          parsedURL = parse_url(`${input}`);\n        }\n        input = {};\n      } else {\n        parsedURL = parse_url(input.url);\n      }\n      let method = init.method || input.method || 'GET';\n      if ((init.body != null || input instanceof Request && input.body !== null) && (method === 'GET' || method === 'HEAD')) {\n        throw new TypeError('Request with GET/HEAD method cannot have body');\n      }\n      let inputBody = init.body != null ? init.body : input instanceof Request && input.body !== null ? clone(input) : null;\n      Body.call(this, inputBody, {\n        timeout: init.timeout || input.timeout || 0,\n        size: init.size || input.size || 0\n      });\n      this.method = method.toUpperCase();\n      this.redirect = init.redirect || input.redirect || 'follow';\n      this.headers = new Headers(init.headers || input.headers || {});\n      if (init.body != null) {\n        const contentType = extractContentType(this);\n        if (contentType !== null && !this.headers.has('Content-Type')) {\n          this.headers.append('Content-Type', contentType);\n        }\n      }\n      this.follow = init.follow !== undefined ? init.follow : input.follow !== undefined ? input.follow : 20;\n      this.compress = init.compress !== undefined ? init.compress : input.compress !== undefined ? input.compress : true;\n      this.counter = init.counter || input.counter || 0;\n      this.agent = init.agent || input.agent;\n      this[PARSED_URL] = parsedURL;\n      Object.defineProperty(this, Symbol.toStringTag, {\n        value: 'Request',\n        writable: false,\n        enumerable: false,\n        configurable: true\n      });\n    }\n    get url() {\n      return format_url(this[PARSED_URL]);\n    }\n    clone() {\n      return new Request(this);\n    }\n  }\n  Body.mixIn(Request.prototype);\n  Object.defineProperty(Request.prototype, Symbol.toStringTag, {\n    value: 'RequestPrototype',\n    writable: false,\n    enumerable: false,\n    configurable: true\n  });\n  function getNodeRequestOptions(request) {\n    const parsedURL = request[PARSED_URL];\n    const headers = new Headers(request.headers);\n    if (!headers.has('Accept')) {\n      headers.set('Accept', '*/*');\n    }\n    if (!parsedURL.protocol || !parsedURL.hostname) {\n      throw new TypeError('Only absolute URLs are supported');\n    }\n    if (!/^https?:$/.test(parsedURL.protocol)) {\n      throw new TypeError('Only HTTP(S) protocols are supported');\n    }\n    let contentLengthValue = null;\n    if (request.body == null && /^(POST|PUT)$/i.test(request.method)) {\n      contentLengthValue = '0';\n    }\n    if (request.body != null) {\n      const totalBytes = getTotalBytes(request);\n      if (typeof totalBytes === 'number') {\n        contentLengthValue = String(totalBytes);\n      }\n    }\n    if (contentLengthValue) {\n      headers.set('Content-Length', contentLengthValue);\n    }\n    if (!headers.has('User-Agent')) {\n      headers.set('User-Agent', 'node-fetch/1.0 (+https://github.com/bitinn/node-fetch)');\n    }\n    if (request.compress) {\n      headers.set('Accept-Encoding', 'gzip,deflate');\n    }\n    if (!headers.has('Connection') && !request.agent) {\n      headers.set('Connection', 'close');\n    }\n    return Object.assign({}, parsedURL, {\n      method: request.method,\n      headers: headers.raw(),\n      agent: request.agent\n    });\n  }\n  const http = require('http');\n  const https = require('https');\n  var _require = require('stream');\n  const PassThrough = _require.PassThrough;\n  var _require2 = require('url');\n  const resolve_url = _require2.resolve;\n  const zlib = require('zlib');\n  function fetch(url, opts) {\n    if (!fetch.Promise) {\n      throw new Error('native promise missing, set fetch.Promise to your favorite alternative');\n    }\n    Body.Promise = fetch.Promise;\n    return new fetch.Promise(function(resolve, reject) {\n      const request = new Request(url, opts);\n      const options = getNodeRequestOptions(request);\n      const send = (options.protocol === 'https:' ? https : http).request;\n      if (options.headers.host) {\n        options.headers.host = options.headers.host[0];\n      }\n      const req = send(options);\n      let reqTimeout;\n      if (request.timeout) {\n        req.once('socket', function(socket) {\n          reqTimeout = setTimeout(function() {\n            req.abort();\n            reject(new FetchError(`network timeout at: ${request.url}`, 'request-timeout'));\n          }, request.timeout);\n        });\n      }\n      req.on('error', function(err) {\n        clearTimeout(reqTimeout);\n        reject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`, 'system', err));\n      });\n      req.on('response', function(res) {\n        clearTimeout(reqTimeout);\n        if (fetch.isRedirect(res.statusCode) && request.redirect !== 'manual') {\n          if (request.redirect === 'error') {\n            reject(new FetchError(`redirect mode is set to error: ${request.url}`, 'no-redirect'));\n            return;\n          }\n          if (request.counter >= request.follow) {\n            reject(new FetchError(`maximum redirect reached at: ${request.url}`, 'max-redirect'));\n            return;\n          }\n          if (!res.headers.location) {\n            reject(new FetchError(`redirect location header missing at: ${request.url}`, 'invalid-redirect'));\n            return;\n          }\n          if (res.statusCode === 303 || (res.statusCode === 301 || res.statusCode === 302) && request.method === 'POST') {\n            request.method = 'GET';\n            request.body = null;\n            request.headers.delete('content-length');\n          }\n          request.counter++;\n          resolve(fetch(resolve_url(request.url, res.headers.location), request));\n          return;\n        }\n        const headers = new Headers();\n        for (const name of Object.keys(res.headers)) {\n          if (Array.isArray(res.headers[name])) {\n            for (const val of res.headers[name]) {\n              headers.append(name, val);\n            }\n          } else {\n            headers.append(name, res.headers[name]);\n          }\n        }\n        if (request.redirect === 'manual' && headers.has('location')) {\n          headers.set('location', resolve_url(request.url, headers.get('location')));\n        }\n        let body = res.pipe(new PassThrough());\n        const response_options = {\n          url: request.url,\n          status: res.statusCode,\n          statusText: res.statusMessage,\n          headers: headers,\n          size: request.size,\n          timeout: request.timeout\n        };\n        const codings = headers.get('Content-Encoding');\n        if (!request.compress || request.method === 'HEAD' || codings === null || res.statusCode === 204 || res.statusCode === 304) {\n          resolve(new Response(body, response_options));\n          return;\n        }\n        const zlibOptions = {\n          flush: zlib.Z_SYNC_FLUSH,\n          finishFlush: zlib.Z_SYNC_FLUSH\n        };\n        if (codings == 'gzip' || codings == 'x-gzip') {\n          body = body.pipe(zlib.createGunzip(zlibOptions));\n          resolve(new Response(body, response_options));\n          return;\n        }\n        if (codings == 'deflate' || codings == 'x-deflate') {\n          const raw = res.pipe(new PassThrough());\n          raw.once('data', function(chunk) {\n            if ((chunk[0] & 0x0F) === 0x08) {\n              body = body.pipe(zlib.createInflate());\n            } else {\n              body = body.pipe(zlib.createInflateRaw());\n            }\n            resolve(new Response(body, response_options));\n          });\n          return;\n        }\n        resolve(new Response(body, response_options));\n      });\n      writeToStream(req, request);\n    });\n  }\n  fetch.isRedirect = function(code) {\n    return code === 301 || code === 302 || code === 303 || code === 307 || code === 308;\n  };\n  fetch.Promise = global.Promise;\n  module.exports = exports = fetch;\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.FetchError = FetchError;\n})(require('buffer').Buffer, require('process'));\n"]}