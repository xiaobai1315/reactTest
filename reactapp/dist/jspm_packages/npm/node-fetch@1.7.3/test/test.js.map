{"version":3,"sources":["../../../../../jspm_packages/npm/node-fetch@1.7.3/test/test.js"],"names":["Buffer","chai","require","cap","use","expect","bluebird","then","spawn","stream","resumer","FormData","http","fs","TestServer","fetch","Headers","Response","Request","Body","FetchError","Promise","url","opts","local","base","describe","before","done","hostname","port","start","after","stop","it","p","to","be","an","instanceof","have","property","old","not","undefined","throw","Error","equal","eventually","rejectedWith","rejected","and","instanceOf","include","type","code","errno","res","headers","body","Transform","bodyUsed","false","ok","true","status","statusText","get","text","result","a","json","deep","name","host","method","follow","redirect","null","empty","compress","timeout","on","queue","end","pipe","PassThrough","form","append","contain","createReadStream","getHeaders","b","size","padding","Array","join","chunk","toString","counter","r1","clone","all","results","getAll","c","forEach","val","key","push","expected","delete","agent","Agent","keepAlive","FakeHeader","prototype","z","d","e","f","g","h","i","j","NaN","k","l","m","h1","_headers","h2","set","h3","req","r2","buffer","cl","funcName","systemError","err","message","stack","split"],"mappings":"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","file":"test.js","sourcesContent":["/* */ \n(function(Buffer) {\n  var chai = require('chai');\n  var cap = require('chai-as-promised');\n  chai.use(cap);\n  var expect = chai.expect;\n  var bluebird = require('bluebird');\n  var then = require('promise');\n  var spawn = require('child_process').spawn;\n  var stream = require('stream');\n  var resumer = require('resumer');\n  var FormData = require('form-data');\n  var http = require('http');\n  var fs = require('fs');\n  var TestServer = require('./server');\n  var fetch = require('../index');\n  var Headers = require('../lib/headers');\n  var Response = require('../lib/response');\n  var Request = require('../lib/request');\n  var Body = require('../lib/body');\n  var FetchError = require('../lib/fetch-error');\n  fetch.Promise = fetch.Promise || bluebird;\n  var url,\n      opts,\n      local,\n      base;\n  describe('node-fetch', function() {\n    before(function(done) {\n      local = new TestServer();\n      base = 'http://' + local.hostname + ':' + local.port;\n      local.start(done);\n    });\n    after(function(done) {\n      local.stop(done);\n    });\n    it('should return a promise', function() {\n      url = 'http://example.com/';\n      var p = fetch(url);\n      expect(p).to.be.an.instanceof(fetch.Promise);\n      expect(p).to.have.property('then');\n    });\n    it('should allow custom promise', function() {\n      url = 'http://example.com/';\n      var old = fetch.Promise;\n      fetch.Promise = then;\n      expect(fetch(url)).to.be.an.instanceof(then);\n      expect(fetch(url)).to.not.be.an.instanceof(bluebird);\n      fetch.Promise = old;\n    });\n    it('should throw error when no promise implementation are found', function() {\n      url = 'http://example.com/';\n      var old = fetch.Promise;\n      fetch.Promise = undefined;\n      expect(function() {\n        fetch(url);\n      }).to.throw(Error);\n      fetch.Promise = old;\n    });\n    it('should expose Headers, Response and Request constructors', function() {\n      expect(fetch.Headers).to.equal(Headers);\n      expect(fetch.Response).to.equal(Response);\n      expect(fetch.Request).to.equal(Request);\n    });\n    it('should reject with error if url is protocol relative', function() {\n      url = '//example.com/';\n      return expect(fetch(url)).to.eventually.be.rejectedWith(Error);\n    });\n    it('should reject with error if url is relative path', function() {\n      url = '/some/path';\n      return expect(fetch(url)).to.eventually.be.rejectedWith(Error);\n    });\n    it('should reject with error if protocol is unsupported', function() {\n      url = 'ftp://example.com/';\n      return expect(fetch(url)).to.eventually.be.rejectedWith(Error);\n    });\n    it('should reject with error on network failure', function() {\n      url = 'http://localhost:50000/';\n      return expect(fetch(url)).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.include({\n        type: 'system',\n        code: 'ECONNREFUSED',\n        errno: 'ECONNREFUSED'\n      });\n    });\n    it('should resolve into response', function() {\n      url = base + '/hello';\n      return fetch(url).then(function(res) {\n        expect(res).to.be.an.instanceof(Response);\n        expect(res.headers).to.be.an.instanceof(Headers);\n        expect(res.body).to.be.an.instanceof(stream.Transform);\n        expect(res.bodyUsed).to.be.false;\n        expect(res.url).to.equal(url);\n        expect(res.ok).to.be.true;\n        expect(res.status).to.equal(200);\n        expect(res.statusText).to.equal('OK');\n      });\n    });\n    it('should accept plain text response', function() {\n      url = base + '/plain';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        return res.text().then(function(result) {\n          expect(res.bodyUsed).to.be.true;\n          expect(result).to.be.a('string');\n          expect(result).to.equal('text');\n        });\n      });\n    });\n    it('should accept html response (like plain text)', function() {\n      url = base + '/html';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/html');\n        return res.text().then(function(result) {\n          expect(res.bodyUsed).to.be.true;\n          expect(result).to.be.a('string');\n          expect(result).to.equal('<html></html>');\n        });\n      });\n    });\n    it('should accept json response', function() {\n      url = base + '/json';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('application/json');\n        return res.json().then(function(result) {\n          expect(res.bodyUsed).to.be.true;\n          expect(result).to.be.an('object');\n          expect(result).to.deep.equal({name: 'value'});\n        });\n      });\n    });\n    it('should send request with custom headers', function() {\n      url = base + '/inspect';\n      opts = {headers: {'x-custom-header': 'abc'}};\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.headers['x-custom-header']).to.equal('abc');\n      });\n    });\n    it('should accept headers instance', function() {\n      url = base + '/inspect';\n      opts = {headers: new Headers({'x-custom-header': 'abc'})};\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.headers['x-custom-header']).to.equal('abc');\n      });\n    });\n    it('should accept custom host header', function() {\n      url = base + '/inspect';\n      opts = {headers: {host: 'example.com'}};\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.headers['host']).to.equal('example.com');\n      });\n    });\n    it('should follow redirect code 301', function() {\n      url = base + '/redirect/301';\n      return fetch(url).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        expect(res.status).to.equal(200);\n        expect(res.ok).to.be.true;\n      });\n    });\n    it('should follow redirect code 302', function() {\n      url = base + '/redirect/302';\n      return fetch(url).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        expect(res.status).to.equal(200);\n      });\n    });\n    it('should follow redirect code 303', function() {\n      url = base + '/redirect/303';\n      return fetch(url).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        expect(res.status).to.equal(200);\n      });\n    });\n    it('should follow redirect code 307', function() {\n      url = base + '/redirect/307';\n      return fetch(url).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        expect(res.status).to.equal(200);\n      });\n    });\n    it('should follow redirect code 308', function() {\n      url = base + '/redirect/308';\n      return fetch(url).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        expect(res.status).to.equal(200);\n      });\n    });\n    it('should follow redirect chain', function() {\n      url = base + '/redirect/chain';\n      return fetch(url).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        expect(res.status).to.equal(200);\n      });\n    });\n    it('should follow POST request redirect code 301 with GET', function() {\n      url = base + '/redirect/301';\n      opts = {\n        method: 'POST',\n        body: 'a=1'\n      };\n      return fetch(url, opts).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        expect(res.status).to.equal(200);\n        return res.json().then(function(result) {\n          expect(result.method).to.equal('GET');\n          expect(result.body).to.equal('');\n        });\n      });\n    });\n    it('should follow POST request redirect code 302 with GET', function() {\n      url = base + '/redirect/302';\n      opts = {\n        method: 'POST',\n        body: 'a=1'\n      };\n      return fetch(url, opts).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        expect(res.status).to.equal(200);\n        return res.json().then(function(result) {\n          expect(result.method).to.equal('GET');\n          expect(result.body).to.equal('');\n        });\n      });\n    });\n    it('should follow redirect code 303 with GET', function() {\n      url = base + '/redirect/303';\n      opts = {\n        method: 'PUT',\n        body: 'a=1'\n      };\n      return fetch(url, opts).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        expect(res.status).to.equal(200);\n        return res.json().then(function(result) {\n          expect(result.method).to.equal('GET');\n          expect(result.body).to.equal('');\n        });\n      });\n    });\n    it('should obey maximum redirect, reject case', function() {\n      url = base + '/redirect/chain';\n      opts = {follow: 1};\n      return expect(fetch(url, opts)).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('type', 'max-redirect');\n    });\n    it('should obey redirect chain, resolve case', function() {\n      url = base + '/redirect/chain';\n      opts = {follow: 2};\n      return fetch(url, opts).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        expect(res.status).to.equal(200);\n      });\n    });\n    it('should allow not following redirect', function() {\n      url = base + '/redirect/301';\n      opts = {follow: 0};\n      return expect(fetch(url, opts)).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('type', 'max-redirect');\n    });\n    it('should support redirect mode, manual flag', function() {\n      url = base + '/redirect/301';\n      opts = {redirect: 'manual'};\n      return fetch(url, opts).then(function(res) {\n        expect(res.url).to.equal(url);\n        expect(res.status).to.equal(301);\n        expect(res.headers.get('location')).to.equal(base + '/inspect');\n      });\n    });\n    it('should support redirect mode, error flag', function() {\n      url = base + '/redirect/301';\n      opts = {redirect: 'error'};\n      return expect(fetch(url, opts)).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('type', 'no-redirect');\n    });\n    it('should support redirect mode, manual flag when there is no redirect', function() {\n      url = base + '/hello';\n      opts = {redirect: 'manual'};\n      return fetch(url, opts).then(function(res) {\n        expect(res.url).to.equal(url);\n        expect(res.status).to.equal(200);\n        expect(res.headers.get('location')).to.be.null;\n      });\n    });\n    it('should follow redirect code 301 and keep existing headers', function() {\n      url = base + '/redirect/301';\n      opts = {headers: new Headers({'x-custom-header': 'abc'})};\n      return fetch(url, opts).then(function(res) {\n        expect(res.url).to.equal(base + '/inspect');\n        return res.json();\n      }).then(function(res) {\n        expect(res.headers['x-custom-header']).to.equal('abc');\n      });\n    });\n    it('should reject broken redirect', function() {\n      url = base + '/error/redirect';\n      return expect(fetch(url)).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('type', 'invalid-redirect');\n    });\n    it('should not reject broken redirect under manual redirect', function() {\n      url = base + '/error/redirect';\n      opts = {redirect: 'manual'};\n      return fetch(url, opts).then(function(res) {\n        expect(res.url).to.equal(url);\n        expect(res.status).to.equal(301);\n        expect(res.headers.get('location')).to.be.null;\n      });\n    });\n    it('should handle client-error response', function() {\n      url = base + '/error/400';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        expect(res.status).to.equal(400);\n        expect(res.statusText).to.equal('Bad Request');\n        expect(res.ok).to.be.false;\n        return res.text().then(function(result) {\n          expect(res.bodyUsed).to.be.true;\n          expect(result).to.be.a('string');\n          expect(result).to.equal('client error');\n        });\n      });\n    });\n    it('should handle server-error response', function() {\n      url = base + '/error/500';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        expect(res.status).to.equal(500);\n        expect(res.statusText).to.equal('Internal Server Error');\n        expect(res.ok).to.be.false;\n        return res.text().then(function(result) {\n          expect(res.bodyUsed).to.be.true;\n          expect(result).to.be.a('string');\n          expect(result).to.equal('server error');\n        });\n      });\n    });\n    it('should handle network-error response', function() {\n      url = base + '/error/reset';\n      return expect(fetch(url)).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('code', 'ECONNRESET');\n    });\n    it('should handle DNS-error response', function() {\n      url = 'http://domain.invalid';\n      return expect(fetch(url)).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('code', 'ENOTFOUND');\n    });\n    it('should reject invalid json response', function() {\n      url = base + '/error/json';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('application/json');\n        return expect(res.json()).to.eventually.be.rejectedWith(Error);\n      });\n    });\n    it('should handle no content response', function() {\n      url = base + '/no-content';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(204);\n        expect(res.statusText).to.equal('No Content');\n        expect(res.ok).to.be.true;\n        return res.text().then(function(result) {\n          expect(result).to.be.a('string');\n          expect(result).to.be.empty;\n        });\n      });\n    });\n    it('should throw on no-content json response', function() {\n      url = base + '/no-content';\n      return fetch(url).then(function(res) {\n        return expect(res.json()).to.eventually.be.rejectedWith(FetchError);\n      });\n    });\n    it('should handle no content response with gzip encoding', function() {\n      url = base + '/no-content/gzip';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(204);\n        expect(res.statusText).to.equal('No Content');\n        expect(res.headers.get('content-encoding')).to.equal('gzip');\n        expect(res.ok).to.be.true;\n        return res.text().then(function(result) {\n          expect(result).to.be.a('string');\n          expect(result).to.be.empty;\n        });\n      });\n    });\n    it('should handle not modified response', function() {\n      url = base + '/not-modified';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(304);\n        expect(res.statusText).to.equal('Not Modified');\n        expect(res.ok).to.be.false;\n        return res.text().then(function(result) {\n          expect(result).to.be.a('string');\n          expect(result).to.be.empty;\n        });\n      });\n    });\n    it('should handle not modified response with gzip encoding', function() {\n      url = base + '/not-modified/gzip';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(304);\n        expect(res.statusText).to.equal('Not Modified');\n        expect(res.headers.get('content-encoding')).to.equal('gzip');\n        expect(res.ok).to.be.false;\n        return res.text().then(function(result) {\n          expect(result).to.be.a('string');\n          expect(result).to.be.empty;\n        });\n      });\n    });\n    it('should decompress gzip response', function() {\n      url = base + '/gzip';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        return res.text().then(function(result) {\n          expect(result).to.be.a('string');\n          expect(result).to.equal('hello world');\n        });\n      });\n    });\n    it('should decompress deflate response', function() {\n      url = base + '/deflate';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        return res.text().then(function(result) {\n          expect(result).to.be.a('string');\n          expect(result).to.equal('hello world');\n        });\n      });\n    });\n    it('should decompress deflate raw response from old apache server', function() {\n      url = base + '/deflate-raw';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        return res.text().then(function(result) {\n          expect(result).to.be.a('string');\n          expect(result).to.equal('hello world');\n        });\n      });\n    });\n    it('should skip decompression if unsupported', function() {\n      url = base + '/sdch';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        return res.text().then(function(result) {\n          expect(result).to.be.a('string');\n          expect(result).to.equal('fake sdch string');\n        });\n      });\n    });\n    it('should reject if response compression is invalid', function() {\n      url = base + '/invalid-content-encoding';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        return expect(res.text()).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('code', 'Z_DATA_ERROR');\n      });\n    });\n    it('should allow disabling auto decompression', function() {\n      url = base + '/gzip';\n      opts = {compress: false};\n      return fetch(url, opts).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        return res.text().then(function(result) {\n          expect(result).to.be.a('string');\n          expect(result).to.not.equal('hello world');\n        });\n      });\n    });\n    it('should allow custom timeout', function() {\n      this.timeout(500);\n      url = base + '/timeout';\n      opts = {timeout: 100};\n      return expect(fetch(url, opts)).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('type', 'request-timeout');\n    });\n    it('should allow custom timeout on response body', function() {\n      this.timeout(500);\n      url = base + '/slow';\n      opts = {timeout: 100};\n      return fetch(url, opts).then(function(res) {\n        expect(res.ok).to.be.true;\n        return expect(res.text()).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('type', 'body-timeout');\n      });\n    });\n    it('should clear internal timeout on fetch response', function(done) {\n      this.timeout(1000);\n      spawn('node', ['-e', 'require(\"./\")(\"' + base + '/hello\", { timeout: 5000 })']).on('exit', function() {\n        done();\n      });\n    });\n    it('should clear internal timeout on fetch redirect', function(done) {\n      this.timeout(1000);\n      spawn('node', ['-e', 'require(\"./\")(\"' + base + '/redirect/301\", { timeout: 5000 })']).on('exit', function() {\n        done();\n      });\n    });\n    it('should clear internal timeout on fetch error', function(done) {\n      this.timeout(1000);\n      spawn('node', ['-e', 'require(\"./\")(\"' + base + '/error/reset\", { timeout: 5000 })']).on('exit', function() {\n        done();\n      });\n    });\n    it('should allow POST request', function() {\n      url = base + '/inspect';\n      opts = {method: 'POST'};\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('POST');\n        expect(res.headers['transfer-encoding']).to.be.undefined;\n        expect(res.headers['content-length']).to.equal('0');\n      });\n    });\n    it('should allow POST request with string body', function() {\n      url = base + '/inspect';\n      opts = {\n        method: 'POST',\n        body: 'a=1'\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('POST');\n        expect(res.body).to.equal('a=1');\n        expect(res.headers['transfer-encoding']).to.be.undefined;\n        expect(res.headers['content-length']).to.equal('3');\n      });\n    });\n    it('should allow POST request with buffer body', function() {\n      url = base + '/inspect';\n      opts = {\n        method: 'POST',\n        body: new Buffer('a=1', 'utf-8')\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('POST');\n        expect(res.body).to.equal('a=1');\n        expect(res.headers['transfer-encoding']).to.equal('chunked');\n        expect(res.headers['content-length']).to.be.undefined;\n      });\n    });\n    it('should allow POST request with readable stream as body', function() {\n      var body = resumer().queue('a=1').end();\n      body = body.pipe(new stream.PassThrough());\n      url = base + '/inspect';\n      opts = {\n        method: 'POST',\n        body: body\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('POST');\n        expect(res.body).to.equal('a=1');\n        expect(res.headers['transfer-encoding']).to.equal('chunked');\n        expect(res.headers['content-length']).to.be.undefined;\n      });\n    });\n    it('should allow POST request with form-data as body', function() {\n      var form = new FormData();\n      form.append('a', '1');\n      url = base + '/multipart';\n      opts = {\n        method: 'POST',\n        body: form\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('POST');\n        expect(res.headers['content-type']).to.contain('multipart/form-data');\n        expect(res.headers['content-length']).to.be.a('string');\n        expect(res.body).to.equal('a=1');\n      });\n    });\n    it('should allow POST request with form-data using stream as body', function() {\n      var form = new FormData();\n      form.append('my_field', fs.createReadStream('test/dummy.txt'));\n      url = base + '/multipart';\n      opts = {\n        method: 'POST',\n        body: form\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('POST');\n        expect(res.headers['content-type']).to.contain('multipart/form-data');\n        expect(res.headers['content-length']).to.be.undefined;\n        expect(res.body).to.contain('my_field=');\n      });\n    });\n    it('should allow POST request with form-data as body and custom headers', function() {\n      var form = new FormData();\n      form.append('a', '1');\n      var headers = form.getHeaders();\n      headers['b'] = '2';\n      url = base + '/multipart';\n      opts = {\n        method: 'POST',\n        body: form,\n        headers: headers\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('POST');\n        expect(res.headers['content-type']).to.contain('multipart/form-data');\n        expect(res.headers['content-length']).to.be.a('string');\n        expect(res.headers.b).to.equal('2');\n        expect(res.body).to.equal('a=1');\n      });\n    });\n    it('should allow POST request with object body', function() {\n      url = base + '/inspect';\n      opts = {\n        method: 'POST',\n        body: {a: 1}\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('POST');\n        expect(res.body).to.equal('[object Object]');\n      });\n    });\n    it('should allow PUT request', function() {\n      url = base + '/inspect';\n      opts = {\n        method: 'PUT',\n        body: 'a=1'\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('PUT');\n        expect(res.body).to.equal('a=1');\n      });\n    });\n    it('should allow DELETE request', function() {\n      url = base + '/inspect';\n      opts = {method: 'DELETE'};\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('DELETE');\n      });\n    });\n    it('should allow POST request with string body', function() {\n      url = base + '/inspect';\n      opts = {\n        method: 'POST',\n        body: 'a=1'\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('POST');\n        expect(res.body).to.equal('a=1');\n        expect(res.headers['transfer-encoding']).to.be.undefined;\n        expect(res.headers['content-length']).to.equal('3');\n      });\n    });\n    it('should allow DELETE request with string body', function() {\n      url = base + '/inspect';\n      opts = {\n        method: 'DELETE',\n        body: 'a=1'\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('DELETE');\n        expect(res.body).to.equal('a=1');\n        expect(res.headers['transfer-encoding']).to.be.undefined;\n        expect(res.headers['content-length']).to.equal('3');\n      });\n    });\n    it('should allow PATCH request', function() {\n      url = base + '/inspect';\n      opts = {\n        method: 'PATCH',\n        body: 'a=1'\n      };\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.method).to.equal('PATCH');\n        expect(res.body).to.equal('a=1');\n      });\n    });\n    it('should allow HEAD request', function() {\n      url = base + '/hello';\n      opts = {method: 'HEAD'};\n      return fetch(url, opts).then(function(res) {\n        expect(res.status).to.equal(200);\n        expect(res.statusText).to.equal('OK');\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        expect(res.body).to.be.an.instanceof(stream.Transform);\n        return res.text();\n      }).then(function(text) {\n        expect(text).to.equal('');\n      });\n    });\n    it('should allow HEAD request with content-encoding header', function() {\n      url = base + '/error/404';\n      opts = {method: 'HEAD'};\n      return fetch(url, opts).then(function(res) {\n        expect(res.status).to.equal(404);\n        expect(res.headers.get('content-encoding')).to.equal('gzip');\n        return res.text();\n      }).then(function(text) {\n        expect(text).to.equal('');\n      });\n    });\n    it('should allow OPTIONS request', function() {\n      url = base + '/options';\n      opts = {method: 'OPTIONS'};\n      return fetch(url, opts).then(function(res) {\n        expect(res.status).to.equal(200);\n        expect(res.statusText).to.equal('OK');\n        expect(res.headers.get('allow')).to.equal('GET, HEAD, OPTIONS');\n        expect(res.body).to.be.an.instanceof(stream.Transform);\n      });\n    });\n    it('should reject decoding body twice', function() {\n      url = base + '/plain';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        return res.text().then(function(result) {\n          expect(res.bodyUsed).to.be.true;\n          return expect(res.text()).to.eventually.be.rejectedWith(Error);\n        });\n      });\n    });\n    it('should support maximum response size, multiple chunk', function() {\n      url = base + '/size/chunk';\n      opts = {size: 5};\n      return fetch(url, opts).then(function(res) {\n        expect(res.status).to.equal(200);\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        return expect(res.text()).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('type', 'max-size');\n      });\n    });\n    it('should support maximum response size, single chunk', function() {\n      url = base + '/size/long';\n      opts = {size: 5};\n      return fetch(url, opts).then(function(res) {\n        expect(res.status).to.equal(200);\n        expect(res.headers.get('content-type')).to.equal('text/plain');\n        return expect(res.text()).to.eventually.be.rejected.and.be.an.instanceOf(FetchError).and.have.property('type', 'max-size');\n      });\n    });\n    it('should support encoding decode, xml dtd detect', function() {\n      url = base + '/encoding/euc-jp';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(200);\n        return res.text().then(function(result) {\n          expect(result).to.equal('<?xml version=\"1.0\" encoding=\"EUC-JP\"?><title>日本語</title>');\n        });\n      });\n    });\n    it('should support encoding decode, content-type detect', function() {\n      url = base + '/encoding/shift-jis';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(200);\n        return res.text().then(function(result) {\n          expect(result).to.equal('<div>日本語</div>');\n        });\n      });\n    });\n    it('should support encoding decode, html5 detect', function() {\n      url = base + '/encoding/gbk';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(200);\n        return res.text().then(function(result) {\n          expect(result).to.equal('<meta charset=\"gbk\"><div>中文</div>');\n        });\n      });\n    });\n    it('should support encoding decode, html4 detect', function() {\n      url = base + '/encoding/gb2312';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(200);\n        return res.text().then(function(result) {\n          expect(result).to.equal('<meta http-equiv=\"Content-Type\" content=\"text/html; charset=gb2312\"><div>中文</div>');\n        });\n      });\n    });\n    it('should default to utf8 encoding', function() {\n      url = base + '/encoding/utf8';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(200);\n        expect(res.headers.get('content-type')).to.be.null;\n        return res.text().then(function(result) {\n          expect(result).to.equal('中文');\n        });\n      });\n    });\n    it('should support uncommon content-type order, charset in front', function() {\n      url = base + '/encoding/order1';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(200);\n        return res.text().then(function(result) {\n          expect(result).to.equal('中文');\n        });\n      });\n    });\n    it('should support uncommon content-type order, end with qs', function() {\n      url = base + '/encoding/order2';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(200);\n        return res.text().then(function(result) {\n          expect(result).to.equal('中文');\n        });\n      });\n    });\n    it('should support chunked encoding, html4 detect', function() {\n      url = base + '/encoding/chunked';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(200);\n        var padding = new Array(10 + 1).join('a');\n        return res.text().then(function(result) {\n          expect(result).to.equal(padding + '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=Shift_JIS\" /><div>日本語</div>');\n        });\n      });\n    });\n    it('should only do encoding detection up to 1024 bytes', function() {\n      url = base + '/encoding/invalid';\n      return fetch(url).then(function(res) {\n        expect(res.status).to.equal(200);\n        var padding = new Array(1200 + 1).join('a');\n        return res.text().then(function(result) {\n          expect(result).to.not.equal(padding + '中文');\n        });\n      });\n    });\n    it('should allow piping response body as stream', function(done) {\n      url = base + '/hello';\n      fetch(url).then(function(res) {\n        expect(res.body).to.be.an.instanceof(stream.Transform);\n        res.body.on('data', function(chunk) {\n          if (chunk === null) {\n            return;\n          }\n          expect(chunk.toString()).to.equal('world');\n        });\n        res.body.on('end', function() {\n          done();\n        });\n      });\n    });\n    it('should allow cloning a response, and use both as stream', function(done) {\n      url = base + '/hello';\n      return fetch(url).then(function(res) {\n        var counter = 0;\n        var r1 = res.clone();\n        expect(res.body).to.be.an.instanceof(stream.Transform);\n        expect(r1.body).to.be.an.instanceof(stream.Transform);\n        res.body.on('data', function(chunk) {\n          if (chunk === null) {\n            return;\n          }\n          expect(chunk.toString()).to.equal('world');\n        });\n        res.body.on('end', function() {\n          counter++;\n          if (counter == 2) {\n            done();\n          }\n        });\n        r1.body.on('data', function(chunk) {\n          if (chunk === null) {\n            return;\n          }\n          expect(chunk.toString()).to.equal('world');\n        });\n        r1.body.on('end', function() {\n          counter++;\n          if (counter == 2) {\n            done();\n          }\n        });\n      });\n    });\n    it('should allow cloning a json response and log it as text response', function() {\n      url = base + '/json';\n      return fetch(url).then(function(res) {\n        var r1 = res.clone();\n        return fetch.Promise.all([res.json(), r1.text()]).then(function(results) {\n          expect(results[0]).to.deep.equal({name: 'value'});\n          expect(results[1]).to.equal('{\"name\":\"value\"}');\n        });\n      });\n    });\n    it('should allow cloning a json response, and then log it as text response', function() {\n      url = base + '/json';\n      return fetch(url).then(function(res) {\n        var r1 = res.clone();\n        return res.json().then(function(result) {\n          expect(result).to.deep.equal({name: 'value'});\n          return r1.text().then(function(result) {\n            expect(result).to.equal('{\"name\":\"value\"}');\n          });\n        });\n      });\n    });\n    it('should allow cloning a json response, first log as text response, then return json object', function() {\n      url = base + '/json';\n      return fetch(url).then(function(res) {\n        var r1 = res.clone();\n        return r1.text().then(function(result) {\n          expect(result).to.equal('{\"name\":\"value\"}');\n          return res.json().then(function(result) {\n            expect(result).to.deep.equal({name: 'value'});\n          });\n        });\n      });\n    });\n    it('should not allow cloning a response after its been used', function() {\n      url = base + '/hello';\n      return fetch(url).then(function(res) {\n        return res.text().then(function(result) {\n          expect(function() {\n            var r1 = res.clone();\n          }).to.throw(Error);\n        });\n      });\n    });\n    it('should allow get all responses of a header', function() {\n      url = base + '/cookie';\n      return fetch(url).then(function(res) {\n        expect(res.headers.get('set-cookie')).to.equal('a=1');\n        expect(res.headers.get('Set-Cookie')).to.equal('a=1');\n        expect(res.headers.getAll('set-cookie')).to.deep.equal(['a=1', 'b=1']);\n        expect(res.headers.getAll('Set-Cookie')).to.deep.equal(['a=1', 'b=1']);\n      });\n    });\n    it('should allow iterating through all headers', function() {\n      var headers = new Headers({\n        a: 1,\n        b: [2, 3],\n        c: [4]\n      });\n      expect(headers).to.have.property('forEach');\n      var result = [];\n      headers.forEach(function(val, key) {\n        result.push([key, val]);\n      });\n      expected = [[\"a\", \"1\"], [\"b\", \"2\"], [\"b\", \"3\"], [\"c\", \"4\"]];\n      expect(result).to.deep.equal(expected);\n    });\n    it('should allow deleting header', function() {\n      url = base + '/cookie';\n      return fetch(url).then(function(res) {\n        res.headers.delete('set-cookie');\n        expect(res.headers.get('set-cookie')).to.be.null;\n        expect(res.headers.getAll('set-cookie')).to.be.empty;\n      });\n    });\n    it('should send request with connection keep-alive if agent is provided', function() {\n      url = base + '/inspect';\n      opts = {agent: new http.Agent({keepAlive: true})};\n      return fetch(url, opts).then(function(res) {\n        return res.json();\n      }).then(function(res) {\n        expect(res.headers['connection']).to.equal('keep-alive');\n      });\n    });\n    it('should ignore unsupported attributes while reading headers', function() {\n      var FakeHeader = function() {};\n      FakeHeader.prototype.z = 'fake';\n      var res = new FakeHeader;\n      res.a = 'string';\n      res.b = ['1', '2'];\n      res.c = '';\n      res.d = [];\n      res.e = 1;\n      res.f = [1, 2];\n      res.g = {a: 1};\n      res.h = undefined;\n      res.i = null;\n      res.j = NaN;\n      res.k = true;\n      res.l = false;\n      res.m = new Buffer('test');\n      var h1 = new Headers(res);\n      expect(h1._headers['a']).to.include('string');\n      expect(h1._headers['b']).to.include('1');\n      expect(h1._headers['b']).to.include('2');\n      expect(h1._headers['c']).to.include('');\n      expect(h1._headers['d']).to.be.undefined;\n      expect(h1._headers['e']).to.include('1');\n      expect(h1._headers['f']).to.include('1');\n      expect(h1._headers['f']).to.include('2');\n      expect(h1._headers['g']).to.be.undefined;\n      expect(h1._headers['h']).to.be.undefined;\n      expect(h1._headers['i']).to.be.undefined;\n      expect(h1._headers['j']).to.be.undefined;\n      expect(h1._headers['k']).to.be.undefined;\n      expect(h1._headers['l']).to.be.undefined;\n      expect(h1._headers['m']).to.be.undefined;\n      expect(h1._headers['z']).to.be.undefined;\n    });\n    it('should wrap headers', function() {\n      var h1 = new Headers({a: '1'});\n      var h2 = new Headers(h1);\n      h2.set('b', '1');\n      var h3 = new Headers(h2);\n      h3.append('a', '2');\n      expect(h1._headers['a']).to.include('1');\n      expect(h1._headers['a']).to.not.include('2');\n      expect(h2._headers['a']).to.include('1');\n      expect(h2._headers['a']).to.not.include('2');\n      expect(h2._headers['b']).to.include('1');\n      expect(h3._headers['a']).to.include('1');\n      expect(h3._headers['a']).to.include('2');\n      expect(h3._headers['b']).to.include('1');\n    });\n    it('should support fetch with Request instance', function() {\n      url = base + '/hello';\n      var req = new Request(url);\n      return fetch(req).then(function(res) {\n        expect(res.url).to.equal(url);\n        expect(res.ok).to.be.true;\n        expect(res.status).to.equal(200);\n      });\n    });\n    it('should support wrapping Request instance', function() {\n      url = base + '/hello';\n      var form = new FormData();\n      form.append('a', '1');\n      var r1 = new Request(url, {\n        method: 'POST',\n        follow: 1,\n        body: form\n      });\n      var r2 = new Request(r1, {follow: 2});\n      expect(r2.url).to.equal(url);\n      expect(r2.method).to.equal('POST');\n      expect(r2.body).to.equal(form);\n      expect(r1.follow).to.equal(1);\n      expect(r2.follow).to.equal(2);\n      expect(r1.counter).to.equal(0);\n      expect(r2.counter).to.equal(0);\n    });\n    it('should support overwrite Request instance', function() {\n      url = base + '/inspect';\n      var req = new Request(url, {\n        method: 'POST',\n        headers: {a: '1'}\n      });\n      return fetch(req, {\n        method: 'GET',\n        headers: {a: '2'}\n      }).then(function(res) {\n        return res.json();\n      }).then(function(body) {\n        expect(body.method).to.equal('GET');\n        expect(body.headers.a).to.equal('2');\n      });\n    });\n    it('should support empty options in Response constructor', function() {\n      var body = resumer().queue('a=1').end();\n      body = body.pipe(new stream.PassThrough());\n      var res = new Response(body);\n      return res.text().then(function(result) {\n        expect(result).to.equal('a=1');\n      });\n    });\n    it('should support parsing headers in Response constructor', function() {\n      var res = new Response(null, {headers: {a: '1'}});\n      expect(res.headers.get('a')).to.equal('1');\n    });\n    it('should support text() method in Response constructor', function() {\n      var res = new Response('a=1');\n      return res.text().then(function(result) {\n        expect(result).to.equal('a=1');\n      });\n    });\n    it('should support json() method in Response constructor', function() {\n      var res = new Response('{\"a\":1}');\n      return res.json().then(function(result) {\n        expect(result.a).to.equal(1);\n      });\n    });\n    it('should support buffer() method in Response constructor', function() {\n      var res = new Response('a=1');\n      return res.buffer().then(function(result) {\n        expect(result.toString()).to.equal('a=1');\n      });\n    });\n    it('should support clone() method in Response constructor', function() {\n      var body = resumer().queue('a=1').end();\n      body = body.pipe(new stream.PassThrough());\n      var res = new Response(body, {\n        headers: {a: '1'},\n        url: base,\n        status: 346,\n        statusText: 'production'\n      });\n      var cl = res.clone();\n      expect(cl.headers.get('a')).to.equal('1');\n      expect(cl.url).to.equal(base);\n      expect(cl.status).to.equal(346);\n      expect(cl.statusText).to.equal('production');\n      expect(cl.ok).to.be.false;\n      expect(cl.body).to.not.equal(body);\n      return cl.text().then(function(result) {\n        expect(result).to.equal('a=1');\n      });\n    });\n    it('should support stream as body in Response constructor', function() {\n      var body = resumer().queue('a=1').end();\n      body = body.pipe(new stream.PassThrough());\n      var res = new Response(body);\n      return res.text().then(function(result) {\n        expect(result).to.equal('a=1');\n      });\n    });\n    it('should support string as body in Response constructor', function() {\n      var res = new Response('a=1');\n      return res.text().then(function(result) {\n        expect(result).to.equal('a=1');\n      });\n    });\n    it('should support buffer as body in Response constructor', function() {\n      var res = new Response(new Buffer('a=1'));\n      return res.text().then(function(result) {\n        expect(result).to.equal('a=1');\n      });\n    });\n    it('should default to 200 as status code', function() {\n      var res = new Response(null);\n      expect(res.status).to.equal(200);\n    });\n    it('should support parsing headers in Request constructor', function() {\n      url = base;\n      var req = new Request(url, {headers: {a: '1'}});\n      expect(req.url).to.equal(url);\n      expect(req.headers.get('a')).to.equal('1');\n    });\n    it('should support text() method in Request constructor', function() {\n      url = base;\n      var req = new Request(url, {body: 'a=1'});\n      expect(req.url).to.equal(url);\n      return req.text().then(function(result) {\n        expect(result).to.equal('a=1');\n      });\n    });\n    it('should support json() method in Request constructor', function() {\n      url = base;\n      var req = new Request(url, {body: '{\"a\":1}'});\n      expect(req.url).to.equal(url);\n      return req.json().then(function(result) {\n        expect(result.a).to.equal(1);\n      });\n    });\n    it('should support buffer() method in Request constructor', function() {\n      url = base;\n      var req = new Request(url, {body: 'a=1'});\n      expect(req.url).to.equal(url);\n      return req.buffer().then(function(result) {\n        expect(result.toString()).to.equal('a=1');\n      });\n    });\n    it('should support arbitrary url in Request constructor', function() {\n      url = 'anything';\n      var req = new Request(url);\n      expect(req.url).to.equal('anything');\n    });\n    it('should support clone() method in Request constructor', function() {\n      url = base;\n      var body = resumer().queue('a=1').end();\n      body = body.pipe(new stream.PassThrough());\n      var agent = new http.Agent();\n      var req = new Request(url, {\n        body: body,\n        method: 'POST',\n        redirect: 'manual',\n        headers: {b: '2'},\n        follow: 3,\n        compress: false,\n        agent: agent\n      });\n      var cl = req.clone();\n      expect(cl.url).to.equal(url);\n      expect(cl.method).to.equal('POST');\n      expect(cl.redirect).to.equal('manual');\n      expect(cl.headers.get('b')).to.equal('2');\n      expect(cl.follow).to.equal(3);\n      expect(cl.compress).to.equal(false);\n      expect(cl.method).to.equal('POST');\n      expect(cl.counter).to.equal(0);\n      expect(cl.agent).to.equal(agent);\n      expect(cl.body).to.not.equal(body);\n      return fetch.Promise.all([cl.text(), req.text()]).then(function(results) {\n        expect(results[0]).to.equal('a=1');\n        expect(results[1]).to.equal('a=1');\n      });\n    });\n    it('should support text(), json() and buffer() method in Body constructor', function() {\n      var body = new Body('a=1');\n      expect(body).to.have.property('text');\n      expect(body).to.have.property('json');\n      expect(body).to.have.property('buffer');\n    });\n    it('should create custom FetchError', function funcName() {\n      var systemError = new Error('system');\n      systemError.code = 'ESOMEERROR';\n      var err = new FetchError('test message', 'test-error', systemError);\n      expect(err).to.be.an.instanceof(Error);\n      expect(err).to.be.an.instanceof(FetchError);\n      expect(err.name).to.equal('FetchError');\n      expect(err.message).to.equal('test message');\n      expect(err.type).to.equal('test-error');\n      expect(err.code).to.equal('ESOMEERROR');\n      expect(err.errno).to.equal('ESOMEERROR');\n      expect(err.stack).to.include('funcName');\n      expect(err.stack.split('\\n')[0]).to.equal(err.name + ': ' + err.message);\n    });\n    it('should support https request', function() {\n      this.timeout(5000);\n      url = 'https://github.com/';\n      opts = {method: 'HEAD'};\n      return fetch(url, opts).then(function(res) {\n        expect(res.status).to.equal(200);\n        expect(res.ok).to.be.true;\n      });\n    });\n  });\n})(require('buffer').Buffer);\n"]}