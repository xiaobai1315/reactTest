{"version":3,"sources":["../../../../../jspm_packages/npm/browserify-zlib@0.1.4/test/test-zlib-write-after-flush.js"],"names":["tape","require","zlib","fs","t","plan","gzip","createGzip","gunz","createUnzip","pipe","output","input","setEncoding","on","c","equal","_flushFlag","Z_NO_FLUSH","flush","write","end","read"],"mappings":";;AAAA;AACA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;AACA,IAAIC,OAAOD,QAAQ,cAAR,CAAX;AACA,IAAIE,KAAKF,QAAQ,IAAR,CAAT;AACAD,KAAK,mBAAL,EAA0B,UAASI,CAAT,EAAY;AACpCA,IAAEC,IAAF,CAAO,CAAP;AACA,MAAIC,OAAOJ,KAAKK,UAAL,EAAX;AACA,MAAIC,OAAON,KAAKO,WAAL,EAAX;AACAH,OAAKI,IAAL,CAAUF,IAAV;AACA,MAAIG,SAAS,EAAb;AACA,MAAIC,QAAQ,kBAAZ;AACAJ,OAAKK,WAAL,CAAiB,MAAjB;AACAL,OAAKM,EAAL,CAAQ,MAAR,EAAgB,UAASC,CAAT,EAAY;AAC1BJ,cAAUI,CAAV;AACD,GAFD;AAGAP,OAAKM,EAAL,CAAQ,KAAR,EAAe,YAAW;AACxBV,MAAEY,KAAF,CAAQL,MAAR,EAAgBC,KAAhB;AACAR,MAAEY,KAAF,CAAQV,KAAKW,UAAb,EAAyBf,KAAKgB,UAA9B;AACD,GAHD;AAIAZ,OAAKa,KAAL;AACAC;AACA,WAASA,KAAT,GAAiB;AACfd,SAAKc,KAAL,CAAWR,KAAX;AACAN,SAAKe,GAAL;AACAb,SAAKc,IAAL,CAAU,CAAV;AACD;AACF,CAtBD","file":"test-zlib-write-after-flush.js","sourcesContent":["/* */ \nvar tape = require('tape');\nvar zlib = require('../src/index');\nvar fs = require('fs');\ntape('write after flush', function(t) {\n  t.plan(2);\n  var gzip = zlib.createGzip();\n  var gunz = zlib.createUnzip();\n  gzip.pipe(gunz);\n  var output = '';\n  var input = 'A line of data\\n';\n  gunz.setEncoding('utf8');\n  gunz.on('data', function(c) {\n    output += c;\n  });\n  gunz.on('end', function() {\n    t.equal(output, input);\n    t.equal(gzip._flushFlag, zlib.Z_NO_FLUSH);\n  });\n  gzip.flush();\n  write();\n  function write() {\n    gzip.write(input);\n    gzip.end();\n    gunz.read(0);\n  }\n});\n"]}