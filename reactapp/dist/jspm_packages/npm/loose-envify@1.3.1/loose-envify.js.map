{"version":3,"sources":["../../../../jspm_packages/npm/loose-envify@1.3.1/loose-envify.js"],"names":["process","stream","require","util","replace","jsonExtRe","module","exports","rootEnv","env","file","trOpts","test","PassThrough","envs","LooseEnvify","Transform","call","_data","_envs","inherits","prototype","_transform","buf","enc","cb","_flush","replaced","push"],"mappings":";;AAAA;AACA,CAAC,UAASA,OAAT,EAAkB;AACjB;;AACA,MAAIC,SAASC,QAAQ,QAAR,CAAb;AACA,MAAIC,OAAOD,QAAQ,MAAR,CAAX;AACA,MAAIE,UAAUF,QAAQ,WAAR,CAAd;AACA,MAAIG,YAAY,SAAhB;AACAC,SAAOC,OAAP,GAAiB,UAASC,OAAT,EAAkB;AACjCA,cAAUA,WAAWR,QAAQS,GAA7B;AACA,WAAO,UAASC,IAAT,EAAeC,MAAf,EAAuB;AAC5B,UAAIN,UAAUO,IAAV,CAAeF,IAAf,CAAJ,EAA0B;AACxB,eAAOT,OAAOY,WAAP,EAAP;AACD;AACD,UAAIC,OAAOH,SAAS,CAACH,OAAD,EAAUG,MAAV,CAAT,GAA6B,CAACH,OAAD,CAAxC;AACA,aAAO,IAAIO,WAAJ,CAAgBD,IAAhB,CAAP;AACD,KAND;AAOD,GATD;AAUA,WAASC,WAAT,CAAqBD,IAArB,EAA2B;AACzBb,WAAOe,SAAP,CAAiBC,IAAjB,CAAsB,IAAtB;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,KAAL,GAAaL,IAAb;AACD;AACDX,OAAKiB,QAAL,CAAcL,WAAd,EAA2Bd,OAAOe,SAAlC;AACAD,cAAYM,SAAZ,CAAsBC,UAAtB,GAAmC,UAASC,GAAT,EAAcC,GAAd,EAAmBC,EAAnB,EAAuB;AACxD,SAAKP,KAAL,IAAcK,GAAd;AACAE;AACD,GAHD;AAIAV,cAAYM,SAAZ,CAAsBK,MAAtB,GAA+B,UAASD,EAAT,EAAa;AAC1C,QAAIE,WAAWvB,QAAQ,KAAKc,KAAb,EAAoB,KAAKC,KAAzB,CAAf;AACA,SAAKS,IAAL,CAAUD,QAAV;AACAF;AACD,GAJD;AAKD,CA/BD,EA+BGvB,QAAQ,SAAR,CA/BH","file":"loose-envify.js","sourcesContent":["/* */ \n(function(process) {\n  'use strict';\n  var stream = require('stream');\n  var util = require('util');\n  var replace = require('./replace');\n  var jsonExtRe = /\\.json$/;\n  module.exports = function(rootEnv) {\n    rootEnv = rootEnv || process.env;\n    return function(file, trOpts) {\n      if (jsonExtRe.test(file)) {\n        return stream.PassThrough();\n      }\n      var envs = trOpts ? [rootEnv, trOpts] : [rootEnv];\n      return new LooseEnvify(envs);\n    };\n  };\n  function LooseEnvify(envs) {\n    stream.Transform.call(this);\n    this._data = '';\n    this._envs = envs;\n  }\n  util.inherits(LooseEnvify, stream.Transform);\n  LooseEnvify.prototype._transform = function(buf, enc, cb) {\n    this._data += buf;\n    cb();\n  };\n  LooseEnvify.prototype._flush = function(cb) {\n    var replaced = replace(this._data, this._envs);\n    this.push(replaced);\n    cb();\n  };\n})(require('process'));\n"]}