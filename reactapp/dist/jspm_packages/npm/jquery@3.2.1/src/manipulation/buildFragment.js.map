{"version":3,"sources":["../../../../../../jspm_packages/npm/jquery@3.2.1/src/manipulation/buildFragment.js"],"names":["define","jQuery","rtagName","rscriptType","wrapMap","getAll","setGlobalEval","rhtml","buildFragment","elems","context","scripts","selection","ignored","elem","tmp","tag","wrap","contains","j","fragment","createDocumentFragment","nodes","i","l","length","type","merge","nodeType","test","push","createTextNode","appendChild","createElement","exec","toLowerCase","_default","innerHTML","htmlPrefilter","lastChild","childNodes","firstChild","textContent","inArray","ownerDocument"],"mappings":"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","file":"buildFragment.js","sourcesContent":["/* */ \ndefine( [\n\t\"../core\",\n\t\"./var/rtagName\",\n\t\"./var/rscriptType\",\n\t\"./wrapMap\",\n\t\"./getAll\",\n\t\"./setGlobalEval\"\n], function( jQuery, rtagName, rscriptType, wrapMap, getAll, setGlobalEval ) {\n\n\"use strict\";\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, contains, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( contains ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\nreturn buildFragment;\n} );\n"]}