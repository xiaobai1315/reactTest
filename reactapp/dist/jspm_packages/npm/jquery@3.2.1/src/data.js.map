{"version":3,"sources":["../../../../../jspm_packages/npm/jquery@3.2.1/src/data.js"],"names":["define","jQuery","access","dataPriv","dataUser","rbrace","rmultiDash","getData","data","test","JSON","parse","dataAttr","elem","key","name","undefined","nodeType","replace","toLowerCase","getAttribute","e","set","extend","hasData","removeData","remove","_data","_removeData","fn","value","i","attrs","attributes","length","get","indexOf","camelCase","slice","each","arguments"],"mappings":"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","file":"data.js","sourcesContent":["/* */ \ndefine( [\n\t\"./core\",\n\t\"./core/access\",\n\t\"./data/var/dataPriv\",\n\t\"./data/var/dataUser\"\n], function( jQuery, access, dataPriv, dataUser ) {\n\n\"use strict\";\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\nreturn jQuery;\n} );\n"]}