{"version":3,"sources":["../../../../../jspm_packages/npm/jquery@3.2.1/src/queue.js"],"names":["define","jQuery","dataPriv","extend","queue","elem","type","data","get","Array","isArray","access","makeArray","push","dequeue","startLength","length","fn","shift","hooks","_queueHooks","next","unshift","stop","call","empty","fire","key","Callbacks","add","remove","setter","arguments","undefined","each","clearQueue","promise","obj","tmp","count","defer","Deferred","elements","i","resolve","resolveWith"],"mappings":"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","file":"queue.js","sourcesContent":["/* */ \ndefine( [\n\t\"./core\",\n\t\"./data/var/dataPriv\",\n\t\"./deferred\",\n\t\"./callbacks\"\n], function( jQuery, dataPriv ) {\n\n\"use strict\";\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\n\nreturn jQuery;\n} );\n"]}