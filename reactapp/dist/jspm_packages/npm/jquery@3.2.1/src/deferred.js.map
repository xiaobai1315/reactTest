{"version":3,"sources":["../../../../../jspm_packages/npm/jquery@3.2.1/src/deferred.js"],"names":["define","jQuery","slice","Identity","v","Thrower","ex","adoptValue","value","resolve","reject","noValue","method","isFunction","promise","call","done","fail","then","apply","undefined","extend","Deferred","func","tuples","Callbacks","state","always","deferred","arguments","fn","pipe","fns","newDefer","each","i","tuple","returned","progress","notify","onFulfilled","onRejected","onProgress","maxDepth","depth","handler","special","that","args","mightThrow","TypeError","notifyWith","resolveWith","process","e","exceptionHook","stackTrace","rejectWith","getStackHook","window","setTimeout","add","obj","list","stateString","disable","lock","fire","fireWith","when","singleValue","remaining","length","resolveContexts","Array","resolveValues","master","updateFunc"],"mappings":"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","file":"deferred.js","sourcesContent":["/* */ \ndefine( [\n\t\"./core\",\n\t\"./var/slice\",\n\t\"./callbacks\"\n], function( jQuery, slice ) {\n\n\"use strict\";\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && jQuery.isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && jQuery.isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( jQuery.isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tjQuery.isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\nreturn jQuery;\n} );\n"]}